"use strict";(self.webpackChunklayover=self.webpackChunklayover||[]).push([[637],{637:(ca,I,_)=>{_.r(I),_.d(I,{HotelsModule:()=>ra});var h=_(9808),R=_(8555),Q=_(5107),t=_(5e3),A=_(5936),T=_(6624),s=_(3075),q=_(2290),L=_(6808),S=_(2930),w=_(7600),O=_(9047),P=_(4984);function E(n,i){1&n&&(t.TgZ(0,"div",36),t._UZ(1,"app-loader"),t.qZA())}function B(n,i){if(1&n&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",null!=e.dashboardCount&&e.dashboardCount.totalLayover?null==e.dashboardCount?null:e.dashboardCount.totalLayover.toLocaleString():0,"")}}function j(n,i){1&n&&(t.TgZ(0,"div",36),t._UZ(1,"app-loader"),t.qZA())}function $(n,i){if(1&n&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",null!=e.dashboardCount&&e.dashboardCount.totalLayoverAccepted?null==e.dashboardCount?null:e.dashboardCount.totalLayoverAccepted.toLocaleString():0,"")}}function z(n,i){1&n&&(t.TgZ(0,"div",36),t._UZ(1,"app-loader"),t.qZA())}function G(n,i){if(1&n&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",null!=e.dashboardCount&&e.dashboardCount.totalLayoverDeclined?null==e.dashboardCount?null:e.dashboardCount.totalLayoverDeclined.toLocaleString():0,"")}}function V(n,i){if(1&n&&(t.TgZ(0,"option",38),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e)("selected","All"===e),t.xp6(1),t.hij(" ",e," ")}}function K(n,i){if(1&n&&(t.TgZ(0,"option",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function W(n,i){1&n&&(t.TgZ(0,"div",40),t._UZ(1,"app-spinner"),t.qZA())}function X(n,i){1&n&&(t.TgZ(0,"div",36),t._UZ(1,"app-loader"),t.qZA())}function tt(n,i){if(1&n&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.currencyConverter(null!=e.dashboardCount&&e.dashboardCount.amountReceivedByHotel?null==e.dashboardCount?null:e.dashboardCount.amountReceivedByHotel:0),"")}}function et(n,i){1&n&&(t.TgZ(0,"div",36),t._UZ(1,"app-loader"),t.qZA())}function nt(n,i){if(1&n&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.currencyConverter(null!=e.dashboardCount&&e.dashboardCount.openPayments?null==e.dashboardCount?null:e.dashboardCount.openPayments:0),"")}}function ot(n,i){1&n&&(t.TgZ(0,"div",36),t._UZ(1,"app-loader"),t.qZA())}function it(n,i){if(1&n&&(t.TgZ(0,"div",37),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.currencyConverter(null!=e.dashboardCount&&e.dashboardCount.closedPayments?null==e.dashboardCount?null:e.dashboardCount.closedPayments:0)," ")}}function lt(n,i){if(1&n&&(t.TgZ(0,"option",38),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e)("selected","All"===e),t.xp6(1),t.hij(" ",e," ")}}function at(n,i){if(1&n&&(t.TgZ(0,"option",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function rt(n,i){1&n&&(t.TgZ(0,"div",40),t._UZ(1,"app-spinner"),t.qZA())}w.kL.register(...w.zX);let st=(()=>{class n{constructor(e,o){this.layoverService=e,this.toastr=o,this.layoverStatus=["All","Accepted","Denied"],this.paymentStatus=["All","Pending","Received"],this.dashboardCountLoading=!1,this.years=[],this.currentLayoverStatus="All",this.currentLayoverYear=(new Date).getFullYear(),this.currentPaymentStatus="All",this.currentPaymentYear=(new Date).getFullYear(),this.totalLayoversLoading=!1,this.totalPaymentsLoading=!1,this.labels=[{month:"JAN",monthId:"1"},{month:"FEB",monthId:"2"},{month:"MAR",monthId:"3"},{month:"APR",monthId:"4"},{month:"MAY",monthId:"5"},{month:"JUN",monthId:"6"},{month:"JUL",monthId:"7"},{month:"AUG",monthId:"8"},{month:"SEP",monthId:"9"},{month:"OCT",monthId:"10"},{month:"NOV",monthId:"11"},{month:"DEC",monthId:"12"}]}ngOnInit(){this.getHotelLayoversAPI(),this.getHotelPaymentsAPI(),this.getHotelCounts(),this.getLastFiveYears()}hotelLayoverSummary(e){var o;null===(o=this.hotelLayoverSummaryGraph)||void 0===o||o.destroy(),this.hotelLayoverSummaryGraph=new w.kL("hotel-layover-summary",{type:"bar",data:{labels:this.labels.map(l=>null==l?void 0:l.month),datasets:[{type:"bar",label:"Count",backgroundColor:"#B6C9DC",borderColor:"#B6C9DC",data:e,borderWidth:.1,barPercentage:.9,borderSkipped:!1,categoryPercentage:1,barThickness:30,borderRadius:{bottomLeft:5,bottomRight:5,topLeft:5,topRight:5},hoverBackgroundColor:"#3278bd"}]},options:{maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{position:"left",title:{display:!0,text:"Count",font:{weight:"bold"}},grid:{display:!0,drawBorder:!1},ticks:{display:!0}},x:{axis:"x",ticks:{autoSkip:!1,maxRotation:90,minRotation:0},grid:{display:!1,drawBorder:!0}}}}})}hotelLayoverPaymentSummary(e,o){var l;null===(l=this.hotelLayoverPaymentSummaryGraph)||void 0===l||l.destroy(),this.hotelLayoverPaymentSummaryGraph=new w.kL("hotel-layover-payment-summary",{type:"bar",data:{labels:this.labels.map(a=>null==a?void 0:a.month),datasets:[{type:"bar",label:"Amount",backgroundColor:"#87c6f0",borderColor:"#87c6f0",data:o,borderWidth:.1,barPercentage:.9,borderSkipped:!1,categoryPercentage:1,barThickness:30,borderRadius:{bottomLeft:5,bottomRight:5,topLeft:5,topRight:5},hoverBackgroundColor:"#1492e6"}]},options:{maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{position:"left",title:{display:!0,text:"Amount",font:{weight:"bold"}},grid:{display:!0,drawBorder:!1},ticks:{display:!0,callback:(a,r,c)=>(Math.abs(Number(a))>=1e9?(Math.abs(Number(a))/1e9).toLocaleString("en-US",{style:"currency",currency:"EUR"})+"B":Math.abs(Number(a))>=1e6?(Math.abs(Number(a))/1e6).toLocaleString("en-US",{style:"currency",currency:"EUR"})+"M":Math.abs(Number(a))>=1e3?(Math.abs(Number(a))/1e3).toLocaleString("en-US",{style:"currency",currency:"EUR"})+"K":Math.abs(Number(a))).toLocaleString("en-US",{style:"currency",currency:"EUR"})}},x:{axis:"x",ticks:{autoSkip:!1,maxRotation:90,minRotation:0},grid:{display:!1,drawBorder:!0}}}}})}getLastFiveYears(){for(let e=2022;e<=(new Date).getFullYear();e++)this.years.push(e)}getHotelLayoversAPI(){const e={hotelId:this.layoverService.getLocalStorageValue("hotelId"),status:this.currentLayoverStatus,year:this.currentLayoverYear};this.totalLayoversLoading=!0,this.layoverService.getHotelLayovers(e).subscribe({next:o=>{if(this.totalLayoversLoading=!1,!(null==o?void 0:o.isError)&&o.data&&Object.keys(null==o?void 0:o.data).length>0){let l=[],a=[];for(let r in o.data)l.push(r),a[+r.split("-")[0]-1]=o.data[r];this.hotelLayoverSummary(a)}else this.totalLayoversLoading=!1,this.hotelLayoverSummary([])},error:o=>{var l;!o.isError&&o.data?(this.totalLayoversLoading=!1,this.toastr.error(null===(l=null==o?void 0:o.error)||void 0===l?void 0:l.message)):(this.totalLayoversLoading=!1,this.toastr.error("Sorry! Something went wrong"))}})}getHotelPaymentsAPI(){const e={hotelId:this.layoverService.getLocalStorageValue("hotelId"),status:this.currentPaymentStatus,year:this.currentPaymentYear};this.totalPaymentsLoading=!0,this.layoverService.getHotelPayments(e).subscribe({next:o=>{if(!(null==o?void 0:o.isError)&&o.data){this.totalPaymentsLoading=!1;let l=[],a=[];for(let r in o.data)l.push(r),a[+r.split("-")[0]-1]=o.data[r];this.hotelLayoverPaymentSummary(l,a)}},error:o=>{var l;!o.isError&&o.data?(this.totalPaymentsLoading=!1,this.toastr.error(null===(l=null==o?void 0:o.error)||void 0===l?void 0:l.message)):(this.totalPaymentsLoading=!1,this.toastr.error("Sorry! Something went wrong"))}})}getHotelCounts(){this.dashboardCountLoading=!0,this.layoverService.getHotelCounts().subscribe({next:e=>{!e.isError&&e.message&&(this.dashboardCount=e.data,this.dashboardCountLoading=!1)},error:e=>{var o;e.isError&&e.data?(this.dashboardCountLoading=!1,this.toastr.error(null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message)):(this.dashboardCountLoading=!1,this.toastr.error("Sorry! Something went wrong"))}})}currencyConverter(e){return(Math.abs(Number(e))>=1e9?(Math.abs(Number(e))/1e9).toLocaleString("en-US",{style:"currency",currency:"EUR"})+"B":Math.abs(Number(e))>=1e6?(Math.abs(Number(e))/1e6).toLocaleString("en-US",{style:"currency",currency:"EUR"})+"M":Math.abs(Number(e))>=1e3?(Math.abs(Number(e))/1e3).toLocaleString("en-US",{style:"currency",currency:"EUR"})+"K":Math.abs(Number(e))).toLocaleString("en-US",{style:"currency",currency:"EUR"})}ngOnDestroy(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T.y),t.Y36(q._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard"]],decls:83,vars:24,consts:[[1,"container-fluid"],[1,"row","justify-content-between","mb-3","mt-3"],[1,"col-md-4","card-background-info","row","rounded"],[1,"col-md-auto","py-2"],["width","100","src","assets/images/total-layover-hotel-flow-logo.png"],[1,"col-md-6","mt-3"],[1,"col-md-12","px-0","layover-text-primary","fw-bold"],["role","status","class","spinner",4,"ngIf"],["class","col-md-12 fw-bold count-text",4,"ngIf"],[1,"col-md-4","row","rounded","card-background-success"],["width","100","src","assets/images/accepted-layover-hotel-flow-logo.png"],[1,"col-md-12","px-0","text-success","fw-bold"],[1,"col-md-4","row","rounded","card-background-danger"],["width","100","src","assets/images/declined-layover-hotel-flow-logo.png"],[1,"col-md-12","px-0","text-danger","fw-bold"],[1,"row","mb-3"],[1,"col-md-12","px-0"],[1,"row"],[1,"col-md-8"],[1,"fw-bold"],[1,"col-md-2","d-flex","text-end"],[1,"py-1","px-2","cursor-pointer","shadow-none","me-2",3,"ngModel","ngModelChange"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"py-1","px-2","cursor-pointer","shadow-none",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","text-center my-4",4,"ngIf"],[2,"width","100%","height","350px !important","box-sizing","border-box","display","block",3,"ngClass"],["id","hotel-layover-summary",1,"w-100","h-100"],[1,"row","justify-content-between","mb-3"],[1,"col-md-4","row","rounded","card-background-info"],["width","100","src","assets/images/total-layover-payment-hotel-flow-logo.png"],[1,"col-md-6","px-0","mt-3"],["width","100","src","assets/images/accpted-layover-payment-hotel-flow-logo.png"],["width","100","src","assets/images/closed-layover-payment-hotel-flow-logo.png"],[1,""],["id","hotel-layover-payment-summary",1,"w-100","h-100"],["role","status",1,"spinner"],[1,"col-md-12","fw-bold","count-text"],[3,"value","selected"],[3,"value"],[1,"text-center","my-4"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"div",5)(6,"div",6),t._uU(7,"Total Layovers"),t.qZA(),t.YNc(8,E,2,0,"div",7),t.YNc(9,B,2,1,"div",8),t.qZA()(),t.TgZ(10,"div",9)(11,"div",3),t._UZ(12,"img",10),t.qZA(),t.TgZ(13,"div",5)(14,"div",11),t._uU(15,"Accepted Layovers"),t.qZA(),t.YNc(16,j,2,0,"div",7),t.YNc(17,$,2,1,"div",8),t.qZA()(),t.TgZ(18,"div",12)(19,"div",3),t._UZ(20,"img",13),t.qZA(),t.TgZ(21,"div",5)(22,"div",14),t._uU(23,"Denied Layovers"),t.qZA(),t.YNc(24,z,2,0,"div",7),t.YNc(25,G,2,1,"div",8),t.qZA()()(),t.TgZ(26,"div",15)(27,"div",16)(28,"mat-card")(29,"div",17)(30,"div",18)(31,"h4",19),t._uU(32,"Layovers"),t.qZA()(),t.TgZ(33,"div",20)(34,"select",21),t.NdJ("ngModelChange",function(a){return o.currentLayoverStatus=a})("ngModelChange",function(){return o.getHotelLayoversAPI()}),t.YNc(35,V,2,3,"option",22),t.qZA()(),t.TgZ(36,"div",20)(37,"select",23),t.NdJ("ngModelChange",function(a){return o.currentLayoverYear=a})("ngModelChange",function(){return o.getHotelLayoversAPI()}),t.YNc(38,K,2,2,"option",24),t.qZA()()(),t.YNc(39,W,2,0,"div",25),t.TgZ(40,"div",26),t._UZ(41,"canvas",27),t.qZA()()()(),t.TgZ(42,"div",28)(43,"div",29)(44,"div",3),t._UZ(45,"img",30),t.qZA(),t.TgZ(46,"div",31)(47,"div",6),t._uU(48,"Total Payments"),t.qZA(),t.YNc(49,X,2,0,"div",7),t.YNc(50,tt,2,1,"div",8),t.qZA()(),t.TgZ(51,"div",9)(52,"div",3),t._UZ(53,"img",32),t.qZA(),t.TgZ(54,"div",31)(55,"div",11),t._uU(56,"Open Payments"),t.qZA(),t.YNc(57,et,2,0,"div",7),t.YNc(58,nt,2,1,"div",8),t.qZA()(),t.TgZ(59,"div",12)(60,"div",3),t._UZ(61,"img",33),t.qZA(),t.TgZ(62,"div",31)(63,"div",14),t._uU(64,"Closed Payments"),t.qZA(),t.YNc(65,ot,2,0,"div",7),t.YNc(66,it,2,1,"div",8),t.qZA()()(),t.TgZ(67,"div",15)(68,"div",16)(69,"mat-card",34)(70,"div",17)(71,"div",18)(72,"h4",19),t._uU(73,"Payment"),t.qZA()(),t.TgZ(74,"div",20)(75,"select",21),t.NdJ("ngModelChange",function(a){return o.currentPaymentStatus=a})("ngModelChange",function(){return o.getHotelPaymentsAPI()}),t.YNc(76,lt,2,3,"option",22),t.qZA()(),t.TgZ(77,"div",20)(78,"select",23),t.NdJ("ngModelChange",function(a){return o.currentPaymentYear=a})("ngModelChange",function(){return o.getHotelPaymentsAPI()}),t.YNc(79,at,2,2,"option",24),t.qZA()()(),t.YNc(80,rt,2,0,"div",25),t.TgZ(81,"div",26),t._UZ(82,"canvas",35),t.qZA()()()()()),2&e&&(t.xp6(8),t.Q6J("ngIf",o.dashboardCountLoading),t.xp6(1),t.Q6J("ngIf",!o.dashboardCountLoading),t.xp6(7),t.Q6J("ngIf",o.dashboardCountLoading),t.xp6(1),t.Q6J("ngIf",!o.dashboardCountLoading),t.xp6(7),t.Q6J("ngIf",o.dashboardCountLoading),t.xp6(1),t.Q6J("ngIf",!o.dashboardCountLoading),t.xp6(9),t.Q6J("ngModel",o.currentLayoverStatus),t.xp6(1),t.Q6J("ngForOf",o.layoverStatus),t.xp6(2),t.Q6J("ngModel",o.currentLayoverYear),t.xp6(1),t.Q6J("ngForOf",o.years),t.xp6(1),t.Q6J("ngIf",o.totalLayoversLoading),t.xp6(1),t.Q6J("ngClass",o.totalLayoversLoading?"d-none":"d-block"),t.xp6(9),t.Q6J("ngIf",o.dashboardCountLoading),t.xp6(1),t.Q6J("ngIf",!o.dashboardCountLoading),t.xp6(7),t.Q6J("ngIf",o.dashboardCountLoading),t.xp6(1),t.Q6J("ngIf",!o.dashboardCountLoading),t.xp6(7),t.Q6J("ngIf",o.dashboardCountLoading),t.xp6(1),t.Q6J("ngIf",!o.dashboardCountLoading),t.xp6(9),t.Q6J("ngModel",o.currentPaymentStatus),t.xp6(1),t.Q6J("ngForOf",o.paymentStatus),t.xp6(2),t.Q6J("ngModel",o.currentPaymentYear),t.xp6(1),t.Q6J("ngForOf",o.years),t.xp6(1),t.Q6J("ngIf",o.totalPaymentsLoading),t.xp6(1),t.Q6J("ngClass",o.totalPaymentsLoading?"d-none":"d-block"))},directives:[h.O5,O.R,S.a8,s.EJ,s.JJ,s.On,h.sg,s.YN,s.Kr,P.O,h.mk],styles:[".count-text[_ngcontent-%COMP%]{font-size:30px}select[_ngcontent-%COMP%]{border:none;background-color:#f5f5f5;font-size:12px;font-weight:600;border-radius:4px}"]}),n})();var g=_(1149),v=_(5439),ct=_(2313),x=_(1223),Y=_(9722),H=_(6201),b=_(7021),N=_(3547),F=_(8908),k=_(6766),dt=_(3482);const ut=["matSort1"],mt=["paginator1"],_t=["matSort2"],pt=["paginator2"],gt=["matSort3"],ft=["paginator3"],ht=["matSort4"],vt=["paginator4"],xt=["CloseModal"],bt=["resetBtn"],Ct=["historyTab"];function Zt(n,i){if(1&n&&(t.TgZ(0,"mat-option",76),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",null==e?null:e.statusValue),t.xp6(1),t.hij("",null==e?null:e.statusTitle," ")}}function yt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",60)(1,"div",61)(2,"div",62)(3,"div")(4,"mat-label",63),t._uU(5,"Filter by Action : "),t.qZA()(),t.TgZ(6,"div")(7,"mat-form-field",64)(8,"mat-select",65),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().currentStatus=l})("ngModelChange",function(){t.CHM(e);const l=t.oxw(),a=t.MAs(118),r=t.MAs(148);return l.fetchAllRequestForHotel("history",l.dataSource4,a,r)}),t.YNc(9,Zt,2,2,"mat-option",66),t.qZA()()()(),t.TgZ(10,"div",67)(11,"span",68)(12,"mat-form-field",69)(13,"mat-label",63),t._uU(14,"Filter By Date :"),t.qZA(),t.TgZ(15,"mat-date-range-input",70)(16,"input",71),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().startDate=l}),t.qZA(),t.TgZ(17,"input",72),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().endDate=l})("dateChange",function(){t.CHM(e);const l=t.oxw(),a=t.MAs(118),r=t.MAs(148);return l.fetchAllRequestForHotel("history",l.dataSource4,a,r)}),t.qZA()(),t.TgZ(18,"span",73)(19,"img",74),t.NdJ("click",function(){t.CHM(e);const l=t.MAs(21),a=t.oxw(),r=t.MAs(118),c=t.MAs(148);return[l.open(),a.startDate=null,a.endDate=null,a.fetchAllRequestForHotel("history",a.dataSource4,r,c)]}),t.qZA()(),t._UZ(20,"mat-date-range-picker",null,75),t.qZA()()()()()}if(2&n){const e=t.MAs(21),o=t.oxw();t.xp6(8),t.Q6J("ngModel",o.currentStatus),t.xp6(1),t.Q6J("ngForOf",o.layoverStatus),t.xp6(6),t.Q6J("separator","to")("rangePicker",e),t.xp6(1),t.Q6J("ngModel",o.startDate),t.xp6(1),t.Q6J("ngModel",o.endDate)}}function Tt(n,i){1&n&&(t.TgZ(0,"th",77),t._uU(1," Airline/Airport/"),t._UZ(2,"br"),t._uU(3,"External Handling Company "),t.qZA())}function qt(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"p",79),t._uU(2,"Layover Name"),t.qZA(),t.TgZ(3,"span",80),t._uU(4),t.qZA()()),2&n){const e=i.$implicit;t.xp6(4),t.hij(" ",null==e?null:e.companyName,"")}}function At(n,i){1&n&&(t.TgZ(0,"th",81),t._uU(1," Count "),t.qZA())}function wt(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",88),t.TgZ(2,"div",89),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.breakfastPrice," ")}}function Pt(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",90),t.TgZ(2,"div",91),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.lunchPrice," ")}}function Nt(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",92),t.TgZ(2,"div",89),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.dinnerPrice," ")}}function Dt(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",93),t.TgZ(2,"div",89),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.beveragePrice," ")}}function kt(n,i){if(1&n&&(t.ynx(0),t.YNc(1,wt,4,1,"div",86),t.YNc(2,Pt,4,1,"div",86),t.YNc(3,Nt,4,1,"div",86),t.YNc(4,Dt,4,1,"div",86),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("BREAKFAST")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("LUNCH")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("DINNER")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("BEVERAGES"))}}function Ut(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"div",82)(2,"div")(3,"span",83),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",84),t.YNc(7,kt,5,4,"ng-container",85),t.qZA()()()()),2&n){const e=i.$implicit;t.xp6(4),t.Oqu(null==e?null:e.requestedCount),t.xp6(3),t.Q6J("ngIf",null==e?null:e.requestedMeals)}}function Mt(n,i){1&n&&(t.TgZ(0,"th",77),t._uU(1," Check-in "),t.qZA())}function It(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"p",94),t._uU(2),t.qZA(),t._UZ(3,"img",95),t.TgZ(4,"span",96),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.checkIntime.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.checkIntime.split(" ")[1]," ")}}function Rt(n,i){1&n&&(t.TgZ(0,"th",77),t._uU(1," Check-out "),t.qZA())}function St(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"p",94),t._uU(2),t.qZA(),t._UZ(3,"img",97),t.TgZ(4,"span",98),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.checkOutTime.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.checkOutTime.split(" ")[1]," ")}}function Yt(n,i){1&n&&(t.TgZ(0,"th",77),t._uU(1," Next Flight "),t.qZA())}function Ht(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"p",94),t._uU(2),t.qZA(),t._UZ(3,"img",99),t.TgZ(4,"span",100),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.nextFlightDepTime.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.nextFlightDepTime.split(" ")[1]," ")}}function Ft(n,i){1&n&&(t.TgZ(0,"th",81),t._uU(1," Layover Request "),t._UZ(2,"br"),t._uU(3," Date & Time "),t.qZA())}function Jt(n,i){if(1&n&&(t.TgZ(0,"td",101)(1,"p",94),t._uU(2),t.qZA(),t.TgZ(3,"p",102),t._UZ(4,"i",103),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.timestamp.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.timestamp.split(" ")[1]," ")}}function Qt(n,i){1&n&&(t.TgZ(0,"th",104),t._uU(1," Action "),t.qZA())}function Lt(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",105),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw().requestDecline(l)}),t._uU(2," Decline "),t.qZA(),t.TgZ(3,"button",106),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw().requestApprove(l)}),t._uU(4," Accept "),t.qZA(),t.BQk()}}function Ot(n,i){1&n&&(t.ynx(0),t._UZ(1,"img",107),t.TgZ(2,"span",108),t._uU(3," Request Accepted"),t.qZA(),t.BQk())}function Et(n,i){1&n&&(t.ynx(0),t.TgZ(1,"span",109),t._UZ(2,"img",110),t._uU(3," Request Declined"),t.qZA(),t.BQk())}function Bt(n,i){if(1&n&&(t.TgZ(0,"td",101),t.YNc(1,Lt,5,0,"ng-container",85),t.YNc(2,Ot,4,0,"ng-container",85),t.YNc(3,Et,4,0,"ng-container",85),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",null===e.status||"pending"==(null==e||null==e.status?null:e.status.toLowerCase())),t.xp6(1),t.Q6J("ngIf","accepted"===(null==e||null==e.status?null:e.status.toLowerCase())),t.xp6(1),t.Q6J("ngIf","denied"===(null==e||null==e.status?null:e.status.toLowerCase()))}}function jt(n,i){1&n&&t._UZ(0,"th",111)}function $t(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",115),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit,a=t.oxw();return[a.layoverService.downloadLOCFile(null==l?null:l.passengerListPath),a.isActivePassengerList(a.dataSource1,a.dataSource1.data.indexOf(l))]}),t.qZA()}}function zt(n,i){1&n&&(t.TgZ(0,"div",116)(1,"span",117),t._uU(2,"Loading..."),t.qZA()())}function Gt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",118),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit,a=t.oxw();return[a.layoverService.downloadLOCFile(null==l?null:l.locPath),a.isActiveLOC(a.dataSource1,a.dataSource1.data.indexOf(l))]}),t.qZA()}}function Vt(n,i){1&n&&(t.TgZ(0,"div",116)(1,"span",117),t._uU(2,"Loading..."),t.qZA()())}function Kt(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"span"),t.YNc(2,$t,1,0,"img",112),t.qZA(),t.YNc(3,zt,3,0,"div",113),t.YNc(4,Gt,1,0,"img",114),t.YNc(5,Vt,3,0,"div",113),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.Q6J("ngIf",null==e?null:e.passengerListPath),t.xp6(1),t.Q6J("ngIf",null==e?null:e.pList),t.xp6(1),t.Q6J("ngIf",null==e?null:e.locPath),t.xp6(1),t.Q6J("ngIf",null==e?null:e.loc)}}function Wt(n,i){1&n&&t._UZ(0,"tr",119)}function Xt(n,i){1&n&&t._UZ(0,"tr",120)}function te(n,i){if(1&n&&(t.TgZ(0,"mat-error",121),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.errorMsg," ")}}function ee(n,i){1&n&&(t.TgZ(0,"div",122),t._UZ(1,"app-spinner"),t.qZA())}function ne(n,i){1&n&&(t.TgZ(0,"th",77),t._uU(1," Airline/Airport/"),t._UZ(2,"br"),t._uU(3,"External Handling Company "),t.qZA())}function oe(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"p",79),t._uU(2,"Layover Name"),t.qZA(),t.TgZ(3,"span",80),t._uU(4),t.qZA()()),2&n){const e=i.$implicit;t.xp6(4),t.Oqu(null==e?null:e.companyName)}}function ie(n,i){1&n&&(t.TgZ(0,"th",81),t._uU(1," Count "),t.qZA())}function le(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",88),t.TgZ(2,"div",89),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.breakfastPrice," ")}}function ae(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",90),t.TgZ(2,"div",91),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.lunchPrice," ")}}function re(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",92),t.TgZ(2,"div",89),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.dinnerPrice," ")}}function se(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",93),t.TgZ(2,"div",89),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.beveragePrice," ")}}function ce(n,i){if(1&n&&(t.ynx(0),t.YNc(1,le,4,1,"div",86),t.YNc(2,ae,4,1,"div",86),t.YNc(3,re,4,1,"div",86),t.YNc(4,se,4,1,"div",86),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("BREAKFAST")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("LUNCH")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("DINNER")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("BEVERAGES"))}}function de(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"div",82)(2,"div")(3,"span",83),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",84),t.YNc(7,ce,5,4,"ng-container",85),t.qZA()()()()),2&n){const e=i.$implicit;t.xp6(4),t.Oqu(null==e?null:e.requestedCount),t.xp6(3),t.Q6J("ngIf",null==e?null:e.requestedMeals)}}function ue(n,i){1&n&&(t.TgZ(0,"th",77),t._uU(1," Check-in "),t.qZA())}function me(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"p",94),t._uU(2),t.qZA(),t._UZ(3,"img",95),t.TgZ(4,"span",96),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.checkIntime.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.checkIntime.split(" ")[1]," ")}}function _e(n,i){1&n&&(t.TgZ(0,"th",77),t._uU(1," Check-out "),t.qZA())}function pe(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"p",94),t._uU(2),t.qZA(),t._UZ(3,"img",97),t.TgZ(4,"span",98),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.checkOutTime.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.checkOutTime.split(" ")[1]," ")}}function ge(n,i){1&n&&(t.TgZ(0,"th",77),t._uU(1," Next Flight "),t.qZA())}function fe(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"p",94),t._uU(2),t.qZA(),t._UZ(3,"img",99),t.TgZ(4,"span",100),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.nextFlightDepTime.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.nextFlightDepTime.split(" ")[1]," ")}}function he(n,i){1&n&&(t.TgZ(0,"th",81),t._uU(1," Layover Request "),t._UZ(2,"br"),t._uU(3," Date & Time "),t.qZA())}function ve(n,i){if(1&n&&(t.TgZ(0,"td",101)(1,"p",94),t._uU(2),t.qZA(),t.TgZ(3,"p",102),t._UZ(4,"i",103),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.timestamp.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.timestamp.split(" ")[1]," ")}}function xe(n,i){1&n&&(t.TgZ(0,"th",104),t._uU(1," Action "),t.qZA())}function be(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",105),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw().requestDecline(l)}),t._uU(2," Decline "),t.qZA(),t.TgZ(3,"button",106),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw().requestApprove(l)}),t._uU(4," Accept "),t.qZA(),t.BQk()}}function Ce(n,i){1&n&&(t.ynx(0),t._UZ(1,"img",107),t.TgZ(2,"span",108),t._uU(3," Request Accepted"),t.qZA(),t.BQk())}function Ze(n,i){1&n&&(t.ynx(0),t.TgZ(1,"span",109),t._UZ(2,"img",110),t._uU(3," Request Declined"),t.qZA(),t.BQk())}function ye(n,i){if(1&n&&(t.TgZ(0,"td",101),t.YNc(1,be,5,0,"ng-container",85),t.YNc(2,Ce,4,0,"ng-container",85),t.YNc(3,Ze,4,0,"ng-container",85),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",null===e.status||"pending"==(null==e||null==e.status?null:e.status.toLowerCase())),t.xp6(1),t.Q6J("ngIf","accepted"===(null==e||null==e.status?null:e.status.toLowerCase())),t.xp6(1),t.Q6J("ngIf","denied"===(null==e||null==e.status?null:e.status.toLowerCase()))}}function Te(n,i){1&n&&t._UZ(0,"th",111)}function qe(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",115),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit,a=t.oxw();return[a.layoverService.downloadLOCFile(null==l?null:l.passengerListPath),a.isActivePassengerList(a.dataSource2,a.dataSource2.data.indexOf(l))]}),t.qZA()}}function Ae(n,i){1&n&&(t.TgZ(0,"div",116)(1,"span",117),t._uU(2,"Loading..."),t.qZA()())}function we(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",118),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit,a=t.oxw();return[a.layoverService.downloadLOCFile(null==l?null:l.locPath),a.isActiveLOC(a.dataSource2,a.dataSource2.data.indexOf(l))]}),t.qZA()}}function Pe(n,i){1&n&&(t.TgZ(0,"div",116)(1,"span",117),t._uU(2,"Loading..."),t.qZA()())}function Ne(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"span"),t.YNc(2,qe,1,0,"img",112),t.qZA(),t.YNc(3,Ae,3,0,"div",113),t.YNc(4,we,1,0,"img",114),t.YNc(5,Pe,3,0,"div",113),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.Q6J("ngIf",null==e?null:e.passengerListPath),t.xp6(1),t.Q6J("ngIf",null==e?null:e.pList),t.xp6(1),t.Q6J("ngIf",null==e?null:e.locPath),t.xp6(1),t.Q6J("ngIf",null==e?null:e.loc)}}function De(n,i){1&n&&t._UZ(0,"tr",119)}function ke(n,i){1&n&&t._UZ(0,"tr",120)}function Ue(n,i){if(1&n&&(t.TgZ(0,"mat-error",121),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.errorMsg," ")}}function Me(n,i){1&n&&(t.TgZ(0,"div",122),t._UZ(1,"app-spinner"),t.qZA())}function Ie(n,i){1&n&&(t.TgZ(0,"th",77),t._uU(1," Airline/Airport/"),t._UZ(2,"br"),t._uU(3,"External Handling Company "),t.qZA())}function Re(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"p",79),t._uU(2,"Layover Name"),t.qZA(),t.TgZ(3,"span",80),t._uU(4),t.qZA()()),2&n){const e=i.$implicit;t.xp6(4),t.hij(" ",null==e?null:e.companyName,"")}}function Se(n,i){1&n&&(t.TgZ(0,"th",81),t._uU(1," Count "),t.qZA())}function Ye(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",88),t.TgZ(2,"div",89),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.breakfastPrice," ")}}function He(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",90),t.TgZ(2,"div",91),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.lunchPrice," ")}}function Fe(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",92),t.TgZ(2,"div",89),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.dinnerPrice," ")}}function Je(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",93),t.TgZ(2,"div",89),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.beveragePrice," ")}}function Qe(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Ye,4,1,"div",86),t.YNc(2,He,4,1,"div",86),t.YNc(3,Fe,4,1,"div",86),t.YNc(4,Je,4,1,"div",86),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("BREAKFAST")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("LUNCH")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("DINNER")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("BEVERAGES"))}}function Le(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"div",82)(2,"div")(3,"span",83),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",84),t.YNc(7,Qe,5,4,"ng-container",85),t.qZA()()()()),2&n){const e=i.$implicit;t.xp6(4),t.Oqu(null==e?null:e.requestedCount),t.xp6(3),t.Q6J("ngIf",null==e?null:e.requestedMeals)}}function Oe(n,i){1&n&&(t.TgZ(0,"th",77),t._uU(1," Check-in "),t.qZA())}function Ee(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"p",94),t._uU(2),t.qZA(),t._UZ(3,"img",95),t.TgZ(4,"span",96),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.checkIntime.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.checkIntime.split(" ")[1]," ")}}function Be(n,i){1&n&&(t.TgZ(0,"th",77),t._uU(1," Check-out "),t.qZA())}function je(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"p",94),t._uU(2),t.qZA(),t._UZ(3,"img",97),t.TgZ(4,"span",98),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.checkOutTime.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.checkOutTime.split(" ")[1]," ")}}function $e(n,i){1&n&&(t.TgZ(0,"th",77),t._uU(1," Next Flight "),t.qZA())}function ze(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"p",94),t._uU(2),t.qZA(),t._UZ(3,"img",99),t.TgZ(4,"span",100),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.nextFlightDepTime.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.nextFlightDepTime.split(" ")[1]," ")}}function Ge(n,i){1&n&&(t.TgZ(0,"th",81),t._uU(1," Layover Request "),t._UZ(2,"br"),t._uU(3," Date & Time "),t.qZA())}function Ve(n,i){if(1&n&&(t.TgZ(0,"td",101)(1,"p",94),t._uU(2),t.qZA(),t.TgZ(3,"p",102),t._UZ(4,"i",103),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.timestamp.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.timestamp.split(" ")[1]," ")}}function Ke(n,i){1&n&&(t.TgZ(0,"th",104),t._uU(1," Action "),t.qZA())}function We(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",105),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw().requestDecline(l)}),t._uU(2," Decline "),t.qZA(),t.TgZ(3,"button",106),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw().requestApprove(l)}),t._uU(4," Accept "),t.qZA(),t.BQk()}}function Xe(n,i){1&n&&(t.ynx(0),t._UZ(1,"img",107),t.TgZ(2,"span",108),t._uU(3," Request Accepted"),t.qZA(),t.BQk())}function tn(n,i){1&n&&(t.ynx(0),t.TgZ(1,"span",109),t._UZ(2,"img",110),t._uU(3," Request Declined"),t.qZA(),t.BQk())}function en(n,i){if(1&n&&(t.TgZ(0,"td",101),t.YNc(1,We,5,0,"ng-container",85),t.YNc(2,Xe,4,0,"ng-container",85),t.YNc(3,tn,4,0,"ng-container",85),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",null===e.status||"pending"==(null==e||null==e.status?null:e.status.toLowerCase())),t.xp6(1),t.Q6J("ngIf","accepted"===(null==e||null==e.status?null:e.status.toLowerCase())),t.xp6(1),t.Q6J("ngIf","denied"===(null==e||null==e.status?null:e.status.toLowerCase()))}}function nn(n,i){1&n&&t._UZ(0,"th",111)}function on(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",115),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit,a=t.oxw();return[a.layoverService.downloadLOCFile(null==l?null:l.passengerListPath),a.isActivePassengerList(a.dataSource3,a.dataSource3.data.indexOf(l))]}),t.qZA()}}function ln(n,i){1&n&&(t.TgZ(0,"div",116)(1,"span",117),t._uU(2,"Loading..."),t.qZA()())}function an(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",118),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit,a=t.oxw();return[a.layoverService.downloadLOCFile(null==l?null:l.locPath),a.isActiveLOC(a.dataSource3,a.dataSource3.data.indexOf(l))]}),t.qZA()}}function rn(n,i){1&n&&(t.TgZ(0,"div",116)(1,"span",117),t._uU(2,"Loading..."),t.qZA()())}function sn(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"span"),t.YNc(2,on,1,0,"img",112),t.qZA(),t.YNc(3,ln,3,0,"div",113),t.YNc(4,an,1,0,"img",114),t.YNc(5,rn,3,0,"div",113),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.Q6J("ngIf",null==e?null:e.passengerListPath),t.xp6(1),t.Q6J("ngIf",null==e?null:e.pList),t.xp6(1),t.Q6J("ngIf",null==e?null:e.locPath),t.xp6(1),t.Q6J("ngIf",null==e?null:e.loc)}}function cn(n,i){1&n&&t._UZ(0,"tr",119)}function dn(n,i){1&n&&t._UZ(0,"tr",120)}function un(n,i){if(1&n&&(t.TgZ(0,"mat-error",121),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.errorMsg," ")}}function mn(n,i){1&n&&(t.TgZ(0,"div",122),t._UZ(1,"app-spinner"),t.qZA())}function _n(n,i){1&n&&(t.TgZ(0,"th",77),t._uU(1," Airline/Airport/"),t._UZ(2,"br"),t._uU(3,"External Handling Company "),t.qZA())}function pn(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"p",79),t._uU(2,"Layover Name"),t.qZA(),t.TgZ(3,"span",80),t._uU(4),t.qZA()()),2&n){const e=i.$implicit;t.xp6(4),t.hij(" ",null==e?null:e.companyName,"")}}function gn(n,i){1&n&&(t.TgZ(0,"th",81),t._uU(1," Count "),t.qZA())}function fn(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",88),t.TgZ(2,"div",89),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.breakfastPrice," ")}}function hn(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",90),t.TgZ(2,"div",91),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.lunchPrice," ")}}function vn(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",92),t.TgZ(2,"div",89),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.dinnerPrice," ")}}function xn(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",93),t.TgZ(2,"div",89),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.beveragePrice," ")}}function bn(n,i){if(1&n&&(t.ynx(0),t.YNc(1,fn,4,1,"div",86),t.YNc(2,hn,4,1,"div",86),t.YNc(3,vn,4,1,"div",86),t.YNc(4,xn,4,1,"div",86),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("BREAKFAST")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("LUNCH")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("DINNER")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("BEVERAGES"))}}function Cn(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"div",82)(2,"div")(3,"span",83),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",84),t.YNc(7,bn,5,4,"ng-container",85),t.qZA(),t._UZ(8,"div",123),t.qZA()()()),2&n){const e=i.$implicit;t.xp6(4),t.Oqu(null==e?null:e.requestedCount),t.xp6(3),t.Q6J("ngIf",null==e?null:e.requestedMeals)}}function Zn(n,i){1&n&&(t.TgZ(0,"th",77),t._uU(1," Check-in "),t.qZA())}function yn(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"p",94),t._uU(2),t.qZA(),t._UZ(3,"img",95),t.TgZ(4,"span",96),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.checkIntime.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.checkIntime.split(" ")[1]," ")}}function Tn(n,i){1&n&&(t.TgZ(0,"th",77),t._uU(1," Check-out "),t.qZA())}function qn(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"p",94),t._uU(2),t.qZA(),t._UZ(3,"img",97),t.TgZ(4,"span",98),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.checkOutTime.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.checkOutTime.split(" ")[1]," ")}}function An(n,i){1&n&&(t.TgZ(0,"th",77),t._uU(1," Next Flight "),t.qZA())}function wn(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"p",94),t._uU(2),t.qZA(),t._UZ(3,"img",99),t.TgZ(4,"span",100),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.nextFlightDepTime.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.nextFlightDepTime.split(" ")[1]," ")}}function Pn(n,i){1&n&&(t.TgZ(0,"th",81),t._uU(1," Layover Request "),t._UZ(2,"br"),t._uU(3," Date & Time "),t.qZA())}function Nn(n,i){if(1&n&&(t.TgZ(0,"td",101)(1,"p",94),t._uU(2),t.qZA(),t.TgZ(3,"p",102),t._UZ(4,"i",103),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.timestamp.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.timestamp.split(" ")[1]," ")}}function Dn(n,i){1&n&&(t.TgZ(0,"th",104),t._uU(1," Action "),t.qZA())}function kn(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",105),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw().requestDecline(l)}),t._uU(2," Decline "),t.qZA(),t.TgZ(3,"button",106),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw().requestApprove(l)}),t._uU(4," Accept "),t.qZA(),t.BQk()}}function Un(n,i){1&n&&(t.ynx(0),t._UZ(1,"img",107),t.TgZ(2,"span",108),t._uU(3," Request Accepted"),t.qZA(),t.BQk())}function Mn(n,i){1&n&&(t.ynx(0),t.TgZ(1,"span",109),t._UZ(2,"img",110),t._uU(3," Request Declined"),t.qZA(),t.BQk())}function In(n,i){if(1&n&&(t.TgZ(0,"td",101),t.YNc(1,kn,5,0,"ng-container",85),t.YNc(2,Un,4,0,"ng-container",85),t.YNc(3,Mn,4,0,"ng-container",85),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",null===e.status||"pending"==(null==e||null==e.status?null:e.status.toLowerCase())),t.xp6(1),t.Q6J("ngIf","accepted"===(null==e||null==e.status?null:e.status.toLowerCase())),t.xp6(1),t.Q6J("ngIf","denied"===(null==e||null==e.status?null:e.status.toLowerCase()))}}function Rn(n,i){1&n&&t._UZ(0,"th",111)}function Sn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",115),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit,a=t.oxw();return[a.layoverService.downloadLOCFile(null==l?null:l.passengerListPath),a.isActivePassengerList(a.dataSource4,a.dataSource4.data.indexOf(l))]}),t.qZA()}}function Yn(n,i){1&n&&(t.TgZ(0,"div",116)(1,"span",117),t._uU(2,"Loading..."),t.qZA()())}function Hn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",118),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit,a=t.oxw();return[a.layoverService.downloadLOCFile(null==l?null:l.locPath),a.isActiveLOC(a.dataSource4,a.dataSource4.data.indexOf(l))]}),t.qZA()}}function Fn(n,i){1&n&&(t.TgZ(0,"div",116)(1,"span",117),t._uU(2,"Loading..."),t.qZA()())}function Jn(n,i){if(1&n&&(t.TgZ(0,"td",78)(1,"span"),t.YNc(2,Sn,1,0,"img",112),t.qZA(),t.YNc(3,Yn,3,0,"div",113),t.YNc(4,Hn,1,0,"img",114),t.YNc(5,Fn,3,0,"div",113),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.Q6J("ngIf",(null==e?null:e.passengerListPath)&&!(null!=e&&e.pList)),t.xp6(1),t.Q6J("ngIf",null==e?null:e.pList),t.xp6(1),t.Q6J("ngIf",null==e?null:e.locPath),t.xp6(1),t.Q6J("ngIf",null==e?null:e.loc)}}function Qn(n,i){1&n&&t._UZ(0,"tr",119)}function Ln(n,i){1&n&&t._UZ(0,"tr",120)}function On(n,i){if(1&n&&(t.TgZ(0,"mat-error",121),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.errorMsg," ")}}function En(n,i){1&n&&(t.TgZ(0,"div",122),t._UZ(1,"app-spinner"),t.qZA())}function Bn(n,i){1&n&&(t.TgZ(0,"div",122),t._UZ(1,"app-spinner"),t.qZA())}function jn(n,i){1&n&&(t.TgZ(0,"div",124)(1,"div",123)(2,"div",125)(3,"label",126),t._uU(4,"Add Note (If Required)"),t.qZA(),t.TgZ(5,"div")(6,"mat-form-field",127),t._UZ(7,"input",128),t.qZA()()()()())}function $n(n,i){1&n&&(t.TgZ(0,"div",122),t._UZ(1,"app-spinner"),t.qZA())}function zn(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Single Room is required "),t.qZA())}function Gn(n,i){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ","Only "+(null==e.currentElement?null:e.currentElement.singleRooms)+" Single Rooms are available"," ")}}function Vn(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Single Room is required "),t.qZA())}function Kn(n,i){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ","Only "+(null==e.currentElement?null:e.currentElement.doubleRooms)+" Double Rooms are available"," ")}}function Wn(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Accessible Rooms is required "),t.qZA())}function Xn(n,i){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ","Only "+(null==e.currentElement?null:e.currentElement.accessibleRooms)+" Accessible Rooms are available"," ")}}function to(n,i){if(1&n&&(t.TgZ(0,"div",124)(1,"div",123)(2,"div",129)(3,"label",126),t._uU(4,"Single Room"),t.qZA(),t.TgZ(5,"div")(6,"mat-form-field",127),t._UZ(7,"input",130),t.YNc(8,zn,2,0,"mat-error",85),t.YNc(9,Gn,2,1,"mat-error",85),t.qZA()()(),t.TgZ(10,"div",129)(11,"label",126),t._uU(12,"Double Room"),t.qZA(),t.TgZ(13,"div")(14,"mat-form-field",127),t._UZ(15,"input",131),t.YNc(16,Vn,2,0,"mat-error",85),t.YNc(17,Kn,2,1,"mat-error",85),t.qZA()()(),t.TgZ(18,"div",129)(19,"label",126),t._uU(20,"Accessible Room"),t.qZA(),t.TgZ(21,"div")(22,"mat-form-field",127),t._UZ(23,"input",132),t.YNc(24,Wn,2,0,"mat-error",85),t.YNc(25,Xn,2,1,"mat-error",85),t.qZA()()(),t.TgZ(26,"div",133)(27,"p")(28,"mat-checkbox",134),t._uU(29,"Breakfast"),t.qZA()()(),t.TgZ(30,"div",133)(31,"p")(32,"mat-checkbox",135),t._uU(33,"Lunch"),t.qZA()()(),t.TgZ(34,"div",133)(35,"p")(36,"mat-checkbox",136),t._uU(37,"Dinner"),t.qZA()()(),t.TgZ(38,"div",133)(39,"p")(40,"mat-checkbox",137),t._uU(41,"Drink"),t.qZA()()(),t.TgZ(42,"div",125)(43,"label",126),t._uU(44,"Add Note (If Required)"),t.qZA(),t.TgZ(45,"div")(46,"mat-form-field",127),t._UZ(47,"input",138),t.qZA()()()()()),2&n){const e=t.oxw();let o,l,a,r,c,m;t.xp6(8),t.Q6J("ngIf",null==e.acceptedFormModel||null==(o=e.acceptedFormModel.get("singleRooms"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.acceptedFormModel||null==(l=e.acceptedFormModel.get("singleRooms"))||null==l.errors?null:l.errors.max),t.xp6(7),t.Q6J("ngIf",null==e.acceptedFormModel||null==(a=e.acceptedFormModel.get("doubleRooms"))||null==a.errors?null:a.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.acceptedFormModel||null==(r=e.acceptedFormModel.get("doubleRooms"))||null==r.errors?null:r.errors.max),t.xp6(7),t.Q6J("ngIf",null==e.acceptedFormModel||null==(c=e.acceptedFormModel.get("accessibleRooms"))||null==c.errors?null:c.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.acceptedFormModel||null==(m=e.acceptedFormModel.get("accessibleRooms"))||null==m.errors?null:m.errors.max)}}const D=function(){return[5,10,50,100]};let eo=(()=>{class n{constructor(e,o,l,a,r){this.sanitizer=e,this.layoverService=o,this.fb=l,this.toster=a,this.changeDetector=r,this.today=new Date,this.isLoading=!1,this.isHistory=!1,this.dataSource1=new g.by,this.dataSource2=new g.by,this.dataSource3=new g.by,this.dataSource4=new g.by,this.isPending=!1,this.displayedColumns=["companyName","requestedCount","timeStamp","checkIntime","checkOutTime","nextFlightDepTime","action","download"],this.currentStatus="All",this.layoverStatus=[{statusTitle:"All",statusValue:"All"},{statusTitle:"Accepted",statusValue:"Accepted"},{statusTitle:"Declined",statusValue:"Denied"},{statusTitle:"Pending",statusValue:"Pending"}],this.startDate=null,this.endDate=null}isHistoryTab(e){this.isHistory=e}ngAfterViewInit(){this.fetchAllRequestForHotel("today",this.dataSource1,this.matSort1,this.paginator1),this.changeDetector.detectChanges()}ngOnInit(){this.noteForRejection=this.fb.group({addNote:[""]}),this.acceptedFormModel=this.fb.group({singleRooms:["",s.kI.required],doubleRooms:["",s.kI.required],accessibleRooms:["",s.kI.required],Breakfast:[!1],Lunch:[!1],Dinner:[!1],Drink:[!1],addNote:[""]})}requestDecline(e){this.deniedReqBody={layoverRequestId:e.layoverRequestId,status:"Denied",responseNote:this.noteForRejection.get("addNote").value}}requestAfterDenied(){this.isPending=!0,this.deniedReqBody=Object.assign(Object.assign({},this.deniedReqBody),{responseNote:this.noteForRejection.value.addNote}),this.deniedReqBody&&this.layoverService.approveOrDeclineHotel(this.deniedReqBody).subscribe({next:e=>{this.toster.success(e.message),this.message="Request Denied",this.isPending=!1,this.closeBtn.nativeElement.click(),setTimeout(()=>{this.fetchAllRequestForHotel("today",this.dataSource1,this.matSort1,this.paginator1),this.fetchAllRequestForHotel("yesterday",this.dataSource2,this.matSort2,this.paginator2),this.fetchAllRequestForHotel("lastweek",this.dataSource3,this.matSort3,this.paginator3),this.fetchAllRequestForHotel("history",this.dataSource4,this.matSort4,this.paginator4)})},error:e=>{var o;(null==e?void 0:e.error).isError?(this.isPending=!1,this.toster.error(null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message)):this.toster.error("Sorry! Something went wrong")}})}requestApprove(e){var o,l,a;this.currentElement=e,this.acceptedFormModel.patchValue({singleRooms:null==e?void 0:e.requestedSingleRooms,doubleRooms:null==e?void 0:e.requestedDoubleRooms,accessibleRooms:null==e?void 0:e.requestedAccessibleRooms,Breakfast:null==e?void 0:e.requestedMeals.map(r=>null==r?void 0:r.toLowerCase()).includes("breakfast"),Lunch:null===(o=null==e?void 0:e.requestedMeals)||void 0===o?void 0:o.map(r=>null==r?void 0:r.toLowerCase()).includes("lunch"),Dinner:null===(l=null==e?void 0:e.requestedMeals)||void 0===l?void 0:l.map(r=>null==r?void 0:r.toLowerCase()).includes("dinner"),Drink:null===(a=null==e?void 0:e.requestedMeals)||void 0===a?void 0:a.map(r=>null==r?void 0:r.toLowerCase()).includes("beverages"),layoverRequestId:null==e?void 0:e.layoverRequestId,status:"Accepted",beveragePrice:null==e?void 0:e.beveragePrice,breakfastPrice:null==e?void 0:e.breakfastPrice,lunchPrice:null==e?void 0:e.lunchPrice,dinnerPrice:null==e?void 0:e.dinnerPrice}),this.acceptedFormModel.get("singleRooms").addValidators(s.kI.max(null==e?void 0:e.singleRooms)),this.acceptedFormModel.get("doubleRooms").addValidators(s.kI.max(null==e?void 0:e.doubleRooms)),this.acceptedFormModel.get("accessibleRooms").addValidators(s.kI.max(null==e?void 0:e.accessibleRooms))}switchToHistory(e){this.historyTab.nativeElement.click(),this.fetchAllRequestForHotel("history",this.dataSource4,this.matSort4,this.paginator4)}requestAfterApprove(){var e;let o=[];o.push(this.acceptedFormModel.get("Breakfast").value?"BREAKFAST":null),o.push(this.acceptedFormModel.get("Lunch").value?"LUNCH":null),o.push(this.acceptedFormModel.get("Dinner").value?"DINNER":null),o.push(this.acceptedFormModel.get("Drink").value?"BEVERAGES":null),this.approveReqBody={layoverRequestId:null===(e=this.currentElement)||void 0===e?void 0:e.layoverRequestId,acceptedCount:+this.acceptedFormModel.get("singleRooms").value+ +this.acceptedFormModel.get("doubleRooms").value+ +this.acceptedFormModel.get("accessibleRooms").value,acceptedSingleRooms:this.acceptedFormModel.get("singleRooms").value,acceptedDoubleRooms:this.acceptedFormModel.get("doubleRooms").value,acceptedAccessibleRooms:this.acceptedFormModel.get("accessibleRooms").value,acceptedMeals:o.filter(l=>l),status:"Accepted",responseNote:this.acceptedFormModel.get("addNote").value,adminNotify:!1},this.isPending=!0,this.acceptedFormModel.valid&&this.layoverService.approveOrDeclineHotel(this.approveReqBody).subscribe({next:l=>{this.toster.success(l.message),this.isPending=!1,this.closeBtn.nativeElement.click(),setTimeout(()=>{var a,r,c;this.layoverService.requestNotify([{requestId:null===(a=this.currentElement)||void 0===a?void 0:a.layoverRequestId,adminNotify:null===(r=this.currentElement)||void 0===r?void 0:r.adminNotify,companyNotify:!1,hotelNotify:null===(c=this.currentElement)||void 0===c?void 0:c.hotelNotify}]).subscribe(),this.fetchAllRequestForHotel("today",this.dataSource1,this.matSort1,this.paginator1),this.fetchAllRequestForHotel("yesterday",this.dataSource2,this.matSort2,this.paginator2),this.fetchAllRequestForHotel("lastweek",this.dataSource3,this.matSort3,this.paginator3),this.fetchAllRequestForHotel("history",this.dataSource4,this.matSort4,this.paginator4)})},error:l=>{var a;(null==l?void 0:l.error).isError?(this.isPending=!1,this.toster.error(null===(a=null==l?void 0:l.error)||void 0===a?void 0:a.message)):(this.isPending=!1,this.toster.error("Request Accepatance failed"))}})}fetchAllRequestForHotel(e,o,l,a){var r,c,m,p;setTimeout(()=>{o.data=[],o.paginator=null,o.sort=null,this.errorMsg=""});let d={requestId:this.layoverService.getLocalStorageValue("hotelDetailsId"),startDateTime:null,endDateTime:null};"today"===e?(d.startDateTime=v((new Date).setHours(0,0,0,0)).format("DD-MM-YYYY HH:mm:ss"),d.endDateTime=v((new Date).setHours(23,59,0,0)).format("DD-MM-YYYY HH:mm:ss")):"yesterday"===e?(d.startDateTime=v(new Date(Date.now()-864e5).setHours(1,0,0,0)).format("DD-MM-YYYY HH:mm:ss"),d.endDateTime=v(new Date(Date.now()-864e5).setHours(23,59,0,0)).format("DD-MM-YYYY HH:mm:ss")):"lastweek"===e?(d.startDateTime=v((new Date).setHours(0,0,0,0)).subtract(7,"days").format("DD-MM-YYYY HH:mm:ss"),d.endDateTime=v((new Date).setHours(23,59,0,0)).format("DD-MM-YYYY HH:mm:ss")):"history"===e&&this.startDate&&this.endDate&&(d.startDateTime=v(null===(c=null===(r=this.startDate)||void 0===r?void 0:r._d)||void 0===c?void 0:c.setHours(0,0,0,0)).format("DD-MM-YYYY HH:mm:ss"),d.endDateTime=v(null===(p=null===(m=this.endDate)||void 0===m?void 0:m._d)||void 0===p?void 0:p.setHours(23,59,0,0)).format("DD-MM-YYYY HH:mm:ss")),this.isLoading=!0,this.layoverService.fetchAllRequestForHotel(d).subscribe({next:u=>{var C;if(!u.isError&&Array.isArray(null==u?void 0:u.data)&&(null===(C=null==u?void 0:u.data)||void 0===C?void 0:C.length)>0){this.isLoading=!1,o.data=u.data,o.data=o.data.map(f=>Object.assign(Object.assign({},f),{pList:!1,loc:!1})),this.currentRequestDataSource=o.data;let y=this.currentRequestDataSource.filter(f=>!(null==f?void 0:f.hotelNotify)).map(f=>({requestId:null==f?void 0:f.layoverRequestId,adminNotify:null==f?void 0:f.adminNotify,companyNotify:null==f?void 0:f.companyNotify,hotelNotify:!0}));console.log(y),this.layoverService.requestNotify(y).subscribe(),this.layoverCurrentStatus(o),setTimeout(()=>{o.sort=l,o.paginator=a}),this.errorMsg=""}else this.isLoading=!1,o.data=[],this.errorMsg="No data found"},error:u=>{(null==u?void 0:u.error).isError?(this.isLoading=!1,o.data=[],this.errorMsg="No data found"):(this.isLoading=!1,o.data=[],this.toster.error("Sorry! Something went wrong"))}})}closeAcceptModel(){setTimeout(()=>{this.resetBtn.nativeElement.click()})}closeDeniedModel(){setTimeout(()=>{this.resetBtn.nativeElement.click()})}ngOnDestroy(){setTimeout(()=>{this.resetBtn.nativeElement.click()})}isActivePassengerList(e,o){var l,a;null===(a=null===(l=this.layoverService)||void 0===l?void 0:l.isLoading)||void 0===a||a.subscribe(r=>{var c;e.data=null===(c=null==e?void 0:e.data)||void 0===c?void 0:c.map((m,p)=>Object.assign(Object.assign({},m),o===p?{pList:r}:{pList:!1}))})}isActiveLOC(e,o){var l,a;null===(a=null===(l=this.layoverService)||void 0===l?void 0:l.isLoading)||void 0===a||a.subscribe(r=>{var c;e.data=null===(c=null==e?void 0:e.data)||void 0===c?void 0:c.map((m,p)=>Object.assign(Object.assign({},m),o===p?{loc:r}:{loc:!1}))})}layoverCurrentStatus(e){var o,l,a,r,c,m,p;e.data=[],e.data=this.currentRequestDataSource,"all"===(null===(o=this.currentStatus)||void 0===o?void 0:o.toLowerCase())?(e.data=e.data,this.errorMsg=e.data.length>0?"":"No Data found"):"accepted"===(null===(l=this.currentStatus)||void 0===l?void 0:l.toLowerCase())?(e.data=null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.filter(d=>{var u;return"accepted"===(null===(u=null==d?void 0:d.status)||void 0===u?void 0:u.toLowerCase())}),this.errorMsg=e.data.length>0?"":"No Data found"):"denied"===(null===(r=this.currentStatus)||void 0===r?void 0:r.toLowerCase())?(e.data=null===(c=null==e?void 0:e.data)||void 0===c?void 0:c.filter(d=>{var u;return"denied"===(null===(u=null==d?void 0:d.status)||void 0===u?void 0:u.toLowerCase())}),this.errorMsg=e.data.length>0?"":"No Data found"):"pending"===(null===(m=this.currentStatus)||void 0===m?void 0:m.toLowerCase())&&(e.data=null===(p=null==e?void 0:e.data)||void 0===p?void 0:p.filter(d=>!(null==d?void 0:d.status)),this.errorMsg=e.data.length>0?"":"No Data found")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ct.H7),t.Y36(T.y),t.Y36(s.qu),t.Y36(q._W),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-requests"]],viewQuery:function(e,o){if(1&e&&(t.Gf(ut,5),t.Gf(mt,5),t.Gf(_t,5),t.Gf(pt,5),t.Gf(gt,5),t.Gf(ft,5),t.Gf(ht,5),t.Gf(vt,5),t.Gf(xt,5),t.Gf(bt,5),t.Gf(Ct,5)),2&e){let l;t.iGM(l=t.CRH())&&(o.matSort1=l.first),t.iGM(l=t.CRH())&&(o.paginator1=l.first),t.iGM(l=t.CRH())&&(o.matSort2=l.first),t.iGM(l=t.CRH())&&(o.paginator2=l.first),t.iGM(l=t.CRH())&&(o.matSort3=l.first),t.iGM(l=t.CRH())&&(o.paginator3=l.first),t.iGM(l=t.CRH())&&(o.matSort4=l.first),t.iGM(l=t.CRH())&&(o.paginator4=l.first),t.iGM(l=t.CRH())&&(o.closeBtn=l.first),t.iGM(l=t.CRH())&&(o.resetBtn=l.first),t.iGM(l=t.CRH())&&(o.historyTab=l.first)}},decls:182,vars:35,consts:[[1,"container-fluid","pt-3","mt-2",2,"background","#fafcff 0% 0% no-repeat padding-box","box-shadow","1px 1px 10px #00000029"],["class","float-end",4,"ngIf"],["id","myTab","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","today-tab","data-bs-toggle","tab","data-bs-target","#today","type","button","role","tab","aria-controls","today","aria-selected","true",1,"nav-link","position-relative","px-5","active",3,"click"],["id","yesterday-tab","data-bs-toggle","tab","data-bs-target","#yesterday","type","button","role","tab","aria-controls","yesterday","aria-selected","false",1,"nav-link","position-relative","px-5",3,"click"],["id","last-week-tab","data-bs-toggle","tab","data-bs-target","#last-week","type","button","role","tab","aria-controls","last-week","aria-selected","false",1,"nav-link","position-relative","px-5",3,"click"],["id","history-tab","data-bs-toggle","tab","data-bs-target","#history","type","button","role","tab","aria-controls","history","aria-selected","false",1,"nav-link","position-relative","px-5",3,"click"],["historyTab",""],["id","myTabContent",1,"tab-content"],["id","today","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],["mat-table","","matSort","",1,"mat-elevation-z8","shadow-none",3,"dataSource"],["matSort1","matSort"],["matColumnDef","companyName"],["mat-header-cell","","class","text-dark fw-bold","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","requestedCount"],["mat-header-cell","","class","text-dark fw-bold center-table-header","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","checkIntime"],["matColumnDef","checkOutTime"],["matColumnDef","nextFlightDepTime"],["matColumnDef","timeStamp"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","action"],["mat-header-cell","","class","text-dark fw-bold center-table-header text-center",4,"matHeaderCellDef"],["matColumnDef","download"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","my-2",4,"matRowDef","matRowDefColumns"],["class","text-center my-5",4,"ngIf"],["class","text-center",4,"ngIf"],[3,"pageSizeOptions"],["paginator1",""],["id","yesterday","role","tabpanel","aria-labelledby","yesterday-tab",1,"tab-pane","fade"],["matSort2","matSort"],["mat-header-cell","","mat-sort-header","","class","text-dark fw-bold center-table-header",4,"matHeaderCellDef"],["paginator2",""],["id","last-week","role","tabpanel","aria-labelledby","last-week-tab",1,"tab-pane","fade"],["matSort3","matSort"],["paginator3",""],["id","history","role","tabpanel","aria-labelledby","history-tab",1,"tab-pane","fade"],["matSort4","matSort"],["paginator4",""],["data-bs-backdrop","static","id","declineModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header","py-3"],["id","exampleModalLabel",1,"modal-title","fw-bolder"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","shadow-none",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body","airport-img","mx-3","mt-2"],["class","container-fluid",4,"ngIf"],[1,"modal-footer","py-2"],["type","reset",1,"d-none"],["resetBtn",""],["type","submit","data-bs-dismiss","modal",1,"btn","modal-register-btn","shadow-none"],["id","approvalModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","hide"],["CloseModal",""],[1,"modal-footer","text-end","py-2"],["type","submit",1,"btn","modal-register-btn"],[1,"float-end"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center"],[1,"mb-2",2,"font-size","14px","color","#646464"],["appearance","legacy","floatLabel","never",1,"w-50","ms-2","mt-1"],["panelClass","mt-4","disableOptionCentering","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,""],[2,"display","inline-block"],["appearance","legacy",1,"example-full-width"],[1,"my-auto",3,"separator","rangePicker"],["matStartDate","","readonly","","placeholder","Start date",3,"ngModel","ngModelChange"],["matEndDate","","readonly","","placeholder","End date",3,"ngModel","ngModelChange","dateChange"],["matSuffix","",1,"cursor-pointer"],["src","assets/images/calender.png","alt","",2,"height","20px","width","20px",3,"click"],["picker",""],[3,"value"],["mat-header-cell","","mat-sort-header","",1,"text-dark","fw-bold"],["mat-cell",""],[1,"mb-0","fw-bold","airline-text"],[1,"fw-bold"],["mat-header-cell","","mat-sort-header","",1,"text-dark","fw-bold","center-table-header"],[1,"d-flex","text-center","justify-content-center"],[1,"fw-bold","count-number"],[1,"row","justify-content-center"],[4,"ngIf"],["class","col-md-auto px-1",4,"ngIf"],[1,"col-md-auto","px-1"],["src","../../../../assets/images/airline-table-img1.png","alt","","placement","bottom","ngbTooltip","Breakfast",1,"table-img"],[1,"d-block","px-1","fw-bold","count-text","justify-content-start",2,"font-size","9px"],["src","../../../../assets/images/airline-table-img2.png","alt","","placement","bottom","ngbTooltip","Lunch",1,"table-img1"],[1,"d-block","px-1","ms-1","fw-bold","count-text","justify-content-start",2,"font-size","9px"],["src","../../../../assets/images/airline-table-img3.png","alt","","placement","bottom","ngbTooltip","Dinner",1,"table-img1"],["src","../../../../assets/images/airline-table-img4.png","alt","","placement","bottom","ngbTooltip","Beverage",1,"table-img1"],[1,"mb-0","fw-bold"],["width","25px","height","25px","src","/assets/images/checkin.png",1,"check-status",2,"transform","rotatez(90deg)"],[1,"text-success","fw-bold"],["width","25px","height","25px","src","/assets/images/checkout.png",1,"check-status"],[1,"text-danger","fw-bold"],["width","25px","height","25px","src","/assets/images/next-flight.svg",1,"check-status"],[1,"text-warning","fw-bold"],["mat-cell","",1,"text-center"],[1,"mb-0","fw-bold","text-color-primary"],[1,"fa","fa-clock"],["mat-header-cell","",1,"text-dark","fw-bold","center-table-header","text-center"],["type","button","data-bs-toggle","modal","data-bs-target","#declineModal",1,"btn","shadow-none","py-0","decline-btn","me-2",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#approvalModal",1,"btn","shadow-none","py-0","approve-btn",3,"click"],["src","../../../../assets/images/resoponse-check.png","height","14px","width","15px",1,"mx-1"],[1,"accept-btn","fw-bold"],[1,"denied-btn","fw-bold"],["src","../../../../assets/images/response-close.png","height","14px","width","15px",1,"mx-1"],["mat-header-cell",""],["placement","top","ngbTooltip","Download Passenger List","class","cursor-pointer","src","../../../../assets/images/download-file.png","height","30px","width","35px",3,"click",4,"ngIf"],["class","spinner-border spinner-border-sm ms-2 text-end text-color-primary","role","status",4,"ngIf"],["class","ms-1","ngbTooltip","Download LOC","placement","top","src","../../../../assets/images/download-file.png","class","cursor-pointer","height","30px","width","35px",3,"click",4,"ngIf"],["placement","top","ngbTooltip","Download Passenger List","src","../../../../assets/images/download-file.png","height","30px","width","35px",1,"cursor-pointer",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","ms-2","text-end","text-color-primary"],[1,"visually-hidden"],["ngbTooltip","Download LOC","placement","top","src","../../../../assets/images/download-file.png","height","30px","width","35px",1,"cursor-pointer",3,"click"],["mat-header-row",""],["mat-row","",1,"my-2"],[1,"text-center","my-5"],[1,"text-center"],[1,"row"],[1,"container-fluid"],[1,"col-md-12"],[1,"mb-0"],["appearance","standard"],["matInput","","type","text","formControlName","addNote"],[1,"col-md-4"],["matInput","","formControlName","singleRooms"],["matInput","","formControlName","doubleRooms"],["matInput","","formControlName","accessibleRooms"],[1,"col-md-3"],["formControlName","Breakfast"],["formControlName","Lunch"],["formControlName","Dinner"],["formControlName","Drink"],["matInput","","formControlName","addNote"]],template:function(e,o){if(1&e){const l=t.EpF();t.TgZ(0,"div",0),t.YNc(1,yt,22,6,"div",1),t.TgZ(2,"ul",2)(3,"li",3)(4,"button",4),t.NdJ("click",function(){t.CHM(l);const r=t.MAs(19),c=t.MAs(49);return[o.fetchAllRequestForHotel("today",o.dataSource1,r,c),o.isHistoryTab(!1)]}),t._uU(5," Today "),t.qZA()(),t.TgZ(6,"li",3)(7,"button",5),t.NdJ("click",function(){t.CHM(l);const r=t.MAs(52),c=t.MAs(82);return[o.fetchAllRequestForHotel("yesterday",o.dataSource2,r,c),o.isHistoryTab(!1)]}),t._uU(8," Yesterday "),t.qZA()(),t.TgZ(9,"li",3)(10,"button",6),t.NdJ("click",function(){t.CHM(l);const r=t.MAs(85),c=t.MAs(115);return[o.fetchAllRequestForHotel("lastweek",o.dataSource3,r,c),o.isHistoryTab(!1)]}),t._uU(11," Last Week "),t.qZA()(),t.TgZ(12,"li",3)(13,"button",7,8),t.NdJ("click",function(){t.CHM(l);const r=t.MAs(118),c=t.MAs(148);return[o.fetchAllRequestForHotel("history",o.dataSource4,r,c),o.isHistoryTab(!0)]}),t._uU(15," History "),t.qZA()()(),t.TgZ(16,"div",9)(17,"div",10)(18,"table",11,12),t.ynx(20,13),t.YNc(21,Tt,4,0,"th",14),t.YNc(22,qt,5,1,"td",15),t.BQk(),t.ynx(23,16),t.YNc(24,At,2,0,"th",17),t.YNc(25,Ut,8,2,"td",15),t.BQk(),t.ynx(26,18),t.YNc(27,Mt,2,0,"th",14),t.YNc(28,It,6,2,"td",15),t.BQk(),t.ynx(29,19),t.YNc(30,Rt,2,0,"th",14),t.YNc(31,St,6,2,"td",15),t.BQk(),t.ynx(32,20),t.YNc(33,Yt,2,0,"th",14),t.YNc(34,Ht,6,2,"td",15),t.BQk(),t.ynx(35,21),t.YNc(36,Ft,4,0,"th",17),t.YNc(37,Jt,6,2,"td",22),t.BQk(),t.ynx(38,23),t.YNc(39,Qt,2,0,"th",24),t.YNc(40,Bt,4,3,"td",22),t.BQk(),t.ynx(41,25),t.YNc(42,jt,1,0,"th",26),t.YNc(43,Kt,6,4,"td",15),t.BQk(),t.YNc(44,Wt,1,0,"tr",27),t.YNc(45,Xt,1,0,"tr",28),t.qZA(),t.YNc(46,te,2,1,"mat-error",29),t.YNc(47,ee,2,0,"div",30),t._UZ(48,"mat-paginator",31,32),t.qZA(),t.TgZ(50,"div",33)(51,"table",11,34),t.ynx(53,13),t.YNc(54,ne,4,0,"th",14),t.YNc(55,oe,5,1,"td",15),t.BQk(),t.ynx(56,16),t.YNc(57,ie,2,0,"th",35),t.YNc(58,de,8,2,"td",15),t.BQk(),t.ynx(59,18),t.YNc(60,ue,2,0,"th",14),t.YNc(61,me,6,2,"td",15),t.BQk(),t.ynx(62,19),t.YNc(63,_e,2,0,"th",14),t.YNc(64,pe,6,2,"td",15),t.BQk(),t.ynx(65,20),t.YNc(66,ge,2,0,"th",14),t.YNc(67,fe,6,2,"td",15),t.BQk(),t.ynx(68,21),t.YNc(69,he,4,0,"th",17),t.YNc(70,ve,6,2,"td",22),t.BQk(),t.ynx(71,23),t.YNc(72,xe,2,0,"th",24),t.YNc(73,ye,4,3,"td",22),t.BQk(),t.ynx(74,25),t.YNc(75,Te,1,0,"th",26),t.YNc(76,Ne,6,4,"td",15),t.BQk(),t.YNc(77,De,1,0,"tr",27),t.YNc(78,ke,1,0,"tr",28),t.qZA(),t.YNc(79,Ue,2,1,"mat-error",29),t.YNc(80,Me,2,0,"div",30),t._UZ(81,"mat-paginator",31,36),t.qZA(),t.TgZ(83,"div",37)(84,"table",11,38),t.ynx(86,13),t.YNc(87,Ie,4,0,"th",14),t.YNc(88,Re,5,1,"td",15),t.BQk(),t.ynx(89,16),t.YNc(90,Se,2,0,"th",35),t.YNc(91,Le,8,2,"td",15),t.BQk(),t.ynx(92,18),t.YNc(93,Oe,2,0,"th",14),t.YNc(94,Ee,6,2,"td",15),t.BQk(),t.ynx(95,19),t.YNc(96,Be,2,0,"th",14),t.YNc(97,je,6,2,"td",15),t.BQk(),t.ynx(98,20),t.YNc(99,$e,2,0,"th",14),t.YNc(100,ze,6,2,"td",15),t.BQk(),t.ynx(101,21),t.YNc(102,Ge,4,0,"th",17),t.YNc(103,Ve,6,2,"td",22),t.BQk(),t.ynx(104,23),t.YNc(105,Ke,2,0,"th",24),t.YNc(106,en,4,3,"td",22),t.BQk(),t.ynx(107,25),t.YNc(108,nn,1,0,"th",26),t.YNc(109,sn,6,4,"td",15),t.BQk(),t.YNc(110,cn,1,0,"tr",27),t.YNc(111,dn,1,0,"tr",28),t.qZA(),t.YNc(112,un,2,1,"mat-error",29),t.YNc(113,mn,2,0,"div",30),t._UZ(114,"mat-paginator",31,39),t.qZA(),t.TgZ(116,"div",40)(117,"table",11,41),t.ynx(119,13),t.YNc(120,_n,4,0,"th",14),t.YNc(121,pn,5,1,"td",15),t.BQk(),t.ynx(122,16),t.YNc(123,gn,2,0,"th",35),t.YNc(124,Cn,9,2,"td",15),t.BQk(),t.ynx(125,18),t.YNc(126,Zn,2,0,"th",14),t.YNc(127,yn,6,2,"td",15),t.BQk(),t.ynx(128,19),t.YNc(129,Tn,2,0,"th",14),t.YNc(130,qn,6,2,"td",15),t.BQk(),t.ynx(131,20),t.YNc(132,An,2,0,"th",14),t.YNc(133,wn,6,2,"td",15),t.BQk(),t.ynx(134,21),t.YNc(135,Pn,4,0,"th",17),t.YNc(136,Nn,6,2,"td",22),t.BQk(),t.ynx(137,23),t.YNc(138,Dn,2,0,"th",24),t.YNc(139,In,4,3,"td",22),t.BQk(),t.ynx(140,25),t.YNc(141,Rn,1,0,"th",26),t.YNc(142,Jn,6,4,"td",15),t.BQk(),t.YNc(143,Qn,1,0,"tr",27),t.YNc(144,Ln,1,0,"tr",28),t.qZA(),t.YNc(145,On,2,1,"mat-error",29),t.YNc(146,En,2,0,"div",30),t._UZ(147,"mat-paginator",31,42),t.qZA()()(),t.TgZ(149,"div",43)(150,"div",44)(151,"div",45)(152,"div",46)(153,"h5",47),t._uU(154," Note For Rejection "),t.qZA(),t.TgZ(155,"button",48),t.NdJ("click",function(){return o.closeDeniedModel()}),t.qZA()(),t.TgZ(156,"form",49),t.NdJ("ngSubmit",function(){return o.requestAfterDenied()}),t.TgZ(157,"div",50),t.YNc(158,Bn,2,0,"div",30),t.YNc(159,jn,8,0,"div",51),t.qZA(),t.TgZ(160,"div",52),t._UZ(161,"button",53,54),t.TgZ(163,"button",55),t._uU(164," Submit "),t.qZA()()()()()(),t.TgZ(165,"div",56)(166,"div",44)(167,"div",45)(168,"div",46)(169,"h5",47),t._uU(170," Request Acceptance Form "),t.qZA(),t.TgZ(171,"button",48,57),t.NdJ("click",function(){return o.closeAcceptModel()}),t.qZA()(),t.TgZ(173,"form",49),t.NdJ("ngSubmit",function(){return o.requestAfterApprove()}),t.TgZ(174,"div",50),t.YNc(175,$n,2,0,"div",30),t.YNc(176,to,48,6,"div",51),t.qZA(),t.TgZ(177,"div",58),t._UZ(178,"button",53,54),t.TgZ(180,"button",59),t._uU(181,"Submit"),t.qZA()()()()()()}2&e&&(t.xp6(1),t.Q6J("ngIf",o.isHistory),t.xp6(17),t.Q6J("dataSource",o.dataSource1),t.xp6(26),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.errorMsg),t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(31,D)),t.xp6(3),t.Q6J("dataSource",o.dataSource2),t.xp6(26),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.errorMsg),t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(32,D)),t.xp6(3),t.Q6J("dataSource",o.dataSource3),t.xp6(26),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.errorMsg),t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(33,D)),t.xp6(3),t.Q6J("dataSource",o.dataSource4),t.xp6(26),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.errorMsg),t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(34,D)),t.xp6(9),t.Q6J("formGroup",o.noteForRejection),t.xp6(2),t.Q6J("ngIf",o.isPending),t.xp6(1),t.Q6J("ngIf",!o.isPending),t.xp6(14),t.Q6J("formGroup",o.acceptedFormModel),t.xp6(2),t.Q6J("ngIf",o.isPending),t.xp6(1),t.Q6J("ngIf",!o.isPending))},directives:[h.O5,x.hX,x.KE,Y.gD,s.JJ,s.On,h.sg,H.ey,b.wx,b.zY,s.Fj,b.By,x.R9,b._g,g.BZ,N.YE,g.w1,g.fO,g.ge,N.nU,g.Dz,g.ev,A._L,g.as,g.XQ,g.nj,g.Gk,x.TO,P.O,F.NW,s._Y,s.JL,s.sg,k.Nt,s.u,dt.oG],styles:['.nav-item-active[_ngcontent-%COMP%]{color:#0a62b9}.nav-item[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0px;right:-20px;width:20px;height:20px;background:radial-gradient(180% 180% at right -65% top -65%,transparent 99%,#dbdbdb);filter:drop-shadow(2px 0px 1px #dbdbdb)}.nav-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-1px;right:-20px;width:20px;height:20px;background:radial-gradient(180% 180% at right -65% top -65%,transparent 99%,#dbdbdb);filter:drop-shadow(2px 0px 1px #dbdbdb)}.nav-link.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-1px;right:-20px;width:20px;height:20px;background:radial-gradient(180% 180% at right -65% top -65%,transparent 99%,rgb(255,255,255));filter:drop-shadow(2px 0px 1px lightgray)}.nav-link.active[_ngcontent-%COMP%]{font-weight:700;box-shadow:0 0 4px #d3d3d3}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fff!important;color:#0a62b9!important}.nav-tabs[_ngcontent-%COMP%]{border:none!important}.nav-link[_ngcontent-%COMP%]{border-radius:20px 20px 0;background-color:#dbdbdb!important;padding-inline:10px;color:#000}#today-tab[_ngcontent-%COMP%]{border-radius:20px 20px 0 0!important}th.mat-header-cell[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]{padding-left:10px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]{font-size:12px}th.mat-header-cell[_ngcontent-%COMP%]{font-size:14px}.table-responsive[_ngcontent-%COMP%]{display:block;width:100%;overflow-x:auto}.mat-table[_ngcontent-%COMP%]{width:100%;max-width:100%;margin-bottom:1rem;display:table;border-collapse:collapse;margin:0}.decline-btn[_ngcontent-%COMP%]{background:#fcdbdb;color:#a70606;border:1px solid #a70606;border-radius:4px;font-size:13px}.approve-btn[_ngcontent-%COMP%]{background:#dbfcdb;color:#06a74c;border:1px solid #06a74c;border-radius:4px;font-size:13px}.table-img[_ngcontent-%COMP%]{height:20px;width:20px}.table-img1[_ngcontent-%COMP%]{height:16px;width:16px}.count-number[_ngcontent-%COMP%]{font-size:15px}  .tooltip-inner{width:100%;height:100%;background-color:#646464;font-size:11px}  .mat-calendar-body-active>.mat-calendar-body-today{color:#fff;background-color:#0a62b9}  .mat-date-range-input-container{display:flex!important;align-items:flex-start!important}  .mat-date-range-input-separator{margin:auto!important}@media only screen and (max-width: 1274px){#today-tab[_ngcontent-%COMP%], .nav-link[_ngcontent-%COMP%]{padding:3px 30px!important}.nav-link[_ngcontent-%COMP%]:after{right:-17px}.nav-link.active[_ngcontent-%COMP%]:after{right:-18px}}@media only screen and (max-width: 1150px){td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]{font-size:10px}th.mat-header-cell[_ngcontent-%COMP%]{font-size:11px}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fff!important;font-size:12px;margin-top:6px}.nav-link[_ngcontent-%COMP%]{border-radius:20px 20px 0;background-color:#dbdbdb!important;padding-inline:10px;font-size:12px;margin-top:6px;color:#000}.check-status[_ngcontent-%COMP%]{height:18px!important;width:18px!important}.decline-btn[_ngcontent-%COMP%], .approve-btn[_ngcontent-%COMP%]{font-size:12px}.nav-link.active[_ngcontent-%COMP%]:after{right:-19px}}[_nghost-%COMP%]  .mat-form-field-appearance-legacy .mat-form-field-underline{display:none!important}[_nghost-%COMP%]  .mat-select-value{color:#0a62b9;font-weight:700}[_nghost-%COMP%]  .mat-select-arrow{color:#0a62b9!important}.ack-btn[_ngcontent-%COMP%]{border:1px solid #0a62b9;font-size:12px;color:#0a62b9}.accept-btn[_ngcontent-%COMP%]{color:green;font-size:11px}.denied-btn[_ngcontent-%COMP%]{color:red;font-size:11px}.airline-text[_ngcontent-%COMP%]{color:#0a62b9;font-size:14px}@media only screen and (min-width: 960px){.nav-link[_ngcontent-%COMP%], #today-tab[_ngcontent-%COMP%]{padding:3px 20px!important}.nav-link.active[_ngcontent-%COMP%]:after{right:-19px}}']}),n})();var U=_(8051);const no=["matSort1"],oo=["paginator1"],io=["matSort2"],lo=["paginator2"],ao=["uploadHotelLocModal"];function ro(n,i){if(1&n&&(t.TgZ(0,"mat-option",74),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function so(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Invalid start date"),t.qZA())}function co(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Invalid end date"),t.qZA())}function uo(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1,"Airline/Airport/"),t._UZ(2,"br"),t._uU(3,"External Handling Company "),t.qZA())}function mo(n,i){if(1&n&&(t.TgZ(0,"td",76)(1,"p",77),t._uU(2," Layover Name "),t.qZA(),t.TgZ(3,"p",78),t._uU(4),t.qZA()()),2&n){const e=i.$implicit;t.xp6(4),t.hij(" ",null==e?null:e.companyName," ")}}function _o(n,i){1&n&&(t.TgZ(0,"th",79),t._uU(1," Layover Request "),t._UZ(2,"br"),t._uU(3," Date & Time "),t.qZA())}function po(n,i){if(1&n&&(t.TgZ(0,"td",80)(1,"p",78),t._uU(2),t.qZA(),t.TgZ(3,"p",81),t._UZ(4,"i",82),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.timestamp.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.timestamp.split(" ")[1]," ")}}function go(n,i){1&n&&(t.TgZ(0,"th",79),t._uU(1,"Count"),t.qZA())}function fo(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",88),t.TgZ(2,"div",89),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.breakfastPrice,"")}}function ho(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",90),t.TgZ(2,"div",91),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.lunchPrice,"")}}function vo(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",92),t.TgZ(2,"div",89),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.dinnerPrice,"")}}function xo(n,i){if(1&n&&(t.TgZ(0,"div",87),t._UZ(1,"img",93),t.TgZ(2,"div",89),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.beveragePrice,"")}}function bo(n,i){if(1&n&&(t.ynx(0),t.YNc(1,fo,4,1,"div",86),t.YNc(2,ho,4,1,"div",86),t.YNc(3,vo,4,1,"div",86),t.YNc(4,xo,4,1,"div",86),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==e?null:e.acceptedMeals.includes("BREAKFAST")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.acceptedMeals.includes("LUNCH")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.acceptedMeals.includes("DINNER")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.acceptedMeals.includes("BEVERAGES"))}}function Co(n,i){if(1&n&&(t.TgZ(0,"td",76)(1,"div",83)(2,"div")(3,"span",84),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",85),t.YNc(7,bo,5,4,"ng-container",17),t.qZA()()()()),2&n){const e=i.$implicit;t.xp6(4),t.Oqu(null==e?null:e.acceptedCount),t.xp6(3),t.Q6J("ngIf",null==e?null:e.acceptedMeals)}}function Zo(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1,"Check-in"),t.qZA())}function yo(n,i){if(1&n&&(t.TgZ(0,"td",76)(1,"p",78),t._uU(2),t.qZA(),t._UZ(3,"img",94),t.TgZ(4,"span",95),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.checkIntime.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.checkIntime.split(" ")[1],"")}}function To(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1,"Check-out"),t.qZA())}function qo(n,i){if(1&n&&(t.TgZ(0,"td",76)(1,"p",78),t._uU(2),t.qZA(),t._UZ(3,"img",96),t.TgZ(4,"span",97),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.checkOutTime.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.checkOutTime.split(" ")[1]," ")}}function Ao(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1,"Receivables"),t.qZA())}function wo(n,i){if(1&n&&(t.TgZ(0,"td",98),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==e?null:e.totalAmount,"EUR")," ")}}function Po(n,i){1&n&&(t.TgZ(0,"th",99),t._uU(1,"LOC"),t.qZA())}function No(n,i){1&n&&(t.TgZ(0,"div",103)(1,"span",104),t._uU(2,"Loading..."),t.qZA()())}function Do(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",76)(1,"a",100),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return[r.layoverService.downloadLOCFile(null==a?null:a.locPath),r.isActive(r.dataSource,r.dataSource.data.indexOf(a))]}),t._UZ(2,"img",101),t.YNc(3,No,3,0,"div",102),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(3),t.Q6J("ngIf",null==e?null:e.invoice)}}function ko(n,i){1&n&&(t.TgZ(0,"th",99),t._uU(1,"Action"),t.qZA())}function Uo(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",109),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit,a=t.oxw();return a.openUploadLOCModal(l,a.dataSource.data.indexOf(l))}),t.TgZ(1,"div"),t._UZ(2,"img",110),t.qZA(),t.TgZ(3,"div",111),t._uU(4," Upload invoice "),t.qZA()()}}function Mo(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",112),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit,a=t.oxw();return a.uploadLOCToAirline(l,a.dataSource.data.indexOf(l))}),t.TgZ(1,"div"),t._UZ(2,"img",113),t.TgZ(3,"span",114),t._uU(4,"Send Invoice"),t.qZA()()()}}function Io(n,i){1&n&&(t.TgZ(0,"div"),t._UZ(1,"img",115),t.TgZ(2,"span",116)(3,"a",117),t._uU(4," Invoice Sent "),t.qZA()()())}function Ro(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",118),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(2).$implicit;return t.oxw().acknowledgePaymentModelStatus(l)}),t._uU(2,"Acknowledge Payment"),t.qZA(),t.BQk()}}function So(n,i){1&n&&(t.ynx(0),t._UZ(1,"img",119),t.TgZ(2,"span",120),t._uU(3," Payment Received"),t.qZA(),t.BQk())}function Yo(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Ro,3,0,"ng-container",17),t.YNc(2,So,4,0,"ng-container",17),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null===(null==e?null:e.hotelStatus)||"pending"===(null==e||null==e.hotelStatus?null:e.hotelStatus.toLowerCase())),t.xp6(1),t.Q6J("ngIf","received"===(null==e||null==e.hotelStatus?null:e.hotelStatus.toLowerCase()))}}function Ho(n,i){if(1&n&&(t.TgZ(0,"td",76),t._UZ(1,"button",105,106),t.YNc(3,Uo,5,0,"div",107),t.YNc(4,Mo,5,0,"div",108),t.YNc(5,Io,5,0,"div",17),t.YNc(6,Yo,3,2,"div",17),t.qZA()),2&n){const e=i.$implicit;t.xp6(3),t.Q6J("ngIf",!("pending"!==(null==e||null==e.hotelStatus?null:e.hotelStatus.toLowerCase())||null!=e&&e.invoiceUpload||null!=e&&e.invoicePath)),t.xp6(1),t.Q6J("ngIf","pending"===(null==e||null==e.hotelStatus?null:e.hotelStatus.toLowerCase())&&(null==e?null:e.invoiceUpload)&&!(null!=e&&e.invoiceSubmit)&&!(null!=e&&e.invoicePath)),t.xp6(1),t.Q6J("ngIf","pending"===(null==e||null==e.hotelStatus?null:e.hotelStatus.toLowerCase())&&(null==e?null:e.invoiceUpload)&&(null==e?null:e.invoiceSubmit)&&!(null!=e&&e.invoicePath)),t.xp6(1),t.Q6J("ngIf",null==e?null:e.invoicePath)}}function Fo(n,i){1&n&&t._UZ(0,"tr",121)}function Jo(n,i){1&n&&t._UZ(0,"tr",122)}function Qo(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-error",123),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",e.errorMsg," ")}}function Lo(n,i){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-spinner"),t.qZA())}function Oo(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1,"Flight No."),t.qZA())}function Eo(n,i){if(1&n&&(t.TgZ(0,"td",76)(1,"p",124),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.flightNumber," ")}}function Bo(n,i){1&n&&(t.TgZ(0,"th",79),t._uU(1," Layover Request "),t._UZ(2,"br"),t._uU(3," Date & Time "),t.qZA())}function jo(n,i){if(1&n&&(t.TgZ(0,"td",80)(1,"p",78),t._uU(2),t.qZA(),t.TgZ(3,"p",81),t._UZ(4,"i",82),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.timestamp.split(" ")[0]," "),t.xp6(3),t.hij(" ",null==e?null:e.timestamp.split(" ")[1]," ")}}function $o(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1,"Count"),t.qZA())}function zo(n,i){if(1&n&&(t.TgZ(0,"td",76),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.acceptedCount," ")}}function Go(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1,"Cost"),t.qZA())}function Vo(n,i){if(1&n&&(t.TgZ(0,"td",76),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null!=e&&e.totalAmount?null==e?null:e.totalAmount:0,"EUR")," ")}}function Ko(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1,"Commission"),t.qZA())}function Wo(n,i){if(1&n&&(t.TgZ(0,"td",76),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==e?null:e.commissionAmount,"EUR")," ")}}function Xo(n,i){1&n&&(t.TgZ(0,"th",99),t._uU(1,"Invoice"),t.qZA())}function ti(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",127),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit,a=t.oxw();return[a.layoverService.downloadLOCFile(null==l?null:l.commissionInvoicePath),a.isActive(a.dataSource1,a.dataSource1.data.indexOf(l))]}),t.qZA()}}function ei(n,i){1&n&&(t.TgZ(0,"div",128)(1,"span",104),t._uU(2,"Loading..."),t.qZA()())}function ni(n,i){if(1&n&&(t.TgZ(0,"td",76)(1,"div"),t.YNc(2,ti,1,0,"img",125),t.qZA(),t.YNc(3,ei,3,0,"div",126),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.Q6J("ngIf",null==e?null:e.commissionInvoicePath),t.xp6(1),t.Q6J("ngIf",null==e?null:e.invoice)}}function oi(n,i){1&n&&(t.TgZ(0,"th",99),t._uU(1,"Action"),t.qZA())}function ii(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",131),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw().initiatePayment(l)}),t._uU(2,"Initiate payment"),t.qZA(),t.BQk()}}function li(n,i){1&n&&(t.ynx(0),t.TgZ(1,"p",132),t._uU(2,"Invoice not available"),t.qZA(),t.BQk())}function ai(n,i){1&n&&(t.ynx(0),t._UZ(1,"img",119),t.TgZ(2,"span",120),t._uU(3," Payment completed"),t.qZA(),t.BQk())}function ri(n,i){if(1&n&&(t.TgZ(0,"td",76)(1,"div",129)(2,"div",130),t.YNc(3,ii,3,0,"ng-container",17),t.YNc(4,li,3,0,"ng-container",17),t.YNc(5,ai,4,0,"ng-container",17),t.qZA()()()),2&n){const e=i.$implicit;t.xp6(3),t.Q6J("ngIf",(null===(null==e?null:e.commissionStatus)||"pending"===(null==e||null==e.commissionStatus?null:e.commissionStatus.toLowerCase()))&&(null==e?null:e.commissionInvoicePath)),t.xp6(1),t.Q6J("ngIf",!(null!==(null==e?null:e.commissionStatus)&&"pending"!==(null==e||null==e.commissionStatus?null:e.commissionStatus.toLowerCase())||null!=e&&e.commissionInvoicePath)),t.xp6(1),t.Q6J("ngIf","received"===(null==e||null==e.commissionStatus?null:e.commissionStatus.toLowerCase()))}}function si(n,i){1&n&&t._UZ(0,"tr",121)}function ci(n,i){1&n&&t._UZ(0,"tr",122)}function di(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-error",123),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",e.errorMsg," ")}}function ui(n,i){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-spinner"),t.qZA())}function mi(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Add Note To Acknowledge Payment is required "),t.qZA())}function _i(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ngx-dropzone-preview",133),t.NdJ("removed",function(){return t.CHM(e),t.oxw().onRemoveInvoice()}),t.TgZ(1,"ngx-dropzone-label"),t._uU(2),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("removable",!0),t.xp6(2),t.Oqu(e.uploadedInvoiceFile.name)}}const J=function(){return[5,10,15,20]};let pi=(()=>{class n{constructor(e,o,l,a){this.layoverService=e,this.toastr=o,this.fb=l,this.cd=a,this.today=new Date,this.dataSource=new g.by,this.dataSource1=new g.by,this.currentStatus="All",this.layoverStatus=["All","Accepted","Pending"],this.range=new s.cw({start:new s.NI(null),end:new s.NI(null)}),this.displayedColumns=["companyName","timestamp","acceptedCount","checkIntime","checkOutTime","totalAmount","loc","action"],this.displayedColumns1=["flightNumber","timestamp","acceptedCount","totalAmount","commissionAmount","download_invoice","action"]}ngOnInit(){this.acknowledgeNoteForm=this.fb.group({addNote:["",s.kI.required]}),this.getAllPayments()}ngAfterViewInit(){}downloadLOC(){alert("Download Complete")}getAllPayments(){const e={requestId:this.layoverService.getLocalStorageValue("hotelDetailsId"),startDateTime:this.range.get("start").value&&this.range.get("end").value?v(new Date(this.range.get("start").value).setHours(0,0,0,0)).format("DD-MM-YYYY HH:mm:ss"):null,endDateTime:this.range.get("start").value&&this.range.get("end").value?v(new Date(this.range.get("end").value).setHours(23,59,0,0)).format("DD-MM-YYYY HH:mm:ss"):null};this.errorMsg="",this.dataSource.data=[],this.dataSource.paginator=null,this.dataSource.sort=null,this.isPending=!0,this.layoverService.getPaymentDetailsByHotel(e).subscribe({next:o=>{if(!o.isError&&o.message&&Array.isArray(o.data)&&o.data.length>0){this.dataSource.data=o.data,this.currentPaymentDataSource=this.dataSource.data;let l=this.currentPaymentDataSource.filter(a=>!(null==a?void 0:a.hotelNotify)).map(a=>({requestId:null==a?void 0:a.paymentId,adminNotify:null==a?void 0:a.adminNotify,companyNotify:null==a?void 0:a.companyNotify,hotelNotify:!0}));this.layoverService.paymentNotify(l).subscribe(),this.isPending=!1,this.errorMsg="",this.dataSource.data.length>0?(this.errorMsg="",this.isPending=!1,this.dataSource.data=this.dataSource.data.map(a=>Object.assign(Object.assign({},a),{invoiceUpload:!1,invoiceSubmit:!1,invoice:!1}))):(this.errorMsg="No data found",this.isPending=!1),setTimeout(()=>{this.dataSource.paginator=this.paginator1,this.dataSource.sort=this.matSort1})}else this.isPending=!1,this.errorMsg="No Data found"},error:o=>{var l;(null==o?void 0:o.error).isError?(this.isPending=!1,this.errorMsg="No Data found",this.toastr.error(null===(l=null==o?void 0:o.error)||void 0===l?void 0:l.message)):(this.isPending=!1,this.toastr.error("Sorry! Something went wrong"))}})}getAllCommission(){const e={requestId:this.layoverService.getLocalStorageValue("hotelDetailsId"),startDateTime:this.range.get("start").value&&this.range.get("end").value?v(new Date(this.range.get("start").value).setHours(0,0,0)).format("DD-MM-YYYY HH:mm:ss"):null,endDateTime:this.range.get("start").value&&this.range.get("end").value?v(new Date(this.range.get("end").value).setHours(23,59,0)).format("DD-MM-YYYY HH:mm:ss"):null};this.errorMsg="",this.dataSource1.data=[],this.dataSource1.paginator=null,this.dataSource1.sort=null,this.isPending=!0,this.layoverService.getCommissionDetailsByHotel(e).subscribe({next:o=>{if(!o.isError&&o.message&&Array.isArray(o.data)&&o.data.length>0){this.dataSource1.data=o.data,this.currentCommissionDataSource=this.dataSource1.data,this.dataSource1.data=this.dataSource1.data.map(a=>Object.assign(Object.assign({},a),{invoice:!1}));let l=this.dataSource1.data.filter(a=>!(null==a?void 0:a.hotelNotify)).map(a=>({requestId:null==a?void 0:a.paymentId,adminNotify:null==a?void 0:a.adminNotify,companyNotify:null==a?void 0:a.companyNotify,hotelNotify:!0}));this.layoverService.paymentNotify(l).subscribe(),this.isPending=!1,this.errorMsg="",this.dataSource1.data.length>0?(this.errorMsg="",this.isPending=!1):(this.errorMsg="No data found",this.isPending=!1),setTimeout(()=>{this.dataSource1.paginator=this.paginator2,this.dataSource1.sort=this.matSort2})}else this.isPending=!1,this.errorMsg="No Data found"},error:o=>{var l;(null==o?void 0:o.error).isError?(this.isPending=!1,this.errorMsg="No Data found",this.toastr.error(null===(l=null==o?void 0:o.error)||void 0===l?void 0:l.message)):(this.isPending=!1,this.toastr.error("Sorry! Something went wrong"))}})}onAcknowledgementSubmit(){this.currentReqBody=Object.assign(Object.assign({},this.currentReqBody),{hotelAcknowledgement:this.acknowledgeNoteForm.get("addNote").value}),this.acknowledgeNoteForm.valid&&this.layoverService.paymentStatusByAirline(this.currentReqBody).subscribe({next:e=>{!e.isError&&e.message&&(this.toastr.success(e.message),setTimeout(()=>{this.getAllPayments()},1e3))},error:e=>{var o;(null==e?void 0:e.error).isError?this.toastr.error(null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message):this.toastr.error("Sorry! Something went wrong")}})}acknowledgePaymentModelStatus(e){this.currentReqBody={paymentId:null==e?void 0:e.paymentId,companyStatus:null==e?void 0:e.companyStatus,hotelAcknowledgement:null==e?void 0:e.hotelAcknowledgement,hotelStatus:"Received",invoicePath:null==e?void 0:e.invoicePath,timestamp:null==e?void 0:e.timestamp,layoverResponseId:null==e?void 0:e.layoverResponseId,layoverRequestId:null==e?void 0:e.layoverRequestId,commissionId:null==e?void 0:e.commissionId,commissionAmount:null==e?void 0:e.commissionAmount,commissionInvoicePath:null==e?void 0:e.commissionInvoicePath,commissionStatus:null==e?void 0:e.commissionStatus,totalAmount:null==e?void 0:e.totalAmount,companyId:null==e?void 0:e.companyId,hotelDetailsId:null==e?void 0:e.hotelDetailsId,flightNumber:null==e?void 0:e.flightNumber,companyName:null==e?void 0:e.flightNumber,hotelName:null==e?void 0:e.hotelName,location:null==e?void 0:e.location,status:null==e?void 0:e.status,acceptedMeals:null==e?void 0:e.acceptedMeals,checkIntime:null==e?void 0:e.checkIntime,checkOutTime:null==e?void 0:e.checkOutTime,nextFlightDepTime:null==e?void 0:e.nextFlightDepTime,locPath:null==e?void 0:e.locPath,passengerListPath:null==e?void 0:e.passengerListPath,acceptedCount:null==e?void 0:e.acceptedCount,beveragePrice:null==e?void 0:e.beveragePrice,breakfastPrice:null==e?void 0:e.breakfastPrice,lunchPrice:null==e?void 0:e.lunchPrice,dinnerPrice:null==e?void 0:e.dinnerPrice,singleRoomPrice:null==e?void 0:e.singleRoomPrice,doubleRoomPrice:null==e?void 0:e.doubleRoomPrice,accessibleRoomPrice:null==e?void 0:e.accessibleRoomPrice}}initiatePayment(e){this.initiateStatusBody={commissionId:null==e?void 0:e.commissionId,commissionStatus:"Received"},this.layoverService.updatepaymentCommisionByHotel(this.initiateStatusBody).subscribe({next:o=>{!o.isError&&o.message&&setTimeout(()=>{this.getAllCommission()},1e3)},error:o=>{var l;(null==o?void 0:o.error).isError?this.toastr.error(null===(l=null==o?void 0:o.error)||void 0===l?void 0:l.message):this.toastr.error("Sorry! Something went wrong")}})}openUploadLOCModal(e,o){this.currentElement=e,this.currentIndex=o,setTimeout(()=>{this.uploadHotelLocModal.nativeElement.click()})}uploadLOC(e){this.uploadedInvoiceFile=e.addedFiles[0],this.fileTest(this.uploadedInvoiceFile)?this.uploadedInvoiceFile=this.fileTest(this.uploadedInvoiceFile):(e.addedFiles[0]=null,this.uploadedInvoiceFile=null)}fileTest(e){return e&&e.type.includes("pdf")&&e.size<5e6?e:e&&e.type.includes("pdf")&&e.size>5e6?(this.toastr.error("File size should be less than 5 MB"),null):(this.toastr.error("Only PDF's file are allowed"),null)}completeInvoice(){this.uploadedInvoiceFile?(this.currentElement=Object.assign(Object.assign({},this.currentElement),{invoiceUpload:!0,invoiceSubmit:!1}),this.dataSource.data.splice(this.currentIndex,1,this.currentElement),this.dataSource.data=this.dataSource.data,this.cd.detectChanges()):this.toastr.error("File not found")}uploadLOCToAirline(e,o){this.layoverService.uploadInvoiceByHotel(null==e?void 0:e.paymentId,this.uploadedInvoiceFile).subscribe({next:l=>{l.isError?this.toastr.error("Invoice upload failed"):(this.toastr.success("Invoice Uploaded Successfully"),this.currentElement=Object.assign(Object.assign({},this.currentElement),{invoiceUpload:!0,invoiceSubmit:!0}),this.dataSource.data.splice(this.currentIndex,1,this.currentElement),this.dataSource.data=this.dataSource.data,setTimeout(()=>{this.getAllPayments(),this.uploadedInvoiceFile=null},1e3))},error:l=>{var a;(null==l?void 0:l.error).isError?this.toastr.error(null===(a=null==l?void 0:l.error)||void 0===a?void 0:a.message):this.toastr.error("Sorry! Something went wrong")}})}onRemoveInvoice(){this.uploadedInvoiceFile=null}isActive(e,o){var l,a;null===(a=null===(l=this.layoverService)||void 0===l?void 0:l.isLoading)||void 0===a||a.subscribe(r=>{var c;e.data=null===(c=null==e?void 0:e.data)||void 0===c?void 0:c.map((m,p)=>Object.assign(Object.assign({},m),o===p?{invoice:r}:{invoice:!1}))})}layoverCurrentStatus(){var e,o,l,a,r,c,m,p;this.dataSource.data=[],this.dataSource1.data=[],this.dataSource.data=this.currentPaymentDataSource,this.dataSource1.data=this.currentCommissionDataSource,"all"===this.currentStatus.toLocaleLowerCase()?(this.dataSource.data=this.dataSource.data,this.dataSource1.data=this.dataSource1.data,this.errorMsg=this.dataSource.data.length>0?"":"No Data found"):"accepted"===this.currentStatus.toLowerCase()?(this.dataSource.data=null===(o=null===(e=this.dataSource)||void 0===e?void 0:e.data)||void 0===o?void 0:o.filter(d=>{var u;return"received"===(null===(u=null==d?void 0:d.hotelStatus)||void 0===u?void 0:u.toLowerCase())}),this.dataSource1.data=null===(a=null===(l=this.dataSource1)||void 0===l?void 0:l.data)||void 0===a?void 0:a.filter(d=>{var u;return"received"===(null===(u=null==d?void 0:d.commissionStatus)||void 0===u?void 0:u.toLowerCase())}),this.errorMsg=this.dataSource.data.length>0?"":"No Data found"):"pending"===this.currentStatus.toLowerCase()&&(this.dataSource.data=null===(c=null===(r=this.dataSource)||void 0===r?void 0:r.data)||void 0===c?void 0:c.filter(d=>{var u;return"pending"===(null===(u=null==d?void 0:d.hotelStatus)||void 0===u?void 0:u.toLowerCase())}),this.dataSource1.data=null===(p=null===(m=this.dataSource1)||void 0===m?void 0:m.data)||void 0===p?void 0:p.filter(d=>{var u;return"pending"===(null===(u=null==d?void 0:d.commissionStatus)||void 0===u?void 0:u.toLowerCase())}),this.errorMsg=this.dataSource.data.length>0?"":"No Data found")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T.y),t.Y36(q._W),t.Y36(s.qu),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-payments"]],viewQuery:function(e,o){if(1&e&&(t.Gf(no,5),t.Gf(oo,5),t.Gf(io,5),t.Gf(lo,5),t.Gf(ao,5)),2&e){let l;t.iGM(l=t.CRH())&&(o.matSort1=l.first),t.iGM(l=t.CRH())&&(o.paginator1=l.first),t.iGM(l=t.CRH())&&(o.matSort2=l.first),t.iGM(l=t.CRH())&&(o.paginator2=l.first),t.iGM(l=t.CRH())&&(o.uploadHotelLocModal=l.first)}},decls:140,vars:24,consts:[[1,"container-fluid","pt-2","mt-2",2,"background","#FAFCFF 0% 0% no-repeat padding-box","box-shadow","1px 1px 10px #00000029"],[1,"float-end"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center"],[2,"font-size","13px","color","#646464"],["appearance","legacy","floatLabel","never",1,"w-50","ms-3","mt-1"],["panelClass","mt-4","disableOptionCentering","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"mt-1"],[2,"display","inline-block"],["appearance","legacy"],[3,"separator","formGroup","rangePicker"],["readonly","","matStartDate","","formControlName","start","placeholder","Start date"],["readonly","","matEndDate","","formControlName","end","placeholder","End date",3,"dateChange"],["picker",""],["matSuffix","",1,"cursor-pointer"],["src","../../../../assets/images/calender.png","alt","",2,"height","20px","width","20px","cursor","pointer",3,"click"],[4,"ngIf"],["id","myTab","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","today-tab","data-bs-toggle","tab","data-bs-target","#today","type","button","role","tab","aria-controls","today","aria-selected","true",1,"nav-link","position-relative","px-5","active",2,"border-bottom-left-radius","0px",3,"click"],["id","yesterday-tab","data-bs-toggle","tab","data-bs-target","#yesterday","type","button","role","tab","aria-controls","yesterday","aria-selected","false",1,"nav-link","position-relative","px-5",3,"click"],["id","myTabContent",1,"tab-content"],["id","today","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],["mat-table","","matSort","",1,"mat-elevation-z8","shadow-none","w-100",3,"dataSource"],["matSort1","matSort"],["matColumnDef","companyName"],["mat-header-cell","","class","text-dark fw-bold","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","timestamp"],["mat-header-cell","","class","text-dark fw-bold center-table-header","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","acceptedCount"],["matColumnDef","checkIntime"],["matColumnDef","checkOutTime"],["matColumnDef","totalAmount"],["class","mb-0 fw-bold","mat-cell","","style","color: #0a62b9; font-size: 14px;",4,"matCellDef"],["matColumnDef","loc"],["mat-header-cell","","class","text-dark fw-bold",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","my-2",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["paginator1",""],["id","yesterday","role","tabpanel","aria-labelledby","yesterday-tab",1,"tab-pane","fade"],["matSort2","matSort"],["matColumnDef","flightNumber"],["matColumnDef","commissionAmount"],["matColumnDef","download_invoice"],["paginator2",""],["id","acknowledgementModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[3,"formGroup","ngSubmit"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","shadow-none"],[1,"modal-body"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"",2,"font-size","13px"],["appearance","standard"],["matInput","","type","text","formControlName","addNote"],[1,"modal-footer"],["type","submit","data-bs-dismiss","modal",1,"btn","submit-btn","shadow-none"],["id","uploadHotelLocModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fw-bold"],[1,"modal-body","pb-0"],[1,"col-md-10","offset-md-1"],["type","file","accept",".pdf",1,"justify-content-center","outerCard","my-2",3,"change"],["type","submit",1,"btn","choose-btn","ml-2","mt-3","shadow-none"],[3,"removable","removed",4,"ngIf"],["type","button","data-bs-dismiss","modal",1,"btn","submit-btn","shadow-none",3,"click"],[3,"value"],["mat-header-cell","","mat-sort-header","",1,"text-dark","fw-bold"],["mat-cell",""],[1,"mb-0","fw-bold",2,"color","#0a62b9","font-size","14px"],[1,"mb-0","fw-bold"],["mat-header-cell","","mat-sort-header","",1,"text-dark","fw-bold","center-table-header"],["mat-cell","",1,"text-center"],[1,"mb-0","fw-bold","text-color-primary"],[1,"fa","fa-clock"],[1,"d-flex","text-center","justify-content-center"],[1,"fw-bold","count-number"],[1,"row","justify-content-center"],["class","col-md-auto px-1",4,"ngIf"],[1,"col-md-auto","px-1"],["src","../../../../assets/images/airline-table-img1.png","alt","","placement","bottom","ngbTooltip","Breakfast",1,"table-img"],[1,"d-block","px-1","fw-bold","count-text","justify-content-start",2,"font-size","9px"],["src","../../../../assets/images/airline-table-img2.png","alt","","placement","bottom","ngbTooltip","Lunch",1,"table-img1"],[1,"d-block","px-1","ms-1","fw-bold","count-text","justify-content-start",2,"font-size","9px"],["src","../../../../assets/images/airline-table-img3.png","alt","","placement","bottom","ngbTooltip","Dinner",1,"table-img1"],["src","../../../../assets/images/airline-table-img4.png","alt","","placement","bottom","ngbTooltip","Beverage",1,"table-img1"],["width","25px","height","25px","src","/assets/images/checkin.png",1,"check-status",2,"transform","rotatez(90deg)"],[1,"text-success","fw-bold"],["width","25px","height","25px","src","/assets/images/checkout.png",1,"check-status"],[1,"text-danger","fw-bold"],["mat-cell","",1,"mb-0","fw-bold",2,"color","#0a62b9","font-size","14px"],["mat-header-cell","",1,"text-dark","fw-bold"],["id","downloadLOC","download","",1,"btn","shadow-none","py-0",3,"href","click"],["src","../../../../assets/images/download-loc.png","alt","","ngbTooltip","Download LOC","placement","top",2,"height","25px","width","25px"],["class","spinner-border spinner-border-sm ml-2 text-end text-color-primary","role","status",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","ml-2","text-end","text-color-primary"],[1,"visually-hidden"],["data-bs-toggle","modal","data-bs-target","#uploadHotelLocModal",1,"d-none"],["uploadHotelLocModal",""],["class","d-flex align-items-center cursor-pointer",3,"click",4,"ngIf"],["class","d-flex cursor-pointer",3,"click",4,"ngIf"],[1,"d-flex","align-items-center","cursor-pointer",3,"click"],["src","../../../../assets/images/upload-loc.png","alt","",2,"height","14px","width","14px"],[1,"ms-1","fw-bold",2,"color","#0a62b9","cursor","pointer"],[1,"d-flex","cursor-pointer",3,"click"],["src","../../../../assets/images/response-success.png","alt","",2,"height","12px","width","12px","cursor","pointer"],[1,"text-success","fw-bold","ms-1",2,"cursor","pointer"],["src","../../../../assets/images/invoice-dollar.svg","alt",""],[1,"text-color-primary"],[1,"fw-bold","text-success",3,"href"],["type","button","data-bs-toggle","modal","data-bs-target","#acknowledgementModal",1,"btn","ack-btn","shadow-none",3,"click"],["src","../../../../assets/images/resoponse-check.png","height","14px","width","15px",1,"mx-1"],[1,"me-5","fw-bold",2,"color","green","font-size","11px"],["mat-header-row",""],["mat-row","",1,"my-2"],[1,"text-center","my-5"],[1,"mb-0","fw-bold",2,"color","#0a62b9"],["class","mt-1 cursor-pointer","src","../../../../assets/images/download-loc.png","alt","","ngbTooltip","Download Invoice","placement","top","style","height: 25; width:25px;",3,"click",4,"ngIf"],["class","spinner-border spinner-border-sm ms-2 mt-2 text-end text-color-primary","role","status",4,"ngIf"],["src","../../../../assets/images/download-loc.png","alt","","ngbTooltip","Download Invoice","placement","top",1,"mt-1","cursor-pointer",2,"height","25","width","25px",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","ms-2","mt-2","text-end","text-color-primary"],[1,"d-flex"],[1,"mt-2"],["type","button",1,"btn","ack-btn","ms-1",3,"click"],[1,"fw-bold","text-warning","ps-1"],[3,"removable","removed"]],template:function(e,o){if(1&e){const l=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"mat-label",4),t._uU(6,"Filter by Action : "),t.qZA()(),t.TgZ(7,"div")(8,"mat-form-field",5)(9,"mat-select",6),t.NdJ("ngModelChange",function(r){return o.currentStatus=r})("ngModelChange",function(){return o.layoverCurrentStatus()}),t.YNc(10,ro,2,2,"mat-option",7),t.qZA()()()(),t.TgZ(11,"div",8)(12,"span",9)(13,"mat-form-field",10)(14,"mat-label"),t._uU(15,"Filter By Date :"),t.qZA(),t.TgZ(16,"mat-date-range-input",11),t._UZ(17,"input",12),t.TgZ(18,"input",13),t.NdJ("dateChange",function(){return[o.getAllPayments(),o.getAllCommission()]}),t.qZA()(),t._UZ(19,"mat-date-range-picker",null,14),t.TgZ(21,"span",15)(22,"img",16),t.NdJ("click",function(){return t.CHM(l),[t.MAs(20).open(),o.range.get("start").reset(),o.range.get("end").reset(),o.getAllPayments(),o.getAllCommission()]}),t.qZA()(),t.YNc(23,so,2,0,"mat-error",17),t.YNc(24,co,2,0,"mat-error",17),t.qZA()()()()(),t.TgZ(25,"ul",18)(26,"li",19)(27,"button",20),t.NdJ("click",function(){return o.getAllPayments()}),t._uU(28,"Payment"),t.qZA()(),t.TgZ(29,"li",19)(30,"button",21),t.NdJ("click",function(){return o.getAllCommission()}),t._uU(31,"Commission"),t.qZA()()(),t.TgZ(32,"div",22)(33,"div",23)(34,"table",24,25),t.ynx(36,26),t.YNc(37,uo,4,0,"th",27),t.YNc(38,mo,5,1,"td",28),t.BQk(),t.ynx(39,29),t.YNc(40,_o,4,0,"th",30),t.YNc(41,po,6,2,"td",31),t.BQk(),t.ynx(42,32),t.YNc(43,go,2,0,"th",30),t.YNc(44,Co,8,2,"td",28),t.BQk(),t.ynx(45,33),t.YNc(46,Zo,2,0,"th",27),t.YNc(47,yo,6,2,"td",28),t.BQk(),t.ynx(48,34),t.YNc(49,To,2,0,"th",27),t.YNc(50,qo,6,2,"td",28),t.BQk(),t.ynx(51,35),t.YNc(52,Ao,2,0,"th",27),t.YNc(53,wo,3,4,"td",36),t.BQk(),t.ynx(54,37),t.YNc(55,Po,2,0,"th",38),t.YNc(56,Do,4,1,"td",28),t.BQk(),t.ynx(57,39),t.YNc(58,ko,2,0,"th",38),t.YNc(59,Ho,7,4,"td",28),t.BQk(),t.YNc(60,Fo,1,0,"tr",40),t.YNc(61,Jo,1,0,"tr",41),t.qZA(),t.YNc(62,Qo,3,1,"ng-container",17),t.YNc(63,Lo,2,0,"div",17),t._UZ(64,"mat-paginator",42,43),t.qZA(),t.TgZ(66,"div",44)(67,"table",24,45),t.ynx(69,46),t.YNc(70,Oo,2,0,"th",27),t.YNc(71,Eo,3,1,"td",28),t.BQk(),t.ynx(72,29),t.YNc(73,Bo,4,0,"th",30),t.YNc(74,jo,6,2,"td",31),t.BQk(),t.ynx(75,32),t.YNc(76,$o,2,0,"th",27),t.YNc(77,zo,2,1,"td",28),t.BQk(),t.ynx(78,35),t.YNc(79,Go,2,0,"th",27),t.YNc(80,Vo,3,4,"td",28),t.BQk(),t.ynx(81,47),t.YNc(82,Ko,2,0,"th",27),t.YNc(83,Wo,3,4,"td",28),t.BQk(),t.ynx(84,48),t.YNc(85,Xo,2,0,"th",38),t.YNc(86,ni,4,2,"td",28),t.BQk(),t.ynx(87,39),t.YNc(88,oi,2,0,"th",38),t.YNc(89,ri,6,3,"td",28),t.BQk(),t.YNc(90,si,1,0,"tr",40),t.YNc(91,ci,1,0,"tr",41),t.qZA(),t.YNc(92,di,3,1,"ng-container",17),t.YNc(93,ui,2,0,"div",17),t._UZ(94,"mat-paginator",42,49),t.qZA()()(),t.TgZ(96,"div",50)(97,"div",51)(98,"div",52)(99,"form",53),t.NdJ("ngSubmit",function(){return o.onAcknowledgementSubmit()}),t.TgZ(100,"div",54)(101,"h5",55),t._uU(102,"Acknowledge Payment"),t.qZA(),t._UZ(103,"button",56),t.qZA(),t.TgZ(104,"div",57)(105,"div",58)(106,"div",59)(107,"div",60)(108,"label",61),t._uU(109,"Add Note To Acknowledge Payment"),t.qZA(),t.TgZ(110,"div")(111,"mat-form-field",62),t._UZ(112,"input",63),t.YNc(113,mi,2,0,"mat-error",17),t.qZA()()()()()(),t.TgZ(114,"div",64)(115,"button",65),t._uU(116,"Submit"),t.qZA()()()()()(),t.TgZ(117,"div",58)(118,"div",66)(119,"div",51)(120,"div",52)(121,"div",54)(122,"h5",67),t._uU(123,"Upload Invoice"),t.qZA(),t._UZ(124,"button",56),t.qZA(),t.TgZ(125,"div",68)(126,"div",58)(127,"div",59)(128,"div",69)(129,"ngx-dropzone",70),t.NdJ("change",function(r){return o.uploadLOC(r)}),t.TgZ(130,"ngx-dropzone-label")(131,"span"),t._uU(132,"Drag And Drop File Here"),t.qZA(),t._UZ(133,"br"),t.TgZ(134,"button",71),t._uU(135,"Choose file"),t.qZA()(),t.YNc(136,_i,3,2,"ngx-dropzone-preview",72),t.qZA()()()()(),t.TgZ(137,"div",64)(138,"button",73),t.NdJ("click",function(){return o.completeInvoice()}),t._uU(139,"Submit"),t.qZA()()()()()()}if(2&e){const l=t.MAs(20);let a;t.xp6(9),t.Q6J("ngModel",o.currentStatus),t.xp6(1),t.Q6J("ngForOf",o.layoverStatus),t.xp6(6),t.Q6J("separator","to")("formGroup",o.range)("rangePicker",l),t.xp6(7),t.Q6J("ngIf",o.range.controls.start.hasError("matStartDateInvalid")),t.xp6(1),t.Q6J("ngIf",o.range.controls.end.hasError("matEndDateInvalid")),t.xp6(10),t.Q6J("dataSource",o.dataSource),t.xp6(26),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.errorMsg||0===(null==o.dataSource||null==o.dataSource.data?null:o.dataSource.data.length)||0===(null==o.dataSource||null==o.dataSource.filteredData?null:o.dataSource.filteredData.length)),t.xp6(1),t.Q6J("ngIf",o.isPending),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(22,J)),t.xp6(3),t.Q6J("dataSource",o.dataSource1),t.xp6(23),t.Q6J("matHeaderRowDef",o.displayedColumns1),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns1),t.xp6(1),t.Q6J("ngIf",o.errorMsg||0===(null==o.dataSource1||null==o.dataSource1.data?null:o.dataSource1.data.length)||0===(null==o.dataSource1||null==o.dataSource1.filteredData?null:o.dataSource1.filteredData.length)),t.xp6(1),t.Q6J("ngIf",o.isPending),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(23,J)),t.xp6(5),t.Q6J("formGroup",o.acknowledgeNoteForm),t.xp6(14),t.Q6J("ngIf",null==(a=o.acknowledgeNoteForm.get("addNote"))||null==a.errors?null:a.errors.required),t.xp6(23),t.Q6J("ngIf",o.uploadedInvoiceFile)}},directives:[x.hX,x.KE,Y.gD,s.JJ,s.On,h.sg,H.ey,b.wx,s.JL,s.sg,b.zY,s.Fj,s.u,b.By,b._g,x.R9,h.O5,x.TO,g.BZ,N.YE,g.w1,g.fO,g.ge,N.nU,g.Dz,g.ev,A._L,g.as,g.XQ,g.nj,g.Gk,P.O,F.NW,s._Y,k.Nt,U._f,U.NP,U.dt],pipes:[h.H9],styles:['.nav-item-active[_ngcontent-%COMP%]{color:#0a62b9}.nav-item[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0px;right:-20px;width:20px;height:20px;background:radial-gradient(180% 180% at right -65% top -65%,transparent 99%,#dbdbdb);filter:drop-shadow(2px 0px 1px #dbdbdb)}.nav-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0px;right:-20px;width:20px;height:20px;background:radial-gradient(180% 180% at right -65% top -65%,transparent 99%,#dbdbdb);filter:drop-shadow(2px 0px 1px #dbdbdb)}.nav-link.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0px;right:-20px;width:20px;height:20px;background:radial-gradient(180% 180% at right -65% top -65%,transparent 99%,rgb(255,255,255));filter:drop-shadow(2px 0px 1px lightgray)}.nav-link.active[_ngcontent-%COMP%]{font-weight:700;box-shadow:0 0 4px #d3d3d3}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fff!important;color:#0a62b9!important}.nav-tabs[_ngcontent-%COMP%]{border:none!important}.nav-link[_ngcontent-%COMP%]{border-radius:20px 20px 0;background-color:#dbdbdb!important;padding-inline:10px;color:#000}#today-tab[_ngcontent-%COMP%]{border-radius:20px 20px 0 0!important}th.mat-header-cell[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]{padding-left:10px}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]{font-size:12px}th.mat-header-cell[_ngcontent-%COMP%]{font-size:14px}.table-responsive[_ngcontent-%COMP%]{display:block;width:100%;overflow-x:auto}.mat-table[_ngcontent-%COMP%]{width:100%;max-width:100%;margin-bottom:1rem;display:table;border-collapse:collapse;margin:0}.table-img[_ngcontent-%COMP%]{height:20px;width:20px}.table-img1[_ngcontent-%COMP%]{height:16px;width:16px}.count-number[_ngcontent-%COMP%]{font-size:15px}[_nghost-%COMP%]  .mat-form-field-appearance-legacy .mat-form-field-underline{display:none!important}[_nghost-%COMP%]  .mat-select-value{color:#0a62b9;font-weight:700}[_nghost-%COMP%]  .mat-select-arrow{color:#0a62b9!important}.ack-btn[_ngcontent-%COMP%]{border:1px solid #0a62b9;font-size:12px;color:#0a62b9}.submit-btn[_ngcontent-%COMP%]{color:#fff;background-color:#0a62b9;font-size:13px}.choose-btn[_ngcontent-%COMP%]{color:#fff;background-color:#0955a0;font-size:11px;padding:6px 15px}.outerCard[_ngcontent-%COMP%]{height:138px!important;border:2px dashed #707070;font-size:13px!important}[_nghost-%COMP%]  .btn-close{color:#0a62b9!important}[_nghost-%COMP%]  .py-0{padding-left:0!important}  .btn-close:hover{border-radius:50%!important;background-image:url(\'data:image/svg+xml;utf8,<svg stroke="blue" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M1.458 1.458l21.084 21.084m0-21.084L1.458 22.542" /></svg>\')!important;background-color:#05054d15!important}[_nghost-%COMP%]  .text-dark{font-size:15px!important}  .mat-calendar-body-active>.mat-calendar-body-today{color:#fff;background-color:#0a62b9}  .mat-date-range-input-container{display:flex!important;align-items:flex-start!important}  .mat-date-range-input-separator{margin:auto!important}@media only screen and (max-width: 1150px){td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]{font-size:10px}th.mat-header-cell[_ngcontent-%COMP%]{font-size:11px}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fff!important;font-size:12px;margin-top:6px}.nav-link[_ngcontent-%COMP%]{border-radius:20px 20px 0;background-color:#dbdbdb!important;padding-inline:10px;font-size:12px;margin-top:6px;color:#000}.table-img1[_ngcontent-%COMP%]{height:19px;width:19px}.check-status[_ngcontent-%COMP%]{height:18px!important;width:18px!important}}']}),n})();var gi=_(5861),fi=_(1279);function hi(n,i){if(1&n&&t._UZ(0,"img",38),2&n){const e=t.oxw(3);t.Q6J("src",e.logoStringifiedFile,t.LSH)}}function vi(n,i){if(1&n&&t._UZ(0,"img",42),2&n){const e=t.oxw().$implicit;t.Q6J("src",e,t.LSH)}}function xi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",39)(1,"i",40),t.NdJ("click",function(){const a=t.CHM(e).index;return t.oxw(3).closeHotelImage(a)}),t.qZA(),t.TgZ(2,"div",3),t.YNc(3,vi,1,1,"img",41),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(3),t.Q6J("ngIf",e)}}function bi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",25)(2,"div",26),t.YNc(3,hi,1,1,"img",27),t.TgZ(4,"label",28),t._UZ(5,"i",29),t.qZA(),t.TgZ(6,"input",30),t.NdJ("change",function(l){return t.CHM(e),t.oxw(2).uploadLogo(l)}),t.qZA()()(),t.TgZ(7,"div",31),t.YNc(8,xi,4,1,"div",32),t.TgZ(9,"div",33)(10,"div",34)(11,"label",35),t._UZ(12,"i",36),t.qZA(),t.TgZ(13,"input",37),t.NdJ("change",function(l){return t.CHM(e),t.oxw(2).uploadHotelImages(l)}),t.qZA()()()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",e.logoStringifiedFile),t.xp6(5),t.Q6J("ngForOf",e.hotelImages)}}function Ci(n,i){if(1&n&&t._UZ(0,"img",38),2&n){const e=t.oxw(3);t.Q6J("src",null==e.hotelDetails?null:e.hotelDetails.logoPath,t.LSH)}}function Zi(n,i){if(1&n&&t._UZ(0,"img",42),2&n){const e=t.oxw().$implicit;t.Q6J("src",null==e?null:e.imagePath,t.LSH)}}function yi(n,i){if(1&n&&(t.TgZ(0,"div",39)(1,"div",44),t.YNc(2,Zi,1,1,"img",41),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Q6J("ngIf",null==e?null:e.imagePath)}}function Ti(n,i){if(1&n&&(t.TgZ(0,"div",8)(1,"div",43)(2,"div",26),t.YNc(3,Ci,1,1,"img",27),t.qZA()(),t.TgZ(4,"div",31),t.YNc(5,yi,3,1,"div",32),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",null==e.hotelDetails?null:e.hotelDetails.logoPath),t.xp6(2),t.Q6J("ngForOf",null==e.hotelDetails?null:e.hotelDetails.imageList)}}function qi(n,i){if(1&n&&(t.TgZ(0,"div",45)(1,"strong",46),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.hotelDetails?null:e.hotelDetails.hotelName)}}function Ai(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Hotel Name is required "),t.qZA())}function wi(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter proper Hotel Name"),t.qZA())}function Pi(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Minimum 2-50 Charecters are allowed "),t.qZA())}function Ni(n,i){if(1&n&&(t.TgZ(0,"mat-form-field",49),t._UZ(1,"input",50),t.YNc(2,Ai,2,0,"mat-error",0),t.YNc(3,wi,2,0,"mat-error",0),t.YNc(4,Pi,2,0,"mat-error",0),t.qZA()),2&n){const e=t.oxw(3);let o,l,a;t.xp6(2),t.Q6J("ngIf",null==e.editHoteDetailsForm||null==(o=e.editHoteDetailsForm.get("hotelName"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",(null==e.editHoteDetailsForm||null==(l=e.editHoteDetailsForm.get("hotelName"))||null==l.errors?null:l.errors.pattern)&&!(null!=e.editHoteDetailsForm&&null!=(l=e.editHoteDetailsForm.get("hotelName"))&&null!=l.errors&&l.errors.minlength||null!=e.editHoteDetailsForm&&null!=(l=e.editHoteDetailsForm.get("hotelName"))&&null!=l.errors&&l.errors.maxlength)),t.xp6(1),t.Q6J("ngIf",(null==e.editHoteDetailsForm||null==(a=e.editHoteDetailsForm.get("hotelName"))||null==a.errors?null:a.errors.minlength)||(null==e.editHoteDetailsForm||null==(a=e.editHoteDetailsForm.get("hotelName"))||null==a.errors?null:a.errors.maxlength))}}function Di(n,i){if(1&n&&(t.TgZ(0,"div",47),t.YNc(1,Ni,5,3,"mat-form-field",48),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.editable)}}function ki(n,i){if(1&n&&(t.TgZ(0,"div",45)(1,"strong",46),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.hotelDetails?null:e.hotelDetails.hotelContactNumber)}}function Ui(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Hotel Number is required "),t.qZA())}function Mi(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter the proper Contact Number"),t.qZA())}function Ii(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",49)(1,"input",51),t.NdJ("keydown",function(l){return t.CHM(e),t.oxw(3).layoverService.isValidPhoneNumber(l)}),t.qZA(),t.YNc(2,Ui,2,0,"mat-error",0),t.YNc(3,Mi,2,0,"mat-error",0),t.qZA()}if(2&n){const e=t.oxw(3);let o,l;t.xp6(2),t.Q6J("ngIf",null==e.editHoteDetailsForm||null==(o=e.editHoteDetailsForm.get("hotelContactNumber"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.editHoteDetailsForm||null==(l=e.editHoteDetailsForm.get("hotelContactNumber"))||null==l.errors?null:l.errors.pattern)}}function Ri(n,i){if(1&n&&(t.TgZ(0,"div",47),t.YNc(1,Ii,4,2,"mat-form-field",48),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.editable)}}function Si(n,i){if(1&n&&(t.TgZ(0,"div",45)(1,"strong",46),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.hotelDetails?null:e.hotelDetails.email)}}function Yi(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," E-mail Address is required "),t.qZA())}function Hi(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter proper E-Mail"),t.qZA())}function Fi(n,i){if(1&n&&(t.TgZ(0,"mat-form-field",49),t._UZ(1,"input",52),t.YNc(2,Yi,2,0,"mat-error",0),t.YNc(3,Hi,2,0,"mat-error",0),t.qZA()),2&n){const e=t.oxw(3);let o,l;t.xp6(2),t.Q6J("ngIf",null==e.editHoteDetailsForm||null==(o=e.editHoteDetailsForm.get("email"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",(null==e.editHoteDetailsForm||null==(l=e.editHoteDetailsForm.get("email"))||null==l.errors?null:l.errors.email)||(null==e.editHoteDetailsForm||null==(l=e.editHoteDetailsForm.get("email"))||null==l.errors?null:l.errors.pattern))}}function Ji(n,i){if(1&n&&(t.TgZ(0,"div",47),t.YNc(1,Fi,4,2,"mat-form-field",48),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.editable)}}function Qi(n,i){if(1&n&&(t.TgZ(0,"div",45)(1,"strong",46),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.hotelDetails?null:e.hotelDetails.name)}}function Li(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Name is required "),t.qZA())}function Oi(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter proper Name "),t.qZA())}function Ei(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Minimum 2-50 Charecters are allowed "),t.qZA())}function Bi(n,i){if(1&n&&(t.TgZ(0,"mat-form-field",49),t._UZ(1,"input",53),t.YNc(2,Li,2,0,"mat-error",0),t.YNc(3,Oi,2,0,"mat-error",0),t.YNc(4,Ei,2,0,"mat-error",0),t.qZA()),2&n){const e=t.oxw(3);let o,l,a;t.xp6(2),t.Q6J("ngIf",null==e.editHoteDetailsForm||null==(o=e.editHoteDetailsForm.get("name"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",(null==e.editHoteDetailsForm||null==(l=e.editHoteDetailsForm.get("name"))||null==l.errors?null:l.errors.pattern)&&!(null!=e.editHoteDetailsForm&&null!=(l=e.editHoteDetailsForm.get("name"))&&null!=l.errors&&l.errors.minlength||null!=e.editHoteDetailsForm&&null!=(l=e.editHoteDetailsForm.get("name"))&&null!=l.errors&&l.errors.maxlength)),t.xp6(1),t.Q6J("ngIf",(null==e.editHoteDetailsForm||null==(a=e.editHoteDetailsForm.get("name"))||null==a.errors?null:a.errors.minlength)||(null==e.editHoteDetailsForm||null==(a=e.editHoteDetailsForm.get("name"))||null==a.errors?null:a.errors.maxlength))}}function ji(n,i){if(1&n&&(t.TgZ(0,"div",47),t.YNc(1,Bi,5,3,"mat-form-field",48),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.editable)}}function $i(n,i){if(1&n&&(t.TgZ(0,"div",45)(1,"strong",46),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.hotelDetails?null:e.hotelDetails.contactNumber)}}function zi(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Contact Number is required "),t.qZA())}function Gi(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter the proper Contact Number"),t.qZA())}function Vi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",49)(1,"input",54),t.NdJ("keydown",function(l){return t.CHM(e),t.oxw(3).layoverService.isValidPhoneNumber(l)}),t.qZA(),t.YNc(2,zi,2,0,"mat-error",0),t.YNc(3,Gi,2,0,"mat-error",0),t.qZA()}if(2&n){const e=t.oxw(3);let o,l;t.xp6(2),t.Q6J("ngIf",null==e.editHoteDetailsForm||null==(o=e.editHoteDetailsForm.get("contactNumber"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.editHoteDetailsForm||null==(l=e.editHoteDetailsForm.get("contactNumber"))||null==l.errors?null:l.errors.pattern)}}function Ki(n,i){if(1&n&&(t.TgZ(0,"div",47),t.YNc(1,Vi,4,2,"mat-form-field",48),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.editable)}}function Wi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",55)(1,"mat-icon",56),t.NdJ("click",function(){const a=t.CHM(e).index;return t.oxw(2).editHotelStarts(a)}),t._uU(2),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(2),t.hij("",e.filled?"star":"star_border"," ")}}function Xi(n,i){if(1&n&&(t.TgZ(0,"div",45)(1,"strong",46),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.hotelDetails?null:e.hotelDetails.hotelAddress)}}function tl(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Hotel Address is required "),t.qZA())}function el(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter proper Hotel Address "),t.qZA())}function nl(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Minimum 2-150 Charecters are allowed "),t.qZA())}function ol(n,i){if(1&n&&(t.TgZ(0,"mat-form-field",49),t._UZ(1,"input",57),t.YNc(2,tl,2,0,"mat-error",0),t.YNc(3,el,2,0,"mat-error",0),t.YNc(4,nl,2,0,"mat-error",0),t.qZA()),2&n){const e=t.oxw(3);let o,l,a;t.xp6(2),t.Q6J("ngIf",null==e.editHoteDetailsForm||null==(o=e.editHoteDetailsForm.get("hotelAddress"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.editHoteDetailsForm||null==(l=e.editHoteDetailsForm.get("hotelAddress"))||null==l.errors?null:l.errors.pattern),t.xp6(1),t.Q6J("ngIf",(null==e.editHoteDetailsForm||null==(a=e.editHoteDetailsForm.get("hotelAddress"))||null==a.errors?null:a.errors.minlength)||(null==e.editHoteDetailsForm||null==(a=e.editHoteDetailsForm.get("hotelAddress"))||null==a.errors?null:a.errors.maxlength))}}function il(n,i){if(1&n&&(t.TgZ(0,"div",47),t.YNc(1,ol,5,3,"mat-form-field",48),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.editable)}}function ll(n,i){if(1&n&&(t.TgZ(0,"div",45)(1,"strong",46),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.hotelDetails?null:e.hotelDetails.distance)}}function al(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Distance is required "),t.qZA())}function rl(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter proper Distance "),t.qZA())}function sl(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Minimum 2-150 Charecters are allowed "),t.qZA())}function cl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",49)(1,"input",58),t.NdJ("keydown",function(l){t.CHM(e);const a=t.oxw(3);return null==a.layoverService?null:a.layoverService.isValidDecimal(l)}),t.qZA(),t.YNc(2,al,2,0,"mat-error",0),t.YNc(3,rl,2,0,"mat-error",0),t.YNc(4,sl,2,0,"mat-error",0),t.qZA()}if(2&n){const e=t.oxw(3);let o,l,a;t.xp6(2),t.Q6J("ngIf",null==e.editHoteDetailsForm||null==(o=e.editHoteDetailsForm.get("distance"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.editHoteDetailsForm||null==(l=e.editHoteDetailsForm.get("distance"))||null==l.errors?null:l.errors.pattern),t.xp6(1),t.Q6J("ngIf",(null==e.editHoteDetailsForm||null==(a=e.editHoteDetailsForm.get("distance"))||null==a.errors?null:a.errors.minlength)||(null==e.editHoteDetailsForm||null==(a=e.editHoteDetailsForm.get("distance"))||null==a.errors?null:a.errors.maxlength))}}function dl(n,i){if(1&n&&(t.TgZ(0,"div",47),t.YNc(1,cl,5,3,"mat-form-field",48),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.editable)}}function ul(n,i){if(1&n&&(t.TgZ(0,"div",45)(1,"strong",46),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.hotelDetails?null:e.hotelDetails.hotelDescription)}}function ml(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Hotel Details is required "),t.qZA())}function _l(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter proper Hotel Details "),t.qZA())}function pl(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Minimum 2-150 Charecters are allowed "),t.qZA())}function gl(n,i){if(1&n&&(t.TgZ(0,"mat-form-field",49),t._UZ(1,"input",59),t.YNc(2,ml,2,0,"mat-error",0),t.YNc(3,_l,2,0,"mat-error",0),t.YNc(4,pl,2,0,"mat-error",0),t.qZA()),2&n){const e=t.oxw(3);let o,l,a;t.xp6(2),t.Q6J("ngIf",null==e.editHoteDetailsForm||null==(o=e.editHoteDetailsForm.get("hotelDescription"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.editHoteDetailsForm||null==(l=e.editHoteDetailsForm.get("hotelDescription"))||null==l.errors?null:l.errors.pattern),t.xp6(1),t.Q6J("ngIf",(null==e.editHoteDetailsForm||null==(a=e.editHoteDetailsForm.get("hotelDescription"))||null==a.errors?null:a.errors.minlength)||(null==e.editHoteDetailsForm||null==(a=e.editHoteDetailsForm.get("hotelDescription"))||null==a.errors?null:a.errors.maxlength))}}function fl(n,i){if(1&n&&(t.TgZ(0,"div",47),t.YNc(1,gl,5,3,"mat-form-field",48),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.editable)}}function hl(n,i){1&n&&t._UZ(0,"hr",60)}function vl(n,i){1&n&&(t.TgZ(0,"button",61),t._uU(1," Save"),t.qZA())}function xl(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"form",2),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().uploadHotelImagesAPI()}),t.TgZ(2,"div",3)(3,"div",4)(4,"div",5),t.NdJ("click",function(){return t.CHM(e),t.oxw().triggerEditable()}),t._UZ(5,"i",6),t.TgZ(6,"span",7),t._uU(7,"Edit"),t.qZA()()(),t.TgZ(8,"div",8)(9,"div",9)(10,"label",10),t._uU(11,"Upload Hotel Logo"),t.qZA(),t._UZ(12,"br"),t.qZA(),t.TgZ(13,"div",11)(14,"label",10),t._uU(15,"Upload / Edit Images"),t.qZA(),t._UZ(16,"br"),t.qZA()(),t.YNc(17,bi,14,2,"div",12),t.YNc(18,Ti,6,2,"div",12),t.TgZ(19,"div",13)(20,"div",14)(21,"label",15),t._uU(22,"Hotel Name"),t.qZA(),t.YNc(23,qi,3,1,"div",16),t.YNc(24,Di,2,1,"div",17),t.qZA(),t.TgZ(25,"div",14)(26,"label",15),t._uU(27,"Hotel Number"),t.qZA(),t.YNc(28,ki,3,1,"div",16),t.YNc(29,Ri,2,1,"div",17),t.qZA(),t.TgZ(30,"div",14)(31,"label",15),t._uU(32,"E-mail Address"),t.qZA(),t.YNc(33,Si,3,1,"div",16),t.YNc(34,Ji,2,1,"div",17),t.qZA()(),t.TgZ(35,"div",13)(36,"div",14)(37,"label",15),t._uU(38,"Name"),t.qZA(),t.YNc(39,Qi,3,1,"div",16),t.YNc(40,ji,2,1,"div",17),t.qZA(),t.TgZ(41,"div",14)(42,"label",15),t._uU(43,"Contact Number"),t.qZA(),t.YNc(44,$i,3,1,"div",16),t.YNc(45,Ki,2,1,"div",17),t.qZA(),t.TgZ(46,"div",14)(47,"div",18),t.YNc(48,Wi,3,1,"div",19),t.qZA()()(),t.TgZ(49,"div",13)(50,"div",14)(51,"label",15),t._uU(52,"Hotel Address"),t.qZA(),t.YNc(53,Xi,3,1,"div",16),t.YNc(54,il,2,1,"div",17),t.qZA(),t.TgZ(55,"div",14)(56,"label",15),t._uU(57,"Distance from selected location(km)"),t.qZA(),t.YNc(58,ll,3,1,"div",16),t.YNc(59,dl,2,1,"div",17),t.qZA()(),t.TgZ(60,"div",13)(61,"div",20)(62,"label",15),t._uU(63,"Hotel Details"),t.qZA(),t.YNc(64,ul,3,1,"div",16),t.YNc(65,fl,2,1,"div",17),t.qZA()(),t.YNc(66,hl,1,0,"hr",21),t.TgZ(67,"div",22)(68,"div",23),t.YNc(69,vl,2,0,"button",24),t.qZA()()()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.editHoteDetailsForm),t.xp6(16),t.Q6J("ngIf",e.editable),t.xp6(1),t.Q6J("ngIf",!e.editable),t.xp6(5),t.Q6J("ngIf",!e.editable),t.xp6(1),t.Q6J("ngIf",e.editable),t.xp6(4),t.Q6J("ngIf",!e.editable),t.xp6(1),t.Q6J("ngIf",e.editable),t.xp6(4),t.Q6J("ngIf",!e.editable),t.xp6(1),t.Q6J("ngIf",e.editable),t.xp6(5),t.Q6J("ngIf",!e.editable),t.xp6(1),t.Q6J("ngIf",e.editable),t.xp6(4),t.Q6J("ngIf",!e.editable),t.xp6(1),t.Q6J("ngIf",e.editable),t.xp6(3),t.Q6J("ngForOf",e.hotelStars),t.xp6(5),t.Q6J("ngIf",!e.editable),t.xp6(1),t.Q6J("ngIf",e.editable),t.xp6(4),t.Q6J("ngIf",!e.editable),t.xp6(1),t.Q6J("ngIf",e.editable),t.xp6(5),t.Q6J("ngIf",!e.editable),t.xp6(1),t.Q6J("ngIf",e.editable),t.xp6(1),t.Q6J("ngIf",e.editable),t.xp6(3),t.Q6J("ngIf",e.editable)}}function bl(n,i){1&n&&(t.TgZ(0,"div",62),t._UZ(1,"app-spinner"),t.qZA())}let Cl=(()=>{class n{constructor(e,o,l){this.toastr=e,this.layoverService=o,this.fb=l,this.hotelImages=[],this.hotelStars=[{filled:!1},{filled:!1},{filled:!1},{filled:!1},{filled:!1}],this.hotelFileImages=[]}ngOnInit(){this.editHoteDetailsForm=this.fb.group({hotelName:this.fb.control("",[s.kI.required,s.kI.pattern(/[a-zA-Z][a-zA-Z0-9\s().,&-/!]$/),s.kI.minLength(2),s.kI.maxLength(50)]),hotelContactNumber:this.fb.control("",[s.kI.required,s.kI.pattern(/^[0-9]{3,13}$/),s.kI.minLength(3),s.kI.maxLength(13)]),email:this.fb.control("",[s.kI.required,s.kI.pattern(/^[0-9a-z-_.+]+(?:\.[0-9a-z-_.+]+)*@[a-z-_+]{2,}(?:\.[a-z]{2,3})+$/)]),name:this.fb.control("",[s.kI.required,s.kI.pattern(/^[a-zA-Z\s ]*$/),s.kI.minLength(2),s.kI.maxLength(50)]),contactNumber:this.fb.control("",[s.kI.required,s.kI.pattern(/^[0-9]{3,13}$/),s.kI.minLength(3),s.kI.maxLength(13)]),hotelAddress:this.fb.control("",[s.kI.required,s.kI.minLength(2),s.kI.maxLength(150)]),hotelDescription:this.fb.control("",[s.kI.required,s.kI.minLength(2),s.kI.maxLength(150)]),distance:this.fb.control("",[s.kI.required,s.kI.pattern(/^[0-9.]{1,4}$/)])}),this.getHotelDetails()}getHotelDetails(){this.isPending=!0,this.layoverService.getHotelDetails().subscribe({next:e=>{var o,l,a,r,c,m,p,d,u,C,y,f;!e.isError&&e.message?(this.isPending=!1,this.hotelDetails=e.data,this.editHoteDetailsForm.patchValue({hotelName:null===(o=this.hotelDetails)||void 0===o?void 0:o.hotelName,hotelContactNumber:null===(l=this.hotelDetails)||void 0===l?void 0:l.hotelContactNumber,email:null===(a=this.hotelDetails)||void 0===a?void 0:a.email,name:null===(r=this.hotelDetails)||void 0===r?void 0:r.name,contactNumber:null===(c=this.hotelDetails)||void 0===c?void 0:c.contactNumber,hoteStars:null===(m=this.hotelDetails)||void 0===m?void 0:m.hoteStars,hotelAddress:null===(p=this.hotelDetails)||void 0===p?void 0:p.hotelAddress,hotelDescription:null===(d=this.hotelDetails)||void 0===d?void 0:d.hotelDescription,distance:null===(u=this.hotelDetails)||void 0===u?void 0:u.distance}),this.logoStringifiedFile=null===(C=this.hotelDetails)||void 0===C?void 0:C.logoPath,this.currentImageList=null===(y=this.hotelDetails)||void 0===y?void 0:y.imageList,this.currentLogoPath=null===(f=this.hotelDetails)||void 0===f?void 0:f.logoPath,this.hotelImages=this.currentImageList.map(Z=>null==Z?void 0:Z.imagePath),this.hotelStars=this.hotelStars.map((Z,sa)=>{var M;return Z.filled=sa<=(null===(M=this.hotelDetails)||void 0===M?void 0:M.hotelStars)-1,Z})):(this.isPending=!1,this.toastr.error("No Data Found"))},error:e=>{var o;(null==e?void 0:e.error).isError?(this.isPending=!1,this.toastr.error(null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message)):(this.isPending=!1,this.toastr.error("Sorry! Something went wrong"))}})}uploadLogo(e){let o=e.target.files.item(0);if(o=this.fileTest(o),this.logoFile=o,o){let l=new FileReader;l.readAsDataURL(o),l.onloadend=()=>{this.logoStringifiedFile=l.result}}else this.logoStringifiedFile="",e.target.value=null}fileTest(e){return e&&e.type.includes("image")&&e.size<3e6?e:e&&e.type.includes("image")&&e.size>3e6?(this.toastr.error("File size should be less than 3 MB"),null):(this.toastr.error("Only image file are allowed"),null)}uploadHotelImages(e){var o;let l=e.target.files;if(l.length>0)for(let a=0;a<l.length;a++)if(this.uploadedFile=this.fileTest(l[a]),this.uploadedFile){null===(o=this.hotelFileImages)||void 0===o||o.push(this.uploadedFile);let r=new FileReader;r.readAsDataURL(l[a]),r.onloadend=()=>{this.hotelImages.push(r.result)}}else this.uploadedFile=null,e.target.files[a]=null;else this.hotelImages=[]}closeHotelImage(e){this.currentImageList.splice(e,1),this.deleteImageFile(this.hotelImages[e])}editHotelStarts(e){this.hotelStars.map((o,l)=>(o.filled=e===l?!o.filled:o.filled,o)),this.hotelStars=this.hotelStars.filter(o=>o.filled).concat(this.hotelStars.filter(o=>!o.filled))}onHotelUpdate(){var e,o,l;const a={hotelId:this.hotelDetails.hotelId,hotelName:this.editHoteDetailsForm.get("hotelName").value?this.editHoteDetailsForm.get("hotelName").value:null,email:this.editHoteDetailsForm.get("email").value?this.editHoteDetailsForm.get("email").value:null,contactNumber:this.editHoteDetailsForm.get("contactNumber").value?this.editHoteDetailsForm.get("contactNumber").value:null,hotelContactNumber:this.editHoteDetailsForm.get("hotelContactNumber").value?this.editHoteDetailsForm.get("hotelContactNumber").value:null,hotelAddress:this.editHoteDetailsForm.get("hotelAddress").value?this.editHoteDetailsForm.get("hotelAddress").value:null,name:this.editHoteDetailsForm.get("name").value?this.editHoteDetailsForm.get("name").value:null,hotelStars:this.hotelStars.filter(r=>r.filled).length,hotelDescription:this.editHoteDetailsForm.get("hotelDescription").value?this.editHoteDetailsForm.get("hotelDescription").value:null,status:this.hotelDetails.status,imageList:this.currentImageList,logoPath:this.currentLogoPath,location:this.hotelDetails.location,hotelTitle:this.hotelDetails.hotelTitle,country:this.hotelDetails.country,userType:this.hotelDetails.userType,adminNote:this.hotelDetails.adminNote,isDeleted:this.hotelDetails.isDeleted,isBlocked:this.hotelDetails.isBlocked,distance:this.editHoteDetailsForm.get("distance").value,adminNotify:null===(e=this.hotelDetails)||void 0===e?void 0:e.adminNotify,companyNotify:null===(o=this.hotelDetails)||void 0===o?void 0:o.companyNotify,hotelNotify:null===(l=this.hotelDetails)||void 0===l?void 0:l.hotelNotify};this.isPending=!0,this.editHoteDetailsForm.valid&&this.layoverService.updateHotel(a).subscribe({next:r=>{!(null==r?void 0:r.isError)&&r.message?(this.toastr.success("Hotel Details Updated Successfully"),this.editable=!1,this.isPending=!1,this.getHotelDetails(),this.uploadedFile=null,this.logoFile=null,this.hotelFileImages=[]):(this.toastr.error("Hotel Updation Failed"),this.isPending=!1)},error:r=>{var c;(null==r?void 0:r.isError)?(this.isPending=!1,this.toastr.error(null===(c=null==r?void 0:r.error)||void 0===c?void 0:c.message)):(this.isPending=!1,this.toastr.error("Sorry! Something went wrong"))}})}triggerEditable(){this.editable=!this.editable}uploadHotelImagesAPI(){var e=this;return(0,gi.Z)(function*(){e.editHoteDetailsForm.valid&&(yield e.layoverService.uploadHotelImages(e.logoFile,e.hotelFileImages)).subscribe({next:o=>{var l,a,r,c;!(null==o?void 0:o.isError)&&o.data&&(e.currentLogoPath=null===(l=null==o?void 0:o.data)||void 0===l?void 0:l.logoPath,Array.isArray(null===(a=null==o?void 0:o.data)||void 0===a?void 0:a.imageList)&&(null===(r=null==o?void 0:o.data)||void 0===r?void 0:r.imageList.length)>0&&(e.currentImageList=null===(c=o.data)||void 0===c?void 0:c.imageList),setTimeout(()=>{e.onHotelUpdate()}))},error:o=>{var l;let a=o.error;e.toastr.error((null==a?void 0:a.isError)?null===(l=null==o?void 0:o.error)||void 0===l?void 0:l.message:"Hotel Logo & Images Updation failed")}})})()}deleteImageFile(e){let o={id:this.layoverService.getLocalStorageValue("hotelId"),path:e};this.layoverService.deleteImage(o).subscribe({next:l=>{(null==l?void 0:l.isError)||(this.toastr.success(null==l?void 0:l.message),this.isPending=!1,this.getHotelDetails())},error:l=>{var a;let r=l.error;(null==r?void 0:r.isError)?(this.toastr.error(null===(a=null==l?void 0:l.error)||void 0===a?void 0:a.message),setTimeout(()=>{this.getHotelDetails(),this.editable=!1})):this.toastr.error("Sorry! Something went wrong")}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(q._W),t.Y36(T.y),t.Y36(s.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-profiles"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","spinner-pos",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,""],[1,"row","mt-2"],[1,"col-md-12","text-end","cursor-pointer",2,"color","#0A62B9","cursor","pointer",3,"click"],["aria-hidden","true",1,"fa","fa-pencil"],[1,"ms-1","fw-bold"],[1,"row","mt-1"],[1,"col-md-2"],[1,"mb-1",2,"font-size","12px","color","#707070"],[1,"col-md-auto"],["class","row mt-1",4,"ngIf"],[1,"row","mt-3"],[1,"col-md-4"],[1,"my-0"],["class","ms-3",4,"ngIf"],["class","ms-0",4,"ngIf"],[1,"row","my-0"],["class","col-md-auto pe-0","style","color: #DADADA;",4,"ngFor","ngForOf"],[1,"col-md-12"],["class","my-2",4,"ngIf"],[1,"row","mb-2"],[1,"col-md-12","text-center"],["class","btn shadow-none","style","color: white; background:#0A62B9;","type","submit",4,"ngIf"],[1,"col-md-2","mt-3"],[1,"ms-1","text-center","position-relative",2,"border","2px solid #A1A1A1","height","80px","width","125px","border-radius","7px"],["style","height: 76px;width: 120px;border-radius: 7px;",3,"src",4,"ngIf"],["for","upload-hotel-logo"],["aria-hidden","true",1,"fa","fa-plus-circle","fa-2x","mt-4","cursor-pointer",2,"color","#A1A1A1","cursor","pointer"],["type","file","name","","id","upload-hotel-logo","accept","image/*,.png,.jpg,.jpeg",1,"d-none",3,"change"],[1,"col-md-10","row"],["class","col-md-auto text-end mb-1",4,"ngFor","ngForOf"],[1,"col-md-2","mt-auto"],[1,"text-center","position-relative",2,"border","2px solid #A1A1A1","height","80px","width","125px","border-radius","7px"],["for","upload-hotel-images"],["aria-hidden","true",1,"fa","fa-plus-circle","fa-2x","mt-4",2,"color","#A1A1A1","cursor","pointer"],["type","file","name","","id","upload-hotel-images","multiple","",1,"d-none",3,"change"],[2,"height","76px","width","120px","border-radius","7px",3,"src"],[1,"col-md-auto","text-end","mb-1"],["aria-hidden","true",1,"far","fa-times-circle","text-danger","cursor-pointer",2,"cursor","pointer",3,"click"],["class","ms-1","alt","","style","height: 79px; width: 127px;border-radius: 7px;border:2px solid #A1A1A1;",3,"src",4,"ngIf"],["alt","",1,"ms-1",2,"height","79px","width","127px","border-radius","7px","border","2px solid #A1A1A1",3,"src"],[1,"col-md-2","mt-4"],[1,"mt-4"],[1,"ms-3"],[1,"sub-content"],[1,"ms-0"],["appearance","standard",4,"ngIf"],["appearance","standard"],["type","text","matInput","","formControlName","hotelName"],["type","number","matInput","","formControlName","hotelContactNumber",3,"keydown"],["type","text","matInput","","formControlName","email"],["type","text","matInput","","formControlName","name"],["type","text","matInput","","formControlName","contactNumber",3,"keydown"],[1,"col-md-auto","pe-0",2,"color","#DADADA"],[1,"text-warning","cursor-pointer",3,"click"],["type","text","matInput","","formControlName","hotelAddress"],["type","number","matInput","","formControlName","distance",3,"keydown"],["type","text","matInput","","formControlName","hotelDescription"],[1,"my-2"],["type","submit",1,"btn","shadow-none",2,"color","white","background","#0A62B9"],[1,"spinner-pos"]],template:function(e,o){1&e&&(t.YNc(0,xl,70,22,"ng-container",0),t.YNc(1,bl,2,0,"div",1)),2&e&&(t.Q6J("ngIf",!o.isPending),t.xp6(1),t.Q6J("ngIf",o.isPending))},directives:[h.O5,s._Y,s.JL,s.sg,h.sg,x.KE,k.Nt,s.Fj,s.JJ,s.u,x.TO,s.wV,fi.Hw,P.O],styles:["label[_ngcontent-%COMP%]{font-size:12px;color:#707070}.sub-content[_ngcontent-%COMP%]{font-size:15px}.fa-plus-circle[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),n})();const Zl=["dashboard"],yl=["requests"],Tl=["payments"],ql=["profiles"];function Al(n,i){1&n&&(t.TgZ(0,"div",65),t._UZ(1,"mat-spinner"),t.qZA())}function wl(n,i){if(1&n&&t._UZ(0,"img",66),2&n){const e=t.oxw();t.Q6J("src",null==e.hotelDetails?null:e.hotelDetails.logoPath,t.LSH)}}function Pl(n,i){1&n&&t._UZ(0,"i",67)}function Nl(n,i){1&n&&t._UZ(0,"i",68)}function Dl(n,i){if(1&n&&(t.TgZ(0,"h4",69),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",null!=e.hotelPriceDetails&&e.hotelPriceDetails.singleRooms?null==e.hotelPriceDetails?null:e.hotelPriceDetails.singleRooms:0,"")}}function kl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"input",70),t.NdJ("keydown",function(l){t.CHM(e);const a=t.oxw();return null==a.layoverService?null:a.layoverService.isValidPhoneNumber(l)}),t.qZA()}}function Ul(n,i){if(1&n&&(t.TgZ(0,"h4",69),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",null!=e.hotelPriceDetails&&e.hotelPriceDetails.doubleRooms?null==e.hotelPriceDetails?null:e.hotelPriceDetails.doubleRooms:0,"")}}function Ml(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"input",71),t.NdJ("keydown",function(l){t.CHM(e);const a=t.oxw();return null==a.layoverService?null:a.layoverService.isValidPhoneNumber(l)}),t.qZA()}}function Il(n,i){if(1&n&&(t.TgZ(0,"h4",69),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",null!=e.hotelPriceDetails&&e.hotelPriceDetails.accessibleRooms?null==e.hotelPriceDetails?null:e.hotelPriceDetails.accessibleRooms:0,"")}}function Rl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"input",72),t.NdJ("keydown",function(l){t.CHM(e);const a=t.oxw();return null==a.layoverService?null:a.layoverService.isValidPhoneNumber(l)}),t.qZA()}}function Sl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",73),t.NdJ("click",function(){return t.CHM(e),t.oxw().isEditable()}),t._uU(1," Edit "),t.qZA()}}function Yl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",74),t.NdJ("click",function(){return t.CHM(e),t.oxw().updatePrice()}),t._uU(1," Save "),t.qZA()}}function Hl(n,i){if(1&n&&(t.TgZ(0,"span",75),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null!=e.hotelPriceDetails&&e.hotelPriceDetails.singleRoomPrice?null==e.hotelPriceDetails?null:e.hotelPriceDetails.singleRoomPrice:0)}}function Fl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"input",76),t.NdJ("keydown",function(l){t.CHM(e);const a=t.oxw();return null==a.layoverService?null:a.layoverService.isValidDecimal(l)}),t.qZA()}}function Jl(n,i){if(1&n&&(t.TgZ(0,"span",75),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null!=e.hotelPriceDetails&&e.hotelPriceDetails.doubleRoomPrice?null==e.hotelPriceDetails?null:e.hotelPriceDetails.doubleRoomPrice:0)}}function Ql(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"input",77),t.NdJ("keydown",function(l){t.CHM(e);const a=t.oxw();return null==a.layoverService?null:a.layoverService.isValidDecimal(l)}),t.qZA()}}function Ll(n,i){if(1&n&&(t.TgZ(0,"span",75),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null!=e.hotelPriceDetails&&e.hotelPriceDetails.accessibleRoomPrice?null==e.hotelPriceDetails?null:e.hotelPriceDetails.accessibleRoomPrice:0)}}function Ol(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"input",78),t.NdJ("keydown",function(l){t.CHM(e);const a=t.oxw();return null==a.layoverService?null:a.layoverService.isValidDecimal(l)}),t.qZA()}}function El(n,i){if(1&n&&(t.TgZ(0,"span",75),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null!=e.hotelPriceDetails&&e.hotelPriceDetails.breakfastPrice?null==e.hotelPriceDetails?null:e.hotelPriceDetails.breakfastPrice:0)}}function Bl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"input",79),t.NdJ("keydown",function(l){t.CHM(e);const a=t.oxw();return null==a.layoverService?null:a.layoverService.isValidDecimal(l)}),t.qZA()}}function jl(n,i){if(1&n&&(t.TgZ(0,"span",75),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null!=e.hotelPriceDetails&&e.hotelPriceDetails.lunchPrice?null==e.hotelPriceDetails?null:e.hotelPriceDetails.lunchPrice:0)}}function $l(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"input",80),t.NdJ("keydown",function(l){t.CHM(e);const a=t.oxw();return null==a.layoverService?null:a.layoverService.isValidDecimal(l)}),t.qZA()}}function zl(n,i){if(1&n&&(t.TgZ(0,"span",75),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null!=e.hotelPriceDetails&&e.hotelPriceDetails.dinnerPrice?null==e.hotelPriceDetails?null:e.hotelPriceDetails.dinnerPrice:0)}}function Gl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"input",81),t.NdJ("keydown",function(l){t.CHM(e);const a=t.oxw();return null==a.layoverService?null:a.layoverService.isValidDecimal(l)}),t.qZA()}}function Vl(n,i){if(1&n&&(t.TgZ(0,"span",75),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null!=e.hotelPriceDetails&&e.hotelPriceDetails.beveragePrice?null==e.hotelPriceDetails?null:e.hotelPriceDetails.beveragePrice:0)}}function Kl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"input",82),t.NdJ("keydown",function(l){t.CHM(e);const a=t.oxw();return null==a.layoverService?null:a.layoverService.isValidDecimal(l)}),t.qZA()}}function Wl(n,i){1&n&&t._UZ(0,"span",90)}function Xl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",83),t.NdJ("click",function(){const a=t.CHM(e).index;return t.oxw().openBottom(a)}),t.TgZ(1,"div",84)(2,"div",85),t._UZ(3,"img",86),t.YNc(4,Wl,1,0,"span",87),t.qZA(),t.TgZ(5,"div",88)(6,"h6",89),t._uU(7),t.qZA()()()()}if(2&n){const e=i.$implicit,o=i.index,l=t.oxw();t.Q6J("ngClass",o!==l.carouselFooter.length-1?"border-space ":""),t.xp6(2),t.Q6J("ngClass",0===o?"active":""),t.uIk("data-bs-slide-to",o),t.xp6(1),t.Q6J("src",e.imgUrl,t.LSH),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.badgeFlag)&&(null==e?null:e.badgeCount)>0),t.xp6(1),t.Q6J("ngClass",0===o?"active":""),t.uIk("data-bs-slide-to",o),t.xp6(2),t.hij(" ",null==e?null:e.title," ")}}function ta(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",91)(1,"h6",92)(2,"nav",93)(3,"ol",94)(4,"li",95)(5,"a",96),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"img",97),t._uU(7," Home "),t.qZA()(),t.TgZ(8,"li",98),t._uU(9,"Dashboard "),t.qZA()()()(),t.TgZ(10,"button",99),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.qZA()(),t.TgZ(11,"div",100),t._UZ(12,"app-dashboard"),t.qZA()}}function ea(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",91)(1,"h6",92)(2,"nav",93)(3,"ol",94)(4,"li",95)(5,"a",96),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"img",97),t._uU(7," Home "),t.qZA()(),t.TgZ(8,"li",98),t._uU(9,"Requests "),t.qZA()()()(),t.TgZ(10,"button",99),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return[t.oxw().fetchAllRequestForHotel(),a.dismiss("Cross click")]}),t.qZA()(),t.TgZ(11,"div",101),t._UZ(12,"app-requests"),t.qZA()}}function na(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",91)(1,"h6",92)(2,"nav",93)(3,"ol",94)(4,"li",95)(5,"a",96),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"img",97),t._uU(7," Home "),t.qZA()(),t.TgZ(8,"li",98),t._uU(9,"Payments "),t.qZA()()()(),t.TgZ(10,"button",99),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.qZA()(),t.TgZ(11,"div",101),t._UZ(12,"app-payments"),t.qZA()}}function oa(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",91)(1,"h6",102)(2,"nav",93)(3,"ol",94)(4,"li",95)(5,"a",96),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._UZ(6,"img",97),t._uU(7," Home "),t.qZA()(),t.TgZ(8,"li",98),t._uU(9,"Profiles "),t.qZA()()()(),t.TgZ(10,"button",99),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return[a.dismiss("Cross click"),r.getHotelDetails()]}),t.qZA()(),t.TgZ(11,"div",100),t._UZ(12,"app-profiles"),t.qZA()}}const ia=[{path:"",component:(()=>{class n{constructor(e,o,l,a){this.offcanvasService=e,this.layoverService=o,this.fb=l,this.toastr=a,this.selectedIndex=0,this.registerBtnFlag=!1,this.editable=!1,this.isPending=!1,this.navBarDetails=["Home","Aviation","Hotels","About Us","Careers","Contact"],this.carouselFooter=[{title:"Dashboard",imgUrl:"/assets/images/dashboard.svg",badgeFlag:!1},{title:"Requests",imgUrl:"/assets/images/information.png",badgeFlag:!0,badgeCount:0},{title:"Payments",imgUrl:"/assets/images/wallet.png",badgeFlag:!0,badgeCount:0},{title:"Profiles",imgUrl:"/assets/images/user.png",badgeFlag:!1}],document.title="Layoverconnect | Hotels"}ngOnInit(){this.editHotelPricesForm=this.fb.group({singleRoomCount:this.fb.control("",[]),doubleRoomCount:this.fb.control("",[]),accessibleRoomCount:this.fb.control("",[]),singleRoomFarePerNight:this.fb.control("",[]),doubleRoomFarePerNight:this.fb.control("",[]),accessibleRoomFarePerNight:this.fb.control("",[]),breakfast:this.fb.control("",[]),lunch:this.fb.control("",[]),dinner:this.fb.control("",[]),beverage:this.fb.control("",[])}),setTimeout(()=>{this.fetchAllRequestForHotel(),this.getHotelPriceDetails()})}ngAfterViewInit(){}getCurrentIndex(e,o){}toggleFlag(){this.registerBtnFlag=!this.registerBtnFlag}openBottom(e){0===e?this.openBottomDashboard(this.dashboard):1===e?this.openBottomRequests(this.requests):2===e?this.openBottomPayments(this.payments):3===e&&this.openBottomProfiles(this.profiles)}openBottomDashboard(e){this.offcanvasService.open(e,{position:"bottom"})}openBottomRequests(e){this.offcanvasService.open(e,{position:"bottom"})}openBottomPayments(e){this.offcanvasService.open(e,{position:"bottom"})}openBottomProfiles(e){this.offcanvasService.open(e,{position:"bottom"})}isEditable(){var e,o,l,a,r,c,m,p,d,u;this.editable=!this.editable,this.editHotelPricesForm.patchValue({singleRoomCount:null===(e=this.hotelPriceDetails)||void 0===e?void 0:e.singleRooms,doubleRoomCount:null===(o=this.hotelPriceDetails)||void 0===o?void 0:o.doubleRooms,accessibleRoomCount:null===(l=this.hotelPriceDetails)||void 0===l?void 0:l.accessibleRooms,singleRoomFarePerNight:null===(a=this.hotelPriceDetails)||void 0===a?void 0:a.singleRoomPrice,doubleRoomFarePerNight:null===(r=this.hotelPriceDetails)||void 0===r?void 0:r.doubleRoomPrice,accessibleRoomFarePerNight:null===(c=this.hotelPriceDetails)||void 0===c?void 0:c.accessibleRoomPrice,breakfast:null===(m=this.hotelPriceDetails)||void 0===m?void 0:m.breakfastPrice,lunch:null===(p=this.hotelPriceDetails)||void 0===p?void 0:p.lunchPrice,dinner:null===(d=this.hotelPriceDetails)||void 0===d?void 0:d.dinnerPrice,beverage:null===(u=this.hotelPriceDetails)||void 0===u?void 0:u.beveragePrice})}getHotelPriceDetails(){this.isPending=!0,this.layoverService.getHotelPriceDetails().subscribe({next:e=>{var o;!e.isError&&e.message?(this.hotelPriceDetails=e.data,this.layoverService.localStorageSetItem("hotelDetailsId",null===(o=this.hotelPriceDetails)||void 0===o?void 0:o.hotelDetailsId),this.getHotelDetails()):this.hotelPriceDetails=null},error:e=>{e&&(this.isPending=!1,this.hotelPriceDetails=null)}})}getHotelDetails(){this.layoverService.getHotelDetails().subscribe({next:e=>{!e.isError&&e.message?(this.isPending=!1,this.hotelDetails=e.data):(this.isPending=!1,this.toastr.error(e.message))},error:e=>{let o=null==e?void 0:e.error;o.isError?(this.isPending=!1,this.toastr.error(o.message)):(this.isPending=!1,this.toastr.error("Sorry! Something went wrong"))}})}updatePrice(){var e,o,l,a,r,c;let m={hotelDetailsId:null===(e=this.hotelPriceDetails)||void 0===e?void 0:e.hotelDetailsId,singleRooms:this.editHotelPricesForm.get("singleRoomCount").value,doubleRooms:this.editHotelPricesForm.get("doubleRoomCount").value,accessibleRooms:this.editHotelPricesForm.get("accessibleRoomCount").value,singleRoomPrice:this.editHotelPricesForm.get("singleRoomFarePerNight").value,doubleRoomPrice:this.editHotelPricesForm.get("doubleRoomFarePerNight").value,accessibleRoomPrice:this.editHotelPricesForm.get("accessibleRoomFarePerNight").value,beveragePrice:this.editHotelPricesForm.get("beverage").value,breakfastPrice:this.editHotelPricesForm.get("breakfast").value,lunchPrice:this.editHotelPricesForm.get("lunch").value,dinnerPrice:this.editHotelPricesForm.get("dinner").value,totalRooms:Number(this.editHotelPricesForm.get("singleRoomCount").value+this.editHotelPricesForm.get("doubleRoomCount").value+this.editHotelPricesForm.get("accessibleRoomCount").value),hotelId:null===(o=this.hotelDetails)||void 0===o?void 0:o.hotelId,hotelName:null===(l=this.hotelDetails)||void 0===l?void 0:l.hotelName,hotelStar:null===(a=this.hotelDetails)||void 0===a?void 0:a.hotelStar,hotelDescription:null===(r=this.hotelDetails)||void 0===r?void 0:r.hotelDescription,hotelImages:null===(c=this.hotelDetails)||void 0===c?void 0:c.hotelImages};this.layoverService.updateHotelPrice(m).subscribe({next:p=>{this.toastr.success("Hotel Details Updated Successfully"),this.isEditable(),this.getHotelPriceDetails()},error:p=>{this.toastr.success("Hotel Details Updation failed")}})}fetchAllRequestForHotel(){let e={requestId:this.layoverService.getLocalStorageValue("hotelDetailsId"),startDateTime:null,endDateTime:null};this.layoverService.fetchAllRequestForHotel(e).subscribe({next:o=>{var l;!o.isError&&Array.isArray(null==o?void 0:o.data)&&(null===(l=null==o?void 0:o.data)||void 0===l?void 0:l.length)>0&&(this.carouselFooter[1].badgeCount=o.data.filter(a=>!1===a.hotelNotify).length)}})}getAllPayments(){const e={requestId:this.layoverService.getLocalStorageValue("hotelDetailsId"),startDateTime:null,endDateTime:null};this.layoverService.getPaymentDetailsByHotel(e).subscribe({next:o=>{!o.isError&&o.message&&Array.isArray(o.data)&&o.data.length>0&&(this.carouselFooter[2].badgeCount=o.data.filter(l=>!l.hotelNotify).length)}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(A._B),t.Y36(T.y),t.Y36(s.qu),t.Y36(q._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-carousel"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Zl,5),t.Gf(yl,5),t.Gf(Tl,5),t.Gf(ql,5)),2&e){let l;t.iGM(l=t.CRH())&&(o.dashboard=l.first),t.iGM(l=t.CRH())&&(o.requests=l.first),t.iGM(l=t.CRH())&&(o.payments=l.first),t.iGM(l=t.CRH())&&(o.profiles=l.first)}},decls:121,vars:30,consts:[["class","spinner-pos",4,"ngIf"],["id","carouselExampleControls","data-bs-ride","carousel","data-bs-ride","carousel","data-bs-pause","hover","data-bs-interval","false",1,"carousel","slide"],["id","header",1,"fixed-top"],[1,"navbar","navbar-expand-lg","navbar-light","bg-topbar","py-0"],["href","#",1,"navbar-brand","text-white","ps-5"],["width","50","height","50",3,"src",4,"ngIf"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","text-white"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","justify-content-end"],[1,"my-2","my-lg-0"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"me-3","text-white","btn","register-us-btn","shadow-none",3,"click"],["src","../../../assets/images/profile.png",2,"width","30px","height","30px"],["class","fas fa-angle-up ms-2",4,"ngIf"],["class","fas fa-angle-down ms-2",4,"ngIf"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu","dropdown-menu","dropdown-menu-end","dropdown-menu-lg-end"],[1,"dropdown-item","text-white","border-bottom",3,"click"],["data-bs-toggle","modal","data-bs-target","#airlinesModal",1,"dropdown-item","text-white",3,"click"],[1,"carousel-inner"],[1,"carousel-item","active",2,"height","auto","background","rgba(0, 0, 0, 0.5)"],["id","hero","playsinline","","autoplay","","loop","",1,"",2,"object-fit","fill",3,"muted"],["src","https://layover-connect-s3.s3.ap-south-1.amazonaws.com/Videos/hotel_carousel_bg_video.mp4","type","video/mp4"],[1,"w-75",2,"position","absolute","left","50%","top","50%","transform","translate(-50%, -50%)"],[3,"ngClass"],[3,"formGroup"],[1,"row","justify-content-between","text-center","w-100","m-0"],[1,"col","row","border-end"],[1,"col-md-6","px-0","mb-2","border-1","border-bottom"],["src","/assets/images/single-bed.png","width","50px","height","50px"],[1,"layover-text-primary"],["class","fw-bold",4,"ngIf"],["type","number","formControlName","singleRoomCount","class","form-control py-1 mb-1 shadow-none","type","number","onKeyPress","if(this.value.length==4) return false;",3,"keydown",4,"ngIf"],["src","/assets/images/double-bed.png","width","50px","height","50px"],["type","number","formControlName","doubleRoomCount","class","form-control py-1 mb-1 shadow-none","type","number","onKeyPress","if(this.value.length==4) return false;",3,"keydown",4,"ngIf"],[1,"col","row"],["src","/assets/images/disabled.png","width","50px","height","50px"],["type","number","formControlName","accessibleRoomCount","class","form-control py-1 mb-1 shadow-none","type","number","onKeyPress","if(this.value.length==4) return false;",3,"keydown",4,"ngIf"],[1,"col-md-auto","row"],[1,"my-auto"],["class","btn layover-primary-btn px-4 py-3 my-auto",3,"click",4,"ngIf"],["class","btn layover-primary-btn px-4 py-3",3,"click",4,"ngIf"],[1,"col","border-right","border-bottom","border-1"],[1,"text-color-primary"],["class","text-color-primary fw-bold",4,"ngIf"],["type","number","formControlName","singleRoomFarePerNight","class","w-50 form-control py-1 d-inline shadow-none fw-bold","type","number","onKeyPress","if(this.value.length==6) return false;",3,"keydown",4,"ngIf"],["type","number","formControlName","doubleRoomFarePerNight","class","fw-bold w-50 form-control py-1 d-inline shadow-none","type","number","onKeyPress","if(this.value.length==6) return false;",3,"keydown",4,"ngIf"],["type","number","formControlName","accessibleRoomFarePerNight","class","fw-bold w-50 form-control py-1 d-inline shadow-none","type","number","onKeyPress","if(this.value.length==6) return false;",3,"keydown",4,"ngIf"],[1,"col-auto"],[1,"row","justify-content-between","text-center"],[1,"col-md-3","mt-1"],[1,"sub-text"],["type","number","formControlName","breakfast","class","w-50 form-control py-1 mt-1 d-inline shadow-none","type","number","onKeyPress","if(this.value.length==6) return false;",3,"keydown",4,"ngIf"],["type","number","formControlName","lunch","class","w-50 form-control py-1 mt-1 d-inline shadow-none","type","number","onKeyPress","if(this.value.length==6) return false;",3,"keydown",4,"ngIf"],["type","number","formControlName","dinner","class","w-50 form-control py-1 mt-1 d-inline shadow-none","type","number","onKeyPress","if(this.value.length==6) return false;",3,"keydown",4,"ngIf"],["type","number","formControlName","beverage","class","w-50 form-control py-1 mt-1 d-inline shadow-none","type","number","onKeyPress","if(this.value.length==6) return false;",3,"keydown",4,"ngIf"],[1,"mx-3"],[1,"carousel-footer","border-radius","d-none","d-md-block","bg-white","w-90",2,"background","rgba(0, 0, 0, 0.5)"],[1,"p-0"],[1,"row","justify-content-between","w-100","m-0"],["class","col-md-3 col-lg-3 col-sm-3 col-3 col-xl-3 carousel-footer-item p-3 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],["class","h-90"],["dashboard",""],["requests",""],["payments",""],["profiles",""],[1,"spinner-pos"],["width","50","height","50",3,"src"],[1,"fas","fa-angle-up","ms-2"],[1,"fas","fa-angle-down","ms-2"],[1,"fw-bold"],["type","number","formControlName","singleRoomCount","type","number","onKeyPress","if(this.value.length==4) return false;",1,"form-control","py-1","mb-1","shadow-none",3,"keydown"],["type","number","formControlName","doubleRoomCount","type","number","onKeyPress","if(this.value.length==4) return false;",1,"form-control","py-1","mb-1","shadow-none",3,"keydown"],["type","number","formControlName","accessibleRoomCount","type","number","onKeyPress","if(this.value.length==4) return false;",1,"form-control","py-1","mb-1","shadow-none",3,"keydown"],[1,"btn","layover-primary-btn","px-4","py-3","my-auto",3,"click"],[1,"btn","layover-primary-btn","px-4","py-3",3,"click"],[1,"text-color-primary","fw-bold"],["type","number","formControlName","singleRoomFarePerNight","type","number","onKeyPress","if(this.value.length==6) return false;",1,"w-50","form-control","py-1","d-inline","shadow-none","fw-bold",3,"keydown"],["type","number","formControlName","doubleRoomFarePerNight","type","number","onKeyPress","if(this.value.length==6) return false;",1,"fw-bold","w-50","form-control","py-1","d-inline","shadow-none",3,"keydown"],["type","number","formControlName","accessibleRoomFarePerNight","type","number","onKeyPress","if(this.value.length==6) return false;",1,"fw-bold","w-50","form-control","py-1","d-inline","shadow-none",3,"keydown"],["type","number","formControlName","breakfast","type","number","onKeyPress","if(this.value.length==6) return false;",1,"w-50","form-control","py-1","mt-1","d-inline","shadow-none",3,"keydown"],["type","number","formControlName","lunch","type","number","onKeyPress","if(this.value.length==6) return false;",1,"w-50","form-control","py-1","mt-1","d-inline","shadow-none",3,"keydown"],["type","number","formControlName","dinner","type","number","onKeyPress","if(this.value.length==6) return false;",1,"w-50","form-control","py-1","mt-1","d-inline","shadow-none",3,"keydown"],["type","number","formControlName","beverage","type","number","onKeyPress","if(this.value.length==6) return false;",1,"w-50","form-control","py-1","mt-1","d-inline","shadow-none",3,"keydown"],[1,"col-md-3","col-lg-3","col-sm-3","col-3","col-xl-3","carousel-footer-item","p-3","cursor-pointer",3,"ngClass","click"],[1,"row"],["data-bs-target","#carouselExampleControls",1,"col-md-auto",2,"cursor","pointer",3,"ngClass"],["alt","",1,"carouselImg",3,"src"],["class","h-50 translate-middle badge rounded bg-danger",4,"ngIf"],["data-bs-target","#carouselExampleControls",1,"col-md-auto","my-auto",2,"cursor","pointer",3,"ngClass"],[1,"text-color-primary","mb-0","carousel-footer-title","fw-bold"],[1,"h-50","translate-middle","badge","rounded","bg-danger"],[1,"offcanvas-header","rounded-top","border-top","border-start","border-end","border-white","border-1","mx-1"],[1,"offcanvas-title"],["aria-label","breadcrumb mb-0"],[1,"breadcrumb","mb-0"],[1,"breadcrumb-item"],[2,"font-size","12px","cursor","pointer","font-weight","500","color","lightgray",3,"click"],["src","../../../assets/images/white-back.svg","width","13px","height","13px"],["aria-current","page",1,"breadcrumb-item","active","fw-bold","breadcrumb-active-text"],["type","button","aria-label","Close",1,"btn-close","btn-close-white","shadow-none",3,"click"],[1,"offcanvas-body","px-5","mx-1"],[1,"offcanvas-body","px-4","mx-1"],[1,"offcanvas-title",2,"font-size","14px"]],template:function(e,o){if(1&e){const l=t.EpF();t.YNc(0,Al,2,0,"div",0),t.TgZ(1,"div",1)(2,"header",2)(3,"nav",3)(4,"a",4),t.YNc(5,wl,1,1,"img",5),t.qZA(),t.TgZ(6,"button",6),t._UZ(7,"span",7),t.qZA(),t.TgZ(8,"div",8)(9,"div",9)(10,"div",10)(11,"button",11),t.NdJ("click",function(){return o.toggleFlag()}),t._UZ(12,"img",12),t.YNc(13,Pl,1,0,"i",13),t.YNc(14,Nl,1,0,"i",14),t.qZA(),t.TgZ(15,"div",15)(16,"a",16),t.NdJ("click",function(){t.CHM(l);const r=t.MAs(120);return o.openBottomProfiles(r)}),t._uU(17,"Profile"),t.qZA(),t.TgZ(18,"a",17),t.NdJ("click",function(){return o.layoverService.logout()}),t._uU(19,"Logout"),t.qZA()()()()()()(),t.TgZ(20,"div",18)(21,"div",19)(22,"video",20),t._UZ(23,"source",21),t.qZA(),t.TgZ(24,"div",22)(25,"mat-card",23)(26,"form",24)(27,"div",25)(28,"div",26)(29,"div",27),t._UZ(30,"img",28),t.qZA(),t.TgZ(31,"div",27)(32,"label",29),t._uU(33,"Single Rooms"),t.qZA(),t.YNc(34,Dl,2,1,"h4",30),t.YNc(35,kl,1,0,"input",31),t.qZA()(),t.TgZ(36,"div",26)(37,"div",27),t._UZ(38,"img",32),t.qZA(),t.TgZ(39,"div",27)(40,"label",29),t._uU(41," Double Rooms"),t.qZA(),t.YNc(42,Ul,2,1,"h4",30),t.YNc(43,Ml,1,0,"input",33),t.qZA()(),t.TgZ(44,"div",34)(45,"div",27),t._UZ(46,"img",35),t.qZA(),t.TgZ(47,"div",27)(48,"label",29),t._uU(49," Accessible Rooms"),t.qZA(),t.YNc(50,Il,2,1,"h4",30),t.YNc(51,Rl,1,0,"input",36),t.qZA()(),t.TgZ(52,"div",37)(53,"div",38),t.YNc(54,Sl,2,0,"button",39),t.YNc(55,Yl,2,0,"button",40),t.qZA()()(),t.TgZ(56,"div",25)(57,"div",41)(58,"h5")(59,"span",42),t._uU(60,"\u20ac"),t.qZA(),t.YNc(61,Hl,2,1,"span",43),t.YNc(62,Fl,1,0,"input",44),t._uU(63," /Night "),t.qZA()(),t.TgZ(64,"div",41)(65,"h5")(66,"span",42),t._uU(67,"\u20ac"),t.qZA(),t.YNc(68,Jl,2,1,"span",43),t.YNc(69,Ql,1,0,"input",45),t._uU(70," /Night "),t.qZA()(),t.TgZ(71,"div",41)(72,"h5")(73,"span",42),t._uU(74,"\u20ac"),t.qZA(),t.YNc(75,Ll,2,1,"span",43),t.YNc(76,Ol,1,0,"input",46),t._uU(77," /Night "),t.qZA()(),t._UZ(78,"div",47),t.qZA(),t.TgZ(79,"div",48)(80,"div",49)(81,"span",50),t._uU(82,"Breakfast: "),t.TgZ(83,"span",42),t._uU(84,"\u20ac"),t.qZA()(),t.YNc(85,El,2,1,"span",43),t.YNc(86,Bl,1,0,"input",51),t.qZA(),t.TgZ(87,"div",49)(88,"span",50),t._uU(89," Lunch: "),t.TgZ(90,"span",42),t._uU(91,"\u20ac"),t.qZA()(),t.YNc(92,jl,2,1,"span",43),t.YNc(93,$l,1,0,"input",52),t.qZA(),t.TgZ(94,"div",49)(95,"span",50),t._uU(96,"Dinner: "),t.TgZ(97,"span",42),t._uU(98,"\u20ac"),t.qZA()(),t.YNc(99,zl,2,1,"span",43),t.YNc(100,Gl,1,0,"input",53),t.qZA(),t.TgZ(101,"div",49)(102,"span",50),t._uU(103,"Beverage: "),t.TgZ(104,"span",42),t._uU(105,"\u20ac"),t.qZA()(),t.YNc(106,Vl,2,1,"span",43),t.YNc(107,Kl,1,0,"input",54),t.qZA()()()()()(),t.TgZ(108,"div",55)(109,"div",56)(110,"mat-card",57)(111,"div",58),t.YNc(112,Xl,8,8,"div",59),t.qZA()()()()()(),t.YNc(113,ta,13,0,"ng-template",60,61,t.W1O),t.YNc(115,ea,13,0,"ng-template",60,62,t.W1O),t.YNc(117,na,13,0,"ng-template",60,63,t.W1O),t.YNc(119,oa,13,0,"ng-template",60,64,t.W1O)}2&e&&(t.Q6J("ngIf",o.isPending),t.xp6(5),t.Q6J("ngIf",null==o.hotelDetails?null:o.hotelDetails.logoPath),t.xp6(8),t.Q6J("ngIf",o.registerBtnFlag),t.xp6(1),t.Q6J("ngIf",!o.registerBtnFlag),t.xp6(8),t.Q6J("muted",!0),t.xp6(3),t.Q6J("ngClass",!o.isPending&&o.hotelPriceDetails?"d-block":"d-none"),t.xp6(1),t.Q6J("formGroup",o.editHotelPricesForm),t.xp6(8),t.Q6J("ngIf",!o.editable),t.xp6(1),t.Q6J("ngIf",o.editable),t.xp6(7),t.Q6J("ngIf",!o.editable),t.xp6(1),t.Q6J("ngIf",o.editable),t.xp6(7),t.Q6J("ngIf",!o.editable),t.xp6(1),t.Q6J("ngIf",o.editable),t.xp6(3),t.Q6J("ngIf",!o.editable),t.xp6(1),t.Q6J("ngIf",o.editable),t.xp6(6),t.Q6J("ngIf",!o.editable),t.xp6(1),t.Q6J("ngIf",o.editable),t.xp6(6),t.Q6J("ngIf",!o.editable),t.xp6(1),t.Q6J("ngIf",o.editable),t.xp6(6),t.Q6J("ngIf",!o.editable),t.xp6(1),t.Q6J("ngIf",o.editable),t.xp6(9),t.Q6J("ngIf",!o.editable),t.xp6(1),t.Q6J("ngIf",o.editable),t.xp6(6),t.Q6J("ngIf",!o.editable),t.xp6(1),t.Q6J("ngIf",o.editable),t.xp6(6),t.Q6J("ngIf",!o.editable),t.xp6(1),t.Q6J("ngIf",o.editable),t.xp6(6),t.Q6J("ngIf",!o.editable),t.xp6(1),t.Q6J("ngIf",o.editable),t.xp6(5),t.Q6J("ngForOf",o.carouselFooter))},directives:[h.O5,L.$g,A.M2,S.a8,h.mk,s._Y,s.JL,s.sg,s.wV,s.Fj,s.JJ,s.u,h.sg,st,eo,pi,Cl],styles:[".dropdown-menu[_ngcontent-%COMP%]{margin:.525rem 0 0!important;font-size:.8rem!important;background-color:#ffffff4d!important;border:1px solid white!important;border-radius:.75rem!important}.dropdown-item[_ngcontent-%COMP%]:hover{color:#0a62b9!important;background-color:#fff!important;cursor:pointer}.dropdown-item[_ngcontent-%COMP%]{padding:.25rem .4rem!important}  .offcanvas{background-color:transparent!important}.offcanvas-header[_ngcontent-%COMP%]{background:rgb(49 29 26 / 65%)!important;color:#fff!important}.offcanvas-body[_ngcontent-%COMP%]{background:white!important}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.rounded-top[_ngcontent-%COMP%]{border-top-left-radius:16px!important;border-top-right-radius:16px!important}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{color:#fcf9f9!important;font-weight:lighter!important}.breadcrumb-item.active[_ngcontent-%COMP%]{color:#fff!important}.btn-close[_ngcontent-%COMP%]{width:.2em!important;height:.2em!important;padding:.35em!important;margin-right:0!important}.btn-close[_ngcontent-%COMP%]:hover{color:#000}mat-spinner[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1}[_nghost-%COMP%]  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#fff}.align-item-paralell[_ngcontent-%COMP%]{position:absolute;bottom:0px;left:50%;transform:translate(-50%)}.badge[_ngcontent-%COMP%]{padding:0 .3em!important;line-height:1.5}@media only screen and (max-width: 1150px){h5[_ngcontent-%COMP%]{font-size:.8rem}.sub-text[_ngcontent-%COMP%]{font-size:13px}}"]}),n})(),canActivate:[Q.a],data:{module:"hotel"}}];let la=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[R.Bz.forChild(ia)],R.Bz]}),n})();var aa=_(9724);let ra=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[h.ez,la,aa.m]]}),n})()}}]);