"use strict";(self.webpackChunklayover=self.webpackChunklayover||[]).push([[829],{9829:(Za,X,C)=>{C.r(X),C.d(X,{AirlinesModule:()=>va});var v=C(9808),L=C(8555),j=C(5107),a=C(3075),B=C(9909),t=C(5e3),I=C(5936),w=C(6624),q=C(2290),Y=C(2930),y=C(1223),M=C(6766),J=C(82),E=C(1279),V=C(9047),N=C(4984);function dt(n,l){1&n&&(t.TgZ(0,"div",13),t._UZ(1,"app-spinner"),t.qZA())}function mt(n,l){if(1&n&&(t.TgZ(0,"p",20),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.airlineData?null:e.airlineData.companyName)}}function ut(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Airline Name is required "),t.qZA())}function pt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter proper Airline Name"),t.qZA())}function gt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Minimum 2-50 Charecters are allowed "),t.qZA())}function _t(n,l){if(1&n&&(t.TgZ(0,"mat-form-field",21),t._UZ(1,"input",22),t.YNc(2,ut,2,0,"mat-error",23),t.YNc(3,pt,2,0,"mat-error",23),t.YNc(4,gt,2,0,"mat-error",23),t.qZA()),2&n){const e=t.oxw(2);let o,i;t.xp6(2),t.Q6J("ngIf",null==e.profileForm||null==e.profileForm.get("airport_name").errors?null:e.profileForm.get("airport_name").errors.required),t.xp6(1),t.Q6J("ngIf",(null==e.profileForm||null==(o=e.profileForm.get("airport_name"))||null==o.errors?null:o.errors.pattern)&&!(null!=e.profileForm&&null!=(o=e.profileForm.get("airport_name"))&&null!=o.errors&&o.errors.minlength||null!=e.profileForm&&null!=(o=e.profileForm.get("airport_name"))&&null!=o.errors&&o.errors.maxlength)),t.xp6(1),t.Q6J("ngIf",(null==e.profileForm||null==(i=e.profileForm.get("airport_name"))||null==i.errors?null:i.errors.minlength)||(null==e.profileForm||null==(i=e.profileForm.get("airport_name"))||null==i.errors?null:i.errors.maxlength))}}function ft(n,l){if(1&n&&(t.TgZ(0,"p",20),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.airlineData?null:e.airlineData.name)}}function ht(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Name is required"),t.qZA())}function vt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter proper Name "),t.qZA())}function Ct(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Minimum 2-50 Charecters are allowed "),t.qZA())}function bt(n,l){if(1&n&&(t.TgZ(0,"mat-form-field",21),t._UZ(1,"input",24),t.YNc(2,ht,2,0,"mat-error",23),t.YNc(3,vt,2,0,"mat-error",23),t.YNc(4,Ct,2,0,"mat-error",23),t.qZA()),2&n){const e=t.oxw(2);let o,i,r;t.xp6(2),t.Q6J("ngIf",null==e.profileForm||null==(o=e.profileForm.get("person_name"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",(null==e.profileForm||null==(i=e.profileForm.get("person_name"))||null==i.errors?null:i.errors.pattern)&&!(null!=e.profileForm&&null!=(i=e.profileForm.get("person_name"))&&null!=i.errors&&i.errors.minlength||null!=e.profileForm&&null!=(i=e.profileForm.get("person_name"))&&null!=i.errors&&i.errors.maxlength)),t.xp6(1),t.Q6J("ngIf",(null==e.profileForm||null==(r=e.profileForm.get("person_name"))||null==r.errors?null:r.errors.minlength)||(null==e.profileForm||null==(r=e.profileForm.get("person_name"))||null==r.errors?null:r.errors.maxlength))}}function xt(n,l){if(1&n&&(t.TgZ(0,"p",20),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu("+49 "+(null==e.airlineData?null:e.airlineData.contactNumber))}}function yt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Contact Number is required"),t.qZA())}function Zt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Minimum 3-13 Charecters are allowed"),t.qZA())}function Tt(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",21)(1,"span",25),t._uU(2,"+49 \xa0"),t.qZA(),t.TgZ(3,"input",26),t.NdJ("keydown",function(i){return t.CHM(e),t.oxw(2).layoverService.isValidPhoneNumber(i)}),t.qZA(),t.YNc(4,yt,2,0,"mat-error",23),t.YNc(5,Zt,2,0,"mat-error",23),t.qZA()}if(2&n){const e=t.oxw(2);let o,i;t.xp6(4),t.Q6J("ngIf",null==e.profileForm||null==(o=e.profileForm.get("contact"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.profileForm||null==(i=e.profileForm.get("contact"))||null==i.errors?null:i.errors.pattern)}}function At(n,l){if(1&n&&(t.TgZ(0,"p",20),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.airlineData?null:e.airlineData.email)}}function wt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"E-Mail Address is required"),t.qZA())}function qt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter proper E-Mail"),t.qZA())}function kt(n,l){if(1&n&&(t.TgZ(0,"mat-form-field",21),t._UZ(1,"input",27),t.YNc(2,wt,2,0,"mat-error",23),t.YNc(3,qt,2,0,"mat-error",23),t.qZA()),2&n){const e=t.oxw(2);let o,i;t.xp6(2),t.Q6J("ngIf",null==e.profileForm||null==(o=e.profileForm.get("email"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",(null==e.profileForm||null==(i=e.profileForm.get("email"))||null==i.errors?null:i.errors.email)||(null==e.profileForm||null==(i=e.profileForm.get("email"))||null==i.errors?null:i.errors.pattern))}}function Ot(n,l){if(1&n&&(t.TgZ(0,"p",20),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.airlineData?null:e.airlineData.companyAddress)}}function Lt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Address is required"),t.qZA())}function St(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter proper Address "),t.qZA())}function Pt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Minimum 2-150 Charecters are allowed "),t.qZA())}function Ft(n,l){if(1&n&&(t.TgZ(0,"mat-form-field",21),t._UZ(1,"input",28),t.YNc(2,Lt,2,0,"mat-error",23),t.YNc(3,St,2,0,"mat-error",23),t.YNc(4,Pt,2,0,"mat-error",23),t.qZA()),2&n){const e=t.oxw(2);let o,i,r;t.xp6(2),t.Q6J("ngIf",null==e.profileForm||null==(o=e.profileForm.get("address"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.profileForm||null==(i=e.profileForm.get("address"))||null==i.errors?null:i.errors.pattern),t.xp6(1),t.Q6J("ngIf",(null==e.profileForm||null==(r=e.profileForm.get("address"))||null==r.errors?null:r.errors.minlength)||(null==e.profileForm||null==(r=e.profileForm.get("address"))||null==r.errors?null:r.errors.maxlength))}}function Ut(n,l){if(1&n&&(t.TgZ(0,"div",2)(1,"div",14)(2,"label",15),t._uU(3,"Airline Name"),t.qZA(),t.YNc(4,mt,2,1,"p",16),t.YNc(5,_t,5,3,"mat-form-field",17),t.qZA(),t.TgZ(6,"div",14)(7,"label",15),t._uU(8,"Name"),t.qZA(),t.YNc(9,ft,2,1,"p",16),t.YNc(10,bt,5,3,"mat-form-field",17),t.qZA(),t.TgZ(11,"div",18)(12,"label",15),t._uU(13,"Contact Number"),t.qZA(),t.YNc(14,xt,2,1,"p",16),t.YNc(15,Tt,6,2,"mat-form-field",17),t.qZA(),t.TgZ(16,"div",18)(17,"label",15),t._uU(18,"E-mail Address"),t.qZA(),t.YNc(19,At,2,1,"p",16),t.YNc(20,kt,4,2,"mat-form-field",17),t.qZA(),t.TgZ(21,"div",19)(22,"label"),t._uU(23,"Address"),t.qZA(),t.YNc(24,Ot,2,1,"p",16),t.YNc(25,Ft,5,3,"mat-form-field",17),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",!e.editableFlag),t.xp6(1),t.Q6J("ngIf",e.editableFlag),t.xp6(4),t.Q6J("ngIf",!e.editableFlag),t.xp6(1),t.Q6J("ngIf",e.editableFlag),t.xp6(4),t.Q6J("ngIf",!e.editableFlag),t.xp6(1),t.Q6J("ngIf",e.editableFlag),t.xp6(4),t.Q6J("ngIf",!e.editableFlag),t.xp6(1),t.Q6J("ngIf",e.editableFlag),t.xp6(4),t.Q6J("ngIf",!e.editableFlag),t.xp6(1),t.Q6J("ngIf",e.editableFlag)}}function Mt(n,l){1&n&&(t.TgZ(0,"div",29)(1,"div",30)(2,"div",31)(3,"button",32),t._uU(4,"Update"),t.qZA()()()())}let It=(()=>{class n{constructor(e,o,i){this.fb=e,this.layoverService=o,this.toastr=i,this.editableFlag=!1,this.isLoading=!1}ngOnInit(){this.profileForm=this.fb.group({airport_name:this.fb.control("",[a.kI.required,a.kI.pattern(/^[a-zA-Z][a-zA-Z0-9\s().,&-/!@#$%&*:;.,]*$/),a.kI.minLength(2),a.kI.maxLength(50)]),person_name:this.fb.control("",[a.kI.required,a.kI.pattern(/^[a-zA-Z\s ]*$/),a.kI.minLength(2),a.kI.maxLength(50)]),contact:this.fb.control("",[a.kI.required,a.kI.pattern(/^[0-9]{3,13}$/),a.kI.minLength(3),a.kI.maxLength(13)]),email:this.fb.control("",[a.kI.required,a.kI.pattern(/^[0-9a-z-_.+]+(?:\.[0-9a-z-_.+]+)*@[a-z-_+]{2,}(?:\.[a-z]{2,3})+$/)]),address:this.fb.control("",[a.kI.required,a.kI.minLength(2),a.kI.maxLength(150)])}),this.getAirlineDetails()}onEdit(){var e,o,i,r,s,c;this.editableFlag=!this.editableFlag,this.profileForm.patchValue({airport_name:null===(e=null==this?void 0:this.airlineData)||void 0===e?void 0:e.companyName,person_name:null===(o=null==this?void 0:this.airlineData)||void 0===o?void 0:o.name,contact:null===(i=null==this?void 0:this.airlineData)||void 0===i?void 0:i.contactNumber,email:null===(r=null==this?void 0:this.airlineData)||void 0===r?void 0:r.email,handlingAirlines:null===(s=null==this?void 0:this.airlineData)||void 0===s?void 0:s.handlingAirlines,address:null===(c=null==this?void 0:this.airlineData)||void 0===c?void 0:c.companyAddress})}getAirlineDetails(){this.layoverService.getAirportOrAirlineorExternalHandlingCompanyInfo().subscribe({next:e=>{!e.isError&&e.message&&(this.airlineData=e.data)},error:e=>{var o;(null==e?void 0:e.error).isError?this.toastr.error(null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message):this.toastr.error("Sorry, Something Went Wrong")}})}updateAirline(){var e,o,i,r,s,c,d,u;let m={companyId:this.layoverService.getLocalStorageValue("companyId"),companyName:this.profileForm.get("airport_name").value,companyAddress:this.profileForm.get("address").value,name:this.profileForm.get("person_name").value,contactNumber:this.profileForm.get("contact").value,logoPath:null===(e=this.airlineData)||void 0===e?void 0:e.logoPath,generalLocPath:(null===(o=this.airlineData)||void 0===o?void 0:o.generalLocPath)?null===(i=this.airlineData)||void 0===i?void 0:i.generalLocPath:"",email:this.profileForm.get("email").value,location:null===(r=this.airlineData)||void 0===r?void 0:r.location,status:null===(s=this.airlineData)||void 0===s?void 0:s.status,handlingAirlines:[],adminNotify:null===(c=this.airlineData)||void 0===c?void 0:c.adminNotify,companyNotify:null===(d=this.airlineData)||void 0===d?void 0:d.companyNotify,hotelNotify:null===(u=this.airlineData)||void 0===u?void 0:u.hotelNotify};this.profileForm.valid&&(this.isLoading=!0,this.layoverService.updateExternalCompanyOrAirportOrAirline(m).subscribe({next:g=>{!g.isError&&g.message?(this.isLoading=!1,this.toastr.success("Airline Profile Updated successfully"),setTimeout(()=>{this.getAirlineDetails(),this.editableFlag=!1,window.location.reload()},1e3)):this.isLoading=!1},error:g=>{var f;(null==g?void 0:g.error).isError?(this.isLoading=!1,this.toastr.error(null===(f=null==g?void 0:g.error)||void 0===f?void 0:f.message)):(this.isLoading=!1,this.toastr.error("Sorry, Something Went Wrong"))}}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.qu),t.Y36(w.y),t.Y36(q._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-profiles"]],decls:15,vars:4,consts:[[1,"container-fluid"],[3,"formGroup","ngSubmit"],[1,"row"],["tabindex","-1","id","profilesOffcanvas","aria-labelledby","offcanvasRightLabel",1,"offcanvas","offcanvas-end","w-50"],[1,"offcanvas-header","border-bottom","pb-0","ps-1"],["id","offcanvasRightLabel",1,"mb-0","fw-bold"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset","shadow-none"],["type","button",1,"btn","edit-btn","fw-bold","shadow-none","pt-0",3,"click"],["aria-hidden","true",1,"fa","fa-pencil","animate-edit"],[1,"offcanvas-body"],["class","spinner-pos-side-offcanvas",4,"ngIf"],["class","row",4,"ngIf"],["class","offcanvas-footer border-top",4,"ngIf"],[1,"spinner-pos-side-offcanvas"],[1,"col-md-6"],[1,"mb-1"],["class","fw-bold",4,"ngIf"],["appearance","standard",4,"ngIf"],[1,"col-md-6","mt-4"],[1,"col-md-12","mt-4"],[1,"fw-bold"],["appearance","standard"],["formControlName","airport_name","matInput","",1,"fw-bold"],[4,"ngIf"],["formControlName","person_name","matInput","",1,"fw-bold"],["matPrefix",""],["formControlName","contact","matInput","",1,"fw-bold",3,"keydown"],["formControlName","email","matInput","",1,"fw-bold"],["formControlName","address","matInput","",1,"fw-bold"],[1,"offcanvas-footer","border-top"],[1,"row","my-2"],[1,"col-md-12","text-center"],["type","submit",1,"btn","update-btn","shadow-none"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return o.updateAirline()}),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),t._uU(6,"Profile"),t.qZA(),t._UZ(7,"button",6),t.TgZ(8,"button",7),t.NdJ("click",function(){return o.onEdit()}),t._UZ(9,"i",8),t._uU(10," Edit"),t.qZA()(),t.TgZ(11,"div",9),t.YNc(12,dt,2,0,"div",10),t.YNc(13,Ut,26,10,"div",11),t.qZA(),t.YNc(14,Mt,5,0,"div",12),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.profileForm),t.xp6(11),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("ngIf",!o.isLoading),t.xp6(1),t.Q6J("ngIf",o.editableFlag))},directives:[a._Y,a.JL,a.sg,v.O5,N.O,y.KE,a.Fj,M.Nt,a.JJ,a.u,y.TO,y.qo],styles:[".btn-close[_ngcontent-%COMP%]{position:absolute;left:-20px!important;top:21px!important;margin-top:0!important;width:.01em;height:.01em;background:url(close.eeda387ab67f88fe.svg);padding:.35rem!important;opacity:inherit}.btn-close[_ngcontent-%COMP%]:hover{background:url(blue-close.5900f30078d85ff7.svg);background-color:#fff!important;padding:12px;border-radius:22px;opacity:inherit}.edit-btn[_ngcontent-%COMP%]{color:#0a62b9;font-size:13px}label[_ngcontent-%COMP%]{font-size:11px;color:#707070}p[_ngcontent-%COMP%]{font-size:13px;text-indent:12px}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#a1a1a1!important}.update-btn[_ngcontent-%COMP%]{background-color:#0a62b9;border:1px solid #0955a0;font-size:13px;color:#fff;padding:5px 25px}.offcanvas.show[_ngcontent-%COMP%]{border-top-left-radius:11px!important;border-top-right-radius:0!important;border-bottom-left-radius:11px!important}"]}),n})();const Nt=["goBack"];function Jt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Name is required "),t.qZA())}function Dt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter proper Name "),t.qZA())}function Ht(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Minimum 2-50 Charecters are allowed "),t.qZA())}function Qt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," E-Mail ID is required "),t.qZA())}function Bt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Enter proper E-Mail ID"),t.qZA())}function Yt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Employee ID is required "),t.qZA())}function Et(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter proper Employee ID"),t.qZA())}function Rt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Minimum 2-12 Charecters are allowed "),t.qZA())}function zt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," PIN required "),t.qZA())}function jt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter proper PIN"),t.qZA())}function Vt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter 4 digit PIN "),t.qZA())}let $t=(()=>{class n{constructor(e,o,i,r){this.router=e,this.layoverService=o,this.fb=i,this.toastr=r,this.editableFlag=!1}ngOnInit(){this.editBillingForm=this.fb.group({employeeId:this.fb.control("",[null==a.kI?void 0:a.kI.required,null==a.kI?void 0:a.kI.pattern(/[a-zA-Z0-9]$/),null==a.kI?void 0:a.kI.minLength(2),null==a.kI?void 0:a.kI.maxLength(12)]),name:this.fb.control("",[null==a.kI?void 0:a.kI.required,null==a.kI?void 0:a.kI.pattern(/^[a-zA-Z\s ]*$/),null==a.kI?void 0:a.kI.minLength(2),null==a.kI?void 0:a.kI.maxLength(50)]),email:this.fb.control("",[null==a.kI?void 0:a.kI.required,null==a.kI?void 0:a.kI.pattern(/^[0-9a-z-_.+]+(?:\.[0-9a-z-_.+]+)*@[a-z-_+]{2,}(?:\.[a-z]{2,3})+$/)]),pin:this.fb.control("",[null==a.kI?void 0:a.kI.required,null==a.kI?void 0:a.kI.minLength(4),null==a.kI?void 0:a.kI.maxLength(4),null==a.kI?void 0:a.kI.pattern(/^[0-9]*$/)])}),setTimeout(()=>{this.getAllBillingUsers()},1e3)}onEdit(){var e,o,i,r;this.editBillingForm.patchValue({employeeId:null===(e=this.billingUserDetails)||void 0===e?void 0:e.employeeId,name:null===(o=this.billingUserDetails)||void 0===o?void 0:o.name,email:null===(i=this.billingUserDetails)||void 0===i?void 0:i.email,pin:null===(r=this.billingUserDetails)||void 0===r?void 0:r.pin}),this.editableFlag=!this.editableFlag}getAllBillingUsers(){this.layoverService.getAllBillingUsers().subscribe({next:e=>{!(null==e?void 0:e.isError)&&(null==e?void 0:e.data)&&(this.billingUserDetails=null==e?void 0:e.data)},error:e=>{var o;let i=null==e?void 0:e.error;this.toastr.error((null==i?void 0:i.isError)?null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message:"Sorry, Something Went Wrong")}})}createBillingUser(){let e=Object.assign({billingUserId:0,companyId:+this.layoverService.getLocalStorageValue("companyId")},this.editBillingForm.value);this.editBillingForm.valid&&this.layoverService.addBillingUser(e).subscribe({next:o=>{!(null==o?void 0:o.isError)&&(null==o?void 0:o.data)?(this.toastr.success(null==o?void 0:o.message),setTimeout(()=>{this.getAllBillingUsers(),this.goBack.nativeElement.click(),window.location.reload()},1e3)):this.toastr.error(null==o?void 0:o.message)},error:o=>{var i;let r=null==o?void 0:o.error;this.toastr.error((null==r?void 0:r.isError)?null===(i=null==o?void 0:o.error)||void 0===i?void 0:i.message:"Sorry, Something Went Wrong")}})}hideDetails(e){return null==e?void 0:e.map(o=>"*").join("")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(L.F0),t.Y36(w.y),t.Y36(a.qu),t.Y36(q._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-user-for-billing"]],viewQuery:function(e,o){if(1&e&&t.Gf(Nt,5),2&e){let i;t.iGM(i=t.CRH())&&(o.goBack=i.first)}},decls:53,vars:12,consts:[[1,"container-fluid"],[3,"formGroup","ngSubmit"],[1,"row"],["tabindex","-1","id","addUserOffcanvas","aria-labelledby","offcanvasRightLabel",1,"offcanvas","offcanvas-end","w-50","rounded-start"],[1,"row","offcanvas-header","border-bottom","pb-1","ps-1"],[1,"col-md-2"],["data-bs-toggle","offcanvas","data-bs-target","#settingsOffcanvas",1,"btn","edit-btn","fw-bold","shadow-none","pt-0"],["aria-hidden","true",1,"fa","fa-chevron-left"],[1,"col-md-8","text-center"],["id","offcanvasRightLabel",1,"mb-0","fw-bold"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset","shadow-none"],["goBack",""],[1,"offcanvas-body"],[1,"col-md-6"],[1,"mb-1"],["appearance","standard"],["matInput","","formControlName","name",1,"fw-bold"],[4,"ngIf"],["matInput","","type","email","formControlName","email",1,"fw-bold"],[1,"col-md-6","mt-4"],["matInput","","formControlName","employeeId","value","12Asdf25",1,"fw-bold"],["matInput","","formControlName","pin","maxlength","4",1,"fw-bold"],[1,"offcanvas-footer"],[1,"row","my-2"],[1,"col-md-12","text-center"],["type","submit",1,"btn","update-btn","shadow-none"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return o.createBillingUser()}),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),t._UZ(7,"i",7),t._uU(8," Back"),t.qZA()(),t.TgZ(9,"div",8)(10,"h5",9),t._uU(11,"Billing User"),t.qZA()(),t.TgZ(12,"div",5),t._UZ(13,"button",10,11),t.qZA()(),t.TgZ(15,"div",12)(16,"div",2)(17,"div",13)(18,"label",14),t._uU(19,"Name"),t.qZA(),t.TgZ(20,"mat-form-field",15),t._UZ(21,"input",16),t.YNc(22,Jt,2,0,"mat-error",17),t.YNc(23,Dt,2,0,"mat-error",17),t.YNc(24,Ht,2,0,"mat-error",17),t.qZA()(),t.TgZ(25,"div",13)(26,"label",14),t._uU(27,"E-mail ID"),t.qZA(),t.TgZ(28,"mat-form-field",15),t._UZ(29,"input",18),t.YNc(30,Qt,2,0,"mat-error",17),t.YNc(31,Bt,2,0,"mat-error",17),t.qZA()(),t.TgZ(32,"div",19)(33,"label",14),t._uU(34,"Employee ID"),t.qZA(),t.TgZ(35,"mat-form-field",15),t._UZ(36,"input",20),t.YNc(37,Yt,2,0,"mat-error",17),t.YNc(38,Et,2,0,"mat-error",17),t.YNc(39,Rt,2,0,"mat-error",17),t.qZA()(),t.TgZ(40,"div",19)(41,"label",14),t._uU(42,"Set PIN"),t.qZA(),t.TgZ(43,"mat-form-field",15),t._UZ(44,"input",21),t.YNc(45,zt,2,0,"mat-error",17),t.YNc(46,jt,2,0,"mat-error",17),t.YNc(47,Vt,2,0,"mat-error",17),t.qZA()()()(),t.TgZ(48,"div",22)(49,"div",23)(50,"div",24)(51,"button",25),t._uU(52,"Create User"),t.qZA()()()()()()()()),2&e){let i,r,s,c,d,u,m,g,f,_,b;t.xp6(1),t.Q6J("formGroup",o.editBillingForm),t.xp6(21),t.Q6J("ngIf",null==o.editBillingForm||null==(i=o.editBillingForm.get("name"))||null==i.errors?null:i.errors.required),t.xp6(1),t.Q6J("ngIf",(null==o.editBillingForm||null==(r=o.editBillingForm.get("name"))||null==r.errors?null:r.errors.pattern)&&!(null!=o.editBillingForm&&null!=(r=o.editBillingForm.get("name"))&&null!=r.errors&&r.errors.minlength||null!=o.editBillingForm&&null!=(r=o.editBillingForm.get("name"))&&null!=r.errors&&r.errors.maxlength)),t.xp6(1),t.Q6J("ngIf",(null==o.editBillingForm||null==(s=o.editBillingForm.get("name"))||null==s.errors?null:s.errors.minlength)||(null==o.editBillingForm||null==(s=o.editBillingForm.get("name"))||null==s.errors?null:s.errors.maxlength)),t.xp6(6),t.Q6J("ngIf",null==o.editBillingForm||null==(c=o.editBillingForm.get("email"))||null==c.errors?null:c.errors.required),t.xp6(1),t.Q6J("ngIf",(null==o.editBillingForm||null==(d=o.editBillingForm.get("email"))||null==d.errors?null:d.errors.email)||(null==o.editBillingForm||null==(d=o.editBillingForm.get("email"))||null==d.errors?null:d.errors.pattern)),t.xp6(6),t.Q6J("ngIf",null==o.editBillingForm||null==(u=o.editBillingForm.get("employeeId"))||null==u.errors?null:u.errors.required),t.xp6(1),t.Q6J("ngIf",(null==o.editBillingForm||null==(m=o.editBillingForm.get("employeeId"))||null==m.errors?null:m.errors.pattern)&&!(null!=o.editBillingForm&&null!=(m=o.editBillingForm.get("employeeId"))&&null!=m.errors&&m.errors.minlength||null!=o.editBillingForm&&null!=(m=o.editBillingForm.get("employeeId"))&&null!=m.errors&&m.errors.maxlength)),t.xp6(1),t.Q6J("ngIf",(null==o.editBillingForm||null==(g=o.editBillingForm.get("employeeId"))||null==g.errors?null:g.errors.minlength)||(null==o.editBillingForm||null==(g=o.editBillingForm.get("employeeId"))||null==g.errors?null:g.errors.maxlength)),t.xp6(6),t.Q6J("ngIf",null==o.editBillingForm||null==(f=o.editBillingForm.get("pin"))||null==f.errors?null:f.errors.required),t.xp6(1),t.Q6J("ngIf",(null==o.editBillingForm||null==(_=o.editBillingForm.get("pin"))||null==_.errors?null:_.errors.pattern)&&!(null!=o.editBillingForm&&null!=(_=o.editBillingForm.get("pin"))&&null!=_.errors&&_.errors.minlength||null!=o.editBillingForm&&null!=(_=o.editBillingForm.get("pin"))&&null!=_.errors&&_.errors.maxlength)),t.xp6(1),t.Q6J("ngIf",(null==o.editBillingForm||null==(b=o.editBillingForm.get("pin"))||null==b.errors?null:b.errors.minlength)||(null==o.editBillingForm||null==(b=o.editBillingForm.get("pin"))||null==b.errors?null:b.errors.maxlength))}},directives:[a._Y,a.JL,a.sg,y.KE,M.Nt,a.Fj,a.JJ,a.u,v.O5,y.TO,a.nD],styles:[".btn-close[_ngcontent-%COMP%]{position:absolute;left:-20px!important;top:21px!important;margin-top:0!important;width:.01em;height:.01em;background:url(close.eeda387ab67f88fe.svg);padding:.35rem!important;opacity:inherit}.btn-close[_ngcontent-%COMP%]:hover{background:url(blue-close.5900f30078d85ff7.svg);background-color:#fff!important;padding:12px;border-radius:22px;opacity:inherit}.edit-btn[_ngcontent-%COMP%]{color:#0a62b9;font-size:13px}label[_ngcontent-%COMP%]{font-size:11px;color:#707070}p[_ngcontent-%COMP%]{font-size:13px;text-indent:12px}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#a1a1a1!important}.update-btn[_ngcontent-%COMP%]{background-color:#0a62b9;border:1px solid #0955a0;font-size:13px;color:#fff;padding:5px 25px}.offcanvas.show[_ngcontent-%COMP%]{border-top-left-radius:11px!important;border-top-right-radius:0!important;border-bottom-left-radius:11px!important}"]}),n})();const Gt=["goBack"];function Wt(n,l){if(1&n&&(t.TgZ(0,"p",19),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.billingUserDetails?null:e.billingUserDetails.name)}}function Kt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Name is required "),t.qZA())}function Xt(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter proper Name "),t.qZA())}function te(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Minimum 2-50 Charecters are allowed "),t.qZA())}function ee(n,l){if(1&n&&(t.TgZ(0,"mat-form-field",20),t._UZ(1,"input",21),t.YNc(2,Kt,2,0,"mat-error",22),t.YNc(3,Xt,2,0,"mat-error",22),t.YNc(4,te,2,0,"mat-error",22),t.qZA()),2&n){const e=t.oxw();let o,i,r;t.xp6(2),t.Q6J("ngIf",null==e.editBillingForm||null==(o=e.editBillingForm.get("name"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",(null==e.editBillingForm||null==(i=e.editBillingForm.get("name"))||null==i.errors?null:i.errors.pattern)&&!(null!=e.editBillingForm&&null!=(i=e.editBillingForm.get("name"))&&null!=i.errors&&i.errors.minlength||null!=e.editBillingForm&&null!=(i=e.editBillingForm.get("name"))&&null!=i.errors&&i.errors.maxlength)),t.xp6(1),t.Q6J("ngIf",(null==e.editBillingForm||null==(r=e.editBillingForm.get("name"))||null==r.errors?null:r.errors.minlength)||(null==e.editBillingForm||null==(r=e.editBillingForm.get("name"))||null==r.errors?null:r.errors.maxlength))}}function oe(n,l){if(1&n&&(t.TgZ(0,"p",19),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.billingUserDetails?null:e.billingUserDetails.email)}}function ne(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," E-Mail ID is required "),t.qZA())}function ie(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Enter proper E-Mail ID"),t.qZA())}function re(n,l){if(1&n&&(t.TgZ(0,"mat-form-field",20),t._UZ(1,"input",23),t.YNc(2,ne,2,0,"mat-error",22),t.YNc(3,ie,2,0,"mat-error",22),t.qZA()),2&n){const e=t.oxw();let o,i;t.xp6(2),t.Q6J("ngIf",null==e.editBillingForm||null==(o=e.editBillingForm.get("email"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",(null==e.editBillingForm||null==(i=e.editBillingForm.get("email"))||null==i.errors?null:i.errors.email)||(null==e.editBillingForm||null==(i=e.editBillingForm.get("email"))||null==i.errors?null:i.errors.pattern))}}function le(n,l){if(1&n&&(t.TgZ(0,"p",19),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.billingUserDetails?null:e.billingUserDetails.employeeId)}}function ae(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Employee ID is required "),t.qZA())}function se(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter proper Employee ID"),t.qZA())}function ce(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Minimum 2-12 Charecters are allowed "),t.qZA())}function de(n,l){if(1&n&&(t.TgZ(0,"mat-form-field",20),t._UZ(1,"input",24),t.YNc(2,ae,2,0,"mat-error",22),t.YNc(3,se,2,0,"mat-error",22),t.YNc(4,ce,2,0,"mat-error",22),t.qZA()),2&n){const e=t.oxw();let o,i,r;t.xp6(2),t.Q6J("ngIf",null==e.editBillingForm||null==(o=e.editBillingForm.get("employeeId"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",(null==e.editBillingForm||null==(i=e.editBillingForm.get("employeeId"))||null==i.errors?null:i.errors.pattern)&&!(null!=e.editBillingForm&&null!=(i=e.editBillingForm.get("employeeId"))&&null!=i.errors&&i.errors.minlength||null!=e.editBillingForm&&null!=(i=e.editBillingForm.get("employeeId"))&&null!=i.errors&&i.errors.maxlength)),t.xp6(1),t.Q6J("ngIf",(null==e.editBillingForm||null==(r=e.editBillingForm.get("employeeId"))||null==r.errors?null:r.errors.minlength)||(null==e.editBillingForm||null==(r=e.editBillingForm.get("employeeId"))||null==r.errors?null:r.errors.maxlength))}}function me(n,l){if(1&n&&(t.TgZ(0,"p",19),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.billingUserDetails?null:e.billingUserDetails.pin)}}function ue(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," PIN required "),t.qZA())}function pe(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter proper PIN"),t.qZA())}function ge(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter 4 digit PIN "),t.qZA())}function _e(n,l){if(1&n&&(t.TgZ(0,"mat-form-field",20),t._UZ(1,"input",25),t.YNc(2,ue,2,0,"mat-error",22),t.YNc(3,pe,2,0,"mat-error",22),t.YNc(4,ge,2,0,"mat-error",22),t.qZA()),2&n){const e=t.oxw();let o,i,r;t.xp6(2),t.Q6J("ngIf",null==e.editBillingForm||null==(o=e.editBillingForm.get("pin"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",(null==e.editBillingForm||null==(i=e.editBillingForm.get("pin"))||null==i.errors?null:i.errors.pattern)&&!(null!=e.editBillingForm&&null!=(i=e.editBillingForm.get("pin"))&&null!=i.errors&&i.errors.minlength||null!=e.editBillingForm&&null!=(i=e.editBillingForm.get("pin"))&&null!=i.errors&&i.errors.maxlength)),t.xp6(1),t.Q6J("ngIf",(null==e.editBillingForm||null==(r=e.editBillingForm.get("pin"))||null==r.errors?null:r.errors.minlength)||(null==e.editBillingForm||null==(r=e.editBillingForm.get("pin"))||null==r.errors?null:r.errors.maxlength))}}function fe(n,l){1&n&&(t.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"button",29),t._uU(4,"Update User"),t.qZA()()()())}let he=(()=>{class n{constructor(e,o,i,r){this.router=e,this.layoverService=o,this.fb=i,this.toastr=r,this.editableFlag=!1}ngOnInit(){this.editBillingForm=this.fb.group({employeeId:this.fb.control("",[null==a.kI?void 0:a.kI.required,null==a.kI?void 0:a.kI.pattern(/[a-zA-Z0-9]$/),null==a.kI?void 0:a.kI.minLength(2),null==a.kI?void 0:a.kI.maxLength(12)]),name:this.fb.control("",[null==a.kI?void 0:a.kI.required,null==a.kI?void 0:a.kI.pattern(/^[a-zA-Z\s ]*$/),null==a.kI?void 0:a.kI.minLength(2),null==a.kI?void 0:a.kI.maxLength(50)]),email:this.fb.control("",[null==a.kI?void 0:a.kI.required,null==a.kI?void 0:a.kI.pattern(/^[0-9a-z-_.+]+(?:\.[0-9a-z-_.+]+)*@[a-z-_+]{2,}(?:\.[a-z]{2,3})+$/)]),pin:this.fb.control("",[null==a.kI?void 0:a.kI.required,null==a.kI?void 0:a.kI.minLength(4),null==a.kI?void 0:a.kI.maxLength(4),null==a.kI?void 0:a.kI.pattern(/^[0-9]*$/)])}),setTimeout(()=>{this.getAllBillingUsers()},1e3)}onEdit(){var e,o,i,r;this.editBillingForm.patchValue({employeeId:null===(e=this.billingUserDetails)||void 0===e?void 0:e.employeeId,name:null===(o=this.billingUserDetails)||void 0===o?void 0:o.name,email:null===(i=this.billingUserDetails)||void 0===i?void 0:i.email,pin:null===(r=this.billingUserDetails)||void 0===r?void 0:r.pin}),this.editableFlag=!this.editableFlag}getAllBillingUsers(){this.layoverService.getAllBillingUsers().subscribe({next:e=>{!e.isError&&e.message&&(this.billingUserDetails=null==e?void 0:e.data)},error:e=>{var o;(null==e?void 0:e.error).isError?this.toastr.error(null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message):this.toastr.error("Sorry, Something Went Wrong")}})}updateBillingUser(){var e,o;let i=Object.assign({billingUserId:null===(e=this.billingUserDetails)||void 0===e?void 0:e.billingUserId,companyId:this.layoverService.getLocalStorageValue("companyId")},this.editBillingForm.value);(null===(o=this.editBillingForm)||void 0===o?void 0:o.valid)&&this.layoverService.updateBillingUser(i).subscribe({next:r=>{r.isError?this.toastr.error(null==r?void 0:r.message):(this.toastr.success(null==r?void 0:r.message),setTimeout(()=>{this.goBack.nativeElement.click(),this.getAllBillingUsers(),window.location.reload()},1e3))},error:r=>{var s;(null==r?void 0:r.error).isError?this.toastr.error(null===(s=null==r?void 0:r.error)||void 0===s?void 0:s.message):this.toastr.error("Sorry, Something Went Wrong")}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(L.F0),t.Y36(w.y),t.Y36(a.qu),t.Y36(q._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-update-user-for-billing"]],viewQuery:function(e,o){if(1&e&&t.Gf(Gt,5),2&e){let i;t.iGM(i=t.CRH())&&(o.goBack=i.first)}},decls:38,vars:10,consts:[[1,"container-fluid"],[3,"formGroup","ngSubmit"],[1,"row"],["tabindex","-1","id","updateUserOffcanvas","aria-labelledby","offcanvasRightLabel",1,"offcanvas","offcanvas-end","w-50","rounded-start"],[1,"offcanvas-header","border-bottom","pb-1","ps-1"],["data-bs-toggle","offcanvas","type","button","data-bs-target","#settingsOffcanvas",1,"btn","edit-btn","fw-bold","shadow-none","pt-0"],["aria-hidden","true",1,"fa","fa-chevron-left"],["id","offcanvasRightLabel",1,"mb-0","fw-bold"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset","shadow-none"],["goBack",""],["type","button",1,"btn","edit-btn","fw-bold","shadow-none","pt-0",3,"click"],["aria-hidden","true",1,"fa","fa-pencil","animate-edit"],[1,"offcanvas-body"],[1,"col-md-6"],[1,"mb-1"],["class","fw-bold",4,"ngIf"],["appearance","standard",4,"ngIf"],[1,"col-md-6","mt-4"],["class","offcanvas-footer",4,"ngIf"],[1,"fw-bold"],["appearance","standard"],["matInput","","formControlName","name",1,"fw-bold"],[4,"ngIf"],["matInput","","type","email","formControlName","email",1,"fw-bold"],["matInput","","formControlName","employeeId","value","12Asdf25",1,"fw-bold"],["matInput","","formControlName","pin","maxlength","4",1,"fw-bold"],[1,"offcanvas-footer"],[1,"row","my-2"],[1,"col-md-12","text-center"],["type","submit",1,"btn","update-btn","shadow-none"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return o.updateBillingUser()}),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),t._UZ(6,"i",6),t._uU(7," Back"),t.qZA(),t.TgZ(8,"h5",7),t._uU(9,"Billing User"),t.qZA(),t._UZ(10,"button",8,9),t.TgZ(12,"button",10),t.NdJ("click",function(){return o.onEdit()}),t._UZ(13,"i",11),t._uU(14," Edit"),t.qZA()(),t.TgZ(15,"div",12)(16,"div",2)(17,"div",13)(18,"label",14),t._uU(19,"Name"),t.qZA(),t.YNc(20,Wt,2,1,"p",15),t.YNc(21,ee,5,3,"mat-form-field",16),t.qZA(),t.TgZ(22,"div",13)(23,"label",14),t._uU(24,"E-mail ID"),t.qZA(),t.YNc(25,oe,2,1,"p",15),t.YNc(26,re,4,2,"mat-form-field",16),t.qZA(),t.TgZ(27,"div",17)(28,"label",14),t._uU(29,"Employee ID"),t.qZA(),t.YNc(30,le,2,1,"p",15),t.YNc(31,de,5,3,"mat-form-field",16),t.qZA(),t.TgZ(32,"div",17)(33,"label",14),t._uU(34,"Set PIN"),t.qZA(),t.YNc(35,me,2,1,"p",15),t.YNc(36,_e,5,3,"mat-form-field",16),t.qZA()()(),t.YNc(37,fe,5,0,"div",18),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.editBillingForm),t.xp6(19),t.Q6J("ngIf",!o.editableFlag),t.xp6(1),t.Q6J("ngIf",o.editableFlag),t.xp6(4),t.Q6J("ngIf",!o.editableFlag),t.xp6(1),t.Q6J("ngIf",o.editableFlag),t.xp6(4),t.Q6J("ngIf",!o.editableFlag),t.xp6(1),t.Q6J("ngIf",o.editableFlag),t.xp6(4),t.Q6J("ngIf",!o.editableFlag),t.xp6(1),t.Q6J("ngIf",o.editableFlag),t.xp6(1),t.Q6J("ngIf",o.editableFlag))},directives:[a._Y,a.JL,a.sg,v.O5,y.KE,M.Nt,a.Fj,a.JJ,a.u,y.TO,a.nD],styles:[".btn-close[_ngcontent-%COMP%]{position:absolute;left:-20px!important;top:21px!important;margin-top:0!important;width:.01em;height:.01em;background:url(close.eeda387ab67f88fe.svg);padding:.35rem!important;opacity:inherit}.btn-close[_ngcontent-%COMP%]:hover{background:url(blue-close.5900f30078d85ff7.svg);background-color:#fff!important;padding:12px;border-radius:22px;opacity:inherit}.edit-btn[_ngcontent-%COMP%]{color:#0a62b9;font-size:13px}label[_ngcontent-%COMP%]{font-size:11px;color:#707070}p[_ngcontent-%COMP%]{font-size:13px;text-indent:12px}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#a1a1a1!important}.update-btn[_ngcontent-%COMP%]{background-color:#0a62b9;border:1px solid #0955a0;font-size:13px;color:#fff;padding:5px 25px}.offcanvas.show[_ngcontent-%COMP%]{border-top-left-radius:11px!important;border-top-right-radius:0!important;border-bottom-left-radius:11px!important}"]}),n})();var D=C(8051);function ve(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"ngx-dropzone-preview",15),t.NdJ("removed",function(){return t.CHM(e),t.oxw().onRemoveLOC()}),t.TgZ(1,"ngx-dropzone-label"),t._uU(2),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("removable",!0),t.xp6(2),t.Oqu(e.uploadedLOCFile.name)}}let Ce=(()=>{class n{constructor(e){this.toastr=e,this.files=[],this.fileEvent=new t.vpe}ngOnInit(){}fileTest(e){return e&&e.type.includes("pdf")&&e.size<5e6?e:e&&e.type.includes("pdf")&&e.size>5e6?(this.toastr.error("File size should be less than 5 MB"),null):(this.toastr.error("Only PDF's file are allowed"),null)}uploadLOC(e){this.uploadedLOCFile=null,this.uploadedLOCFile=e.addedFiles[0],this.fileTest(this.uploadedLOCFile)?this.uploadedLOCFile=this.fileTest(this.uploadedLOCFile):(e.addedFiles[0]=null,this.uploadedLOCFile=null)}uploadLOCFile(){this.fileEvent.emit(this.uploadedLOCFile)}onRemoveLOC(){this.uploadedLOCFile=null}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(q._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-upload-loc"]],outputs:{fileEvent:"fileEvent"},decls:23,vars:1,consts:[[1,"container-fluid"],["id","uploadLocModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","py-2"],["id","exampleModalLabel",1,"modal-title","fw-bold"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","shadow-none"],[1,"modal-body","pb-0"],[1,"row"],[1,"col-md-10","offset-md-1"],["type","file","accept",".pdf",1,"justify-content-center","outerCard","my-2",3,"change"],["type","submit",1,"btn","choose-btn","ml-2","mt-3","shadow-none"],["class","inputDetails",3,"removable","removed",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","submit-btn","shadow-none",3,"click"],[1,"inputDetails",3,"removable","removed"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),t._uU(6,"Upload LOC"),t.qZA(),t._UZ(7,"button",6),t.qZA(),t.TgZ(8,"div",7)(9,"div",0)(10,"div",8)(11,"div",9)(12,"ngx-dropzone",10),t.NdJ("change",function(r){return o.uploadLOC(r)}),t.TgZ(13,"ngx-dropzone-label")(14,"span"),t._uU(15,"Drag And Drop File Here"),t.qZA(),t._UZ(16,"br"),t.TgZ(17,"button",11),t._uU(18,"Choose file"),t.qZA()(),t.YNc(19,ve,3,2,"ngx-dropzone-preview",12),t.qZA()()()()(),t.TgZ(20,"div",13)(21,"button",14),t.NdJ("click",function(){return o.uploadLOCFile()}),t._uU(22,"Submit"),t.qZA()()()()()()),2&e&&(t.xp6(19),t.Q6J("ngIf",o.uploadedLOCFile))},directives:[D._f,D.NP,v.O5,D.dt],styles:[".choose-btn[_ngcontent-%COMP%]{color:#fff;background-color:#0955a0;font-size:11px;padding:6px 15px}.outerCard[_ngcontent-%COMP%]{height:138px!important;border:2px dashed #707070;font-size:13px!important}.submit-btn[_ngcontent-%COMP%]{background-color:#0955a0;color:#fff;padding:5px 13px;font-size:13px}"]}),n})();const be=["goBack"];function xe(n,l){1&n&&(t.TgZ(0,"div",16),t._UZ(1,"app-spinner"),t.qZA())}function ye(n,l){1&n&&(t.TgZ(0,"div",16),t._UZ(1,"app-spinner"),t.qZA())}function Ze(n,l){if(1&n&&t._UZ(0,"img",27),2&n){const e=t.oxw(2);t.Q6J("src",e.imagePreviewFront?e.imagePreviewFront:null==e.airlineData?null:e.airlineData.logoPath,t.LSH)}}function Te(n,l){1&n&&(t.TgZ(0,"label",28),t._UZ(1,"i",29),t.qZA())}function Ae(n,l){1&n&&(t.TgZ(0,"mat-error",30),t._uU(1,"Note: Once after upload Please update the profile"),t.qZA())}function we(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",17)(2,"label",18),t._uU(3,"Airlines Logo"),t.qZA(),t.TgZ(4,"div",19)(5,"div",20),t._UZ(6,"p",21),t.TgZ(7,"div",22),t.YNc(8,Ze,1,1,"img",23),t.YNc(9,Te,2,0,"label",24),t.qZA(),t.TgZ(10,"input",25),t.NdJ("change",function(i){return t.CHM(e),t.oxw().onImagePickedFront(i)}),t.qZA()()(),t.YNc(11,Ae,2,0,"mat-error",26),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(8),t.Q6J("ngIf",(null==e.airlineData?null:e.airlineData.logoPath)||e.imagePreviewFront),t.xp6(1),t.Q6J("ngIf",e.editableFlag),t.xp6(2),t.Q6J("ngIf",!(null!=e.airlineData&&e.airlineData.logoPath)&&e.airlineLogo)}}function qe(n,l){if(1&n&&(t.TgZ(0,"p",31),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",null!=e.airlineData&&e.airlineData.companyName?null==e.airlineData?null:e.airlineData.companyName:"--","")}}function ke(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Airline Name is required "),t.qZA())}function Oe(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter proper Airline Name"),t.qZA())}function Le(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Minimum 2-50 Charecters are allowed "),t.qZA())}function Se(n,l){if(1&n&&(t.TgZ(0,"mat-form-field",37),t._UZ(1,"input",38),t.YNc(2,ke,2,0,"mat-error",39),t.YNc(3,Oe,2,0,"mat-error",39),t.YNc(4,Le,2,0,"mat-error",39),t.qZA()),2&n){const e=t.oxw(2);let o,i;t.xp6(2),t.Q6J("ngIf",null==e.settingEdit||null==e.settingEdit.get("airlineinfo").errors?null:e.settingEdit.get("airlineinfo").errors.required),t.xp6(1),t.Q6J("ngIf",(null==e.settingEdit||null==(o=e.settingEdit.get("airlineinfo"))||null==o.errors?null:o.errors.pattern)&&!(null!=e.settingEdit&&null!=(o=e.settingEdit.get("airlineinfo"))&&null!=o.errors&&o.errors.minlength||null!=e.settingEdit&&null!=(o=e.settingEdit.get("airlineinfo"))&&null!=o.errors&&o.errors.maxlength)),t.xp6(1),t.Q6J("ngIf",(null==e.settingEdit||null==(i=e.settingEdit.get("airlineinfo"))||null==i.errors?null:i.errors.minlength)||(null==e.settingEdit||null==(i=e.settingEdit.get("airlineinfo"))||null==i.errors?null:i.errors.maxlength))}}function Pe(n,l){if(1&n&&(t.TgZ(0,"p",31),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",null!=e.airlineData&&e.airlineData.contactNumber?"+49 "+(null==e.airlineData?null:e.airlineData.contactNumber):"--","")}}function Fe(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Airline Contact No is required"),t.qZA())}function Ue(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Minimum 5-13 Charecters are allowed"),t.qZA())}function Me(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",37)(1,"span",40),t._uU(2,"+49 \xa0"),t.qZA(),t.TgZ(3,"input",41),t.NdJ("keydown",function(i){return t.CHM(e),t.oxw(2).layoverService.isValidPhoneNumber(i)}),t.qZA(),t.YNc(4,Fe,2,0,"mat-error",39),t.YNc(5,Ue,2,0,"mat-error",39),t.qZA()}if(2&n){const e=t.oxw(2);let o,i;t.xp6(4),t.Q6J("ngIf",null==e.settingEdit||null==(o=e.settingEdit.get("airlinecontact"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.settingEdit||null==(i=e.settingEdit.get("airlinecontact"))||null==i.errors?null:i.errors.pattern)}}function Ie(n,l){if(1&n&&(t.TgZ(0,"p",31),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",null!=e.airlineData&&e.airlineData.companyAddress?null==e.airlineData?null:e.airlineData.companyAddress:"--"," ")}}function Ne(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Airline Address is required "),t.qZA())}function Je(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter proper Airline Address "),t.qZA())}function De(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Minimum 2-150 Charecters are allowed "),t.qZA())}function He(n,l){if(1&n&&(t.TgZ(0,"mat-form-field",37),t._UZ(1,"input",42),t.YNc(2,Ne,2,0,"mat-error",39),t.YNc(3,Je,2,0,"mat-error",39),t.YNc(4,De,2,0,"mat-error",39),t.qZA()),2&n){const e=t.oxw(2);let o,i,r;t.xp6(2),t.Q6J("ngIf",null==e.settingEdit||null==(o=e.settingEdit.get("companyAddress"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.settingEdit||null==(i=e.settingEdit.get("companyAddress"))||null==i.errors?null:i.errors.pattern),t.xp6(1),t.Q6J("ngIf",(null==e.settingEdit||null==(r=e.settingEdit.get("companyAddress"))||null==r.errors?null:r.errors.minlength)||(null==e.settingEdit||null==(r=e.settingEdit.get("companyAddress"))||null==r.errors?null:r.errors.maxlength))}}function Qe(n,l){if(1&n&&(t.TgZ(0,"div",1)(1,"div",31),t._uU(2,"Airline Info"),t.qZA(),t.TgZ(3,"div",32)(4,"label",33),t._uU(5,"Airline Name"),t.qZA(),t.YNc(6,qe,2,1,"p",34),t.YNc(7,Se,5,3,"mat-form-field",35),t.qZA(),t.TgZ(8,"div",32)(9,"label",33),t._uU(10,"Airline Contact No."),t.qZA(),t.YNc(11,Pe,2,1,"p",34),t.YNc(12,Me,6,2,"mat-form-field",35),t.qZA(),t.TgZ(13,"div",36)(14,"label"),t._uU(15,"Airline Address"),t.qZA(),t.YNc(16,Ie,2,1,"p",34),t.YNc(17,He,5,3,"mat-form-field",35),t.qZA()()),2&n){const e=t.oxw();t.xp6(6),t.Q6J("ngIf",!e.editableFlag),t.xp6(1),t.Q6J("ngIf",e.editableFlag),t.xp6(4),t.Q6J("ngIf",!e.editableFlag),t.xp6(1),t.Q6J("ngIf",e.editableFlag),t.xp6(4),t.Q6J("ngIf",!e.editableFlag),t.xp6(1),t.Q6J("ngIf",e.editableFlag)}}function Be(n,l){1&n&&t._UZ(0,"hr",43)}function Ye(n,l){1&n&&(t.TgZ(0,"label",33),t._uU(1,"Setup PIN For Billing"),t.qZA())}function Ee(n,l){1&n&&t._UZ(0,"i",54)}function Re(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"i",55),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).deleteBillingUser()}),t.qZA()}}function ze(n,l){if(1&n&&(t.TgZ(0,"p",31),t._uU(1,"********** "),t.YNc(2,Ee,1,0,"i",53),t.YNc(3,Re,1,0,"i",52),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.billingUserDetails),t.xp6(1),t.Q6J("ngIf",e.billingUserDetails)}}function je(n,l){1&n&&(t.TgZ(0,"button",56),t._uU(1,"Add User For Billing"),t.qZA())}function Ve(n,l){1&n&&(t.TgZ(0,"button",57),t._uU(1," Upload LOC "),t._UZ(2,"img",58),t.qZA())}function $e(n,l){1&n&&(t.TgZ(0,"mat-error",30),t._uU(1,"Note: Once after upload Please update the profile"),t.qZA())}function Ge(n,l){1&n&&t._UZ(0,"i",59)}function We(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"i",55),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).deleteAirlineLOC()}),t.qZA()}}function Ke(n,l){if(1&n&&(t.TgZ(0,"div",1)(1,"div",44),t.YNc(2,Ye,2,0,"label",45),t.YNc(3,ze,4,2,"p",34),t.YNc(4,je,2,0,"button",46),t.qZA(),t.TgZ(5,"div",47)(6,"label",48),t._uU(7,"LOC"),t.qZA(),t.TgZ(8,"div",49)(9,"span",31),t._uU(10),t.qZA(),t.YNc(11,Ve,3,0,"button",50),t.qZA(),t.YNc(12,$e,2,0,"mat-error",26),t.YNc(13,Ge,1,0,"i",51),t.YNc(14,We,1,0,"i",52),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.billingUserDetails),t.xp6(1),t.Q6J("ngIf",e.billingUserDetails),t.xp6(1),t.Q6J("ngIf",!e.billingUserDetails),t.xp6(6),t.Oqu(null==e.airlineData||null==e.airlineData.generalLocPath?null:e.airlineData.generalLocPath.split("/")[(null==e.airlineData||null==e.airlineData.generalLocPath?null:e.airlineData.generalLocPath.split("/").length)-1]),t.xp6(1),t.Q6J("ngIf",!(null!=e.airlineData&&e.airlineData.generalLocPath)),t.xp6(1),t.Q6J("ngIf",!(null!=e.airlineData&&e.airlineData.generalLocPath)&&e.locFile),t.xp6(1),t.Q6J("ngIf",null==e.airlineData?null:e.airlineData.generalLocPath),t.xp6(1),t.Q6J("ngIf",null==e.airlineData?null:e.airlineData.generalLocPath)}}function Xe(n,l){1&n&&(t.TgZ(0,"div",60)(1,"div",61)(2,"div",62)(3,"button",63),t._uU(4,"Update"),t.qZA()()()())}let to=(()=>{class n{constructor(e,o,i){this.fb=e,this.layoverService=o,this.toastr=i,this.editableFlag=!1,this.imagePreviewFront="",this.isLoading=!1,this.settingEdit=this.fb.group({airlineinfo:["",[a.kI.required,a.kI.required,a.kI.pattern(/^[a-zA-Z][a-zA-Z0-9\s().,&-/!@#$%&*:;.,]*$/),a.kI.minLength(2),a.kI.maxLength(50)]],airlinecontact:["",[a.kI.required,a.kI.pattern(/^[0-9]{5,13}$/),a.kI.minLength(5),a.kI.maxLength(13)]],companyAddress:["",[a.kI.required,a.kI.minLength(2),a.kI.maxLength(150)]]})}ngOnInit(){this.getAirlineDetails(),this.getAllBillingUsers()}getAllBillingUsers(){this.layoverService.getAllBillingUsers().subscribe({next:e=>{!e.isError&&e.message&&(this.billingUserDetails=null==e?void 0:e.data)},error:e=>{var o;(null==e?void 0:e.error).isError?this.toastr.error(null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message):this.toastr.error("Sorry, Something Went Wrong")}})}deleteBillingUser(){var e;this.layoverService.deleteBillingUser(null===(e=this.billingUserDetails)||void 0===e?void 0:e.billingUserId).subscribe({next:o=>{!o.isError&&o.message&&(this.toastr.success(null==o?void 0:o.message),setTimeout(()=>{var i,r;null===(r=null===(i=this.goBack)||void 0===i?void 0:i.nativeElement)||void 0===r||r.click(),this.getAllBillingUsers(),window.location.reload()},1e3))},error:o=>{var i;(null==o?void 0:o.error).isError?this.toastr.error(null===(i=null==o?void 0:o.error)||void 0===i?void 0:i.message):this.toastr.error("Sorry, Something Went Wrong")}})}getAirlineDetails(){this.layoverService.getAirportOrAirlineorExternalHandlingCompanyInfo().subscribe({next:e=>{!e.isError&&e.message&&(this.airlineData=e.data,this.currentgeneralLOC=e.data.generalLocPath,this.currentLogo=e.data.logoPath)},error:e=>{var o;(null==e?void 0:e.error).isError?this.toastr.error(null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message):this.toastr.error("Sorry, Something Went Wrong")}})}onImagePickedFront(e){const o=e.target.files[0];if(this.fileTest(o)){this.airlineLogo=this.fileTest(o);const i=new FileReader;i.onload=()=>{this.imagePreviewFront=i.result},i.readAsDataURL(o)}else e.target.value=null}fileTest(e){return e&&e.type.includes("image")&&e.size<3e6?e:e&&e.type.includes("image")&&e.size>3e6?(this.toastr.error("File size should be less than 3 MB"),null):(this.toastr.error("Only image file are allowed"),null)}onEdit(){var e,o,i;this.editableFlag=!this.editableFlag,this.settingEdit.patchValue({airlinecontact:null===(e=this.airlineData)||void 0===e?void 0:e.contactNumber,airlineinfo:null===(o=this.airlineData)||void 0===o?void 0:o.companyName,companyAddress:null===(i=this.airlineData)||void 0===i?void 0:i.companyAddress})}getLOC(e){this.locFile=e,this.onEdit()}updateAirline(){var e,o,i,r,s,c,d,u,m,g,f,_,b;if(console.log(this.layoverService.findInvalidControls(this.settingEdit)),this.settingEdit.valid){let T={companyId:this.layoverService.getLocalStorageValue("companyId"),companyName:this.settingEdit.get("airlineinfo").value,companyAddress:this.settingEdit.get("companyAddress").value,logoPath:this.currentLogo?this.currentLogo:null===(e=this.airlineData)||void 0===e?void 0:e.logoPath,generalLocPath:this.currentgeneralLOC?this.currentgeneralLOC:(null===(o=this.airlineData)||void 0===o?void 0:o.generalLocPath)?null===(i=this.airlineData)||void 0===i?void 0:i.generalLocPath:null,status:null===(r=this.airlineData)||void 0===r?void 0:r.status,email:null===(s=this.airlineData)||void 0===s?void 0:s.email,handlingAirlines:null===(c=this.airlineData)||void 0===c?void 0:c.handlingAirlines,contactNumber:null===(u=null===(d=this.settingEdit)||void 0===d?void 0:d.get("airlinecontact"))||void 0===u?void 0:u.value,name:null===(m=this.airlineData)||void 0===m?void 0:m.name,location:null===(g=this.airlineData)||void 0===g?void 0:g.location,adminNotify:null===(f=this.airlineData)||void 0===f?void 0:f.adminNotify,companyNotify:null===(_=this.airlineData)||void 0===_?void 0:_.companyNotify,hotelNotify:null===(b=this.airlineData)||void 0===b?void 0:b.hotelNotify};this.isLoading=!0,this.layoverService.updateExternalCompanyOrAirportOrAirline(T).subscribe({next:h=>{!h.isError&&h.message?(this.isLoading=!1,this.toastr.success("Airline Profile Updated Successfully"),setTimeout(()=>{var Z,A;null===(A=null===(Z=this.goBack)||void 0===Z?void 0:Z.nativeElement)||void 0===A||A.click(),this.getAllBillingUsers(),window.location.reload()},1e3)):(this.isLoading=!1,this.toastr.error("Airline Profile Updation failed"))},error:h=>{var Z;(null==h?void 0:h.error).isError?(this.isLoading=!1,this.toastr.error(null===(Z=null==h?void 0:h.error)||void 0===Z?void 0:Z.message)):(this.isLoading=!1,this.toastr.error("Sorry, Something Went Wrong"))}})}}deleteAirlineLOC(){var e;let o={id:this.layoverService.getLocalStorageValue("companyId"),path:null===(e=this.airlineData)||void 0===e?void 0:e.generalLocPath};this.layoverService.deleteAirlineLOC(o).subscribe({next:i=>{!i.isError&&i.message&&(this.toastr.success(i.message),setTimeout(()=>{var r,s;null===(s=null===(r=this.goBack)||void 0===r?void 0:r.nativeElement)||void 0===s||s.click(),this.getAllBillingUsers(),window.location.reload()},1e3))},error:i=>{var r;(null==i?void 0:i.error).isError?this.toastr.error(null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.message):this.toastr.error("Sorry, Something Went Wrong")}})}updateProfile(){var e;this.isLoading=!0,(null===(e=this.settingEdit)||void 0===e?void 0:e.valid)&&(this.locFile||this.airlineLogo)?this.layoverService.updateAirlineLogo(this.layoverService.getLocalStorageValue("companyId"),this.locFile,this.airlineLogo).subscribe({next:o=>{var i,r;!(null==o?void 0:o.isError)&&(null==o?void 0:o.message)?(this.isLoading=!1,this.locFile&&this.airlineLogo?this.toastr.success("Airline LOC and Logo Updated Successfully"):this.locFile&&!this.airlineLogo?this.toastr.success("Airline LOC Updated Successfully"):!this.locFile&&this.airlineLogo&&this.toastr.success("Airline Logo Updated Successfully"),this.currentgeneralLOC=null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.generalLocPath,this.currentLogo=null===(r=null==o?void 0:o.data)||void 0===r?void 0:r.logoPath,setTimeout(()=>{this.updateAirline()})):(this.isLoading=!1,this.toastr.error(o.message))},error:o=>{var i;(null==o?void 0:o.error).isError?(this.isLoading=!1,this.toastr.error(null===(i=null==o?void 0:o.error)||void 0===i?void 0:i.message)):(this.isLoading=!1,this.toastr.error("Sorry, Something Went Wrong"))}}):(this.isLoading=!1,this.updateAirline())}ngOnDestroy(){this.editableFlag=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.qu),t.Y36(w.y),t.Y36(q._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-settings"]],viewQuery:function(e,o){if(1&e&&t.Gf(be,5),2&e){let i;t.iGM(i=t.CRH())&&(o.goBack=i.first)}},decls:24,vars:8,consts:[[1,"container-fluid"],[1,"row"],["tabindex","-1","id","settingsOffcanvas","aria-labelledby","offcanvasRightLabel",1,"offcanvas","offcanvas-end","w-50"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset","shadow-none"],["goBack",""],[1,"offcanvas-header","border-bottom","pb-1","ps-1"],["id","offcanvasRightLabel",1,"mb-0","fw-bold"],["type","button",1,"btn","edit-btn","fw-bold","shadow-none","pt-0",3,"click"],["aria-hidden","true",1,"fa","fa-pencil","animate-edit","cursor-pointer"],[3,"formGroup","ngSubmit"],["class","spinner-pos-side-offcanvas",4,"ngIf"],[1,"offcanvas-body"],["class","row",4,"ngIf"],["class","my-2",4,"ngIf"],["class","offcanvas-footer border-top",4,"ngIf"],[3,"fileEvent"],[1,"spinner-pos-side-offcanvas"],[1,"col-md-6"],[1,"mb-2","fw-bold"],[1,""],[1,"imageHeight"],[1,"m-0"],[1,"airline-logo","ms-2","position-relative",2,"cursor","pointer"],["class","imgpreview",3,"src",4,"ngIf"],["for","airlineLogoUpload",4,"ngIf"],["type","file","id","airlineLogoUpload","accept","image/*",1,"invisible",3,"change"],["style","font-size: 10px;",4,"ngIf"],[1,"imgpreview",3,"src"],["for","airlineLogoUpload"],["aria-hidden","true",1,"fa","fa-plus-circle","text-align-center","fa-2x","cursor-pointer",2,"color","#A1A1A1","cursor","pointer"],[2,"font-size","10px"],[1,"fw-bold"],[1,"col-md-6","mt-3"],[1,"mb-1"],["class","fw-bold",4,"ngIf"],["appearance","standard",4,"ngIf"],[1,"col-md-12","mt-3"],["appearance","standard"],["matInput","","formControlName","airlineinfo",1,"fw-bold"],[4,"ngIf"],["matPrefix",""],["matInput","","formControlName","airlinecontact",1,"fw-bold",3,"keydown"],["matInput","","formControlName","companyAddress",1,"fw-bold"],[1,"my-2"],[1,"col-md-6","mt-auto"],["class","mb-1",4,"ngIf"],["type","button","class","btn add-user-btn fw-bold shadow-none pt-auto ","data-bs-toggle","offcanvas","data-bs-target","#addUserOffcanvas",4,"ngIf"],[1,"col-md-6","mt-2","text-center"],[1,"mb-1","text-center"],[1,"file-name",2,"text-overflow","ellipsis","white-space","nowrap","overflow-x","hidden"],["type","button","class","btn add-user-btn fw-bold shadow-none","data-bs-toggle","modal","data-bs-target","#uploadLocModal",4,"ngIf"],["class","fa fa-pencil mx-3 locEdit","data-bs-toggle","modal","data-bs-target","#uploadLocModal","aria-hidden","true",4,"ngIf"],["class","fa fa-trash locEdit cursor-pointer","aria-hidden","true",3,"click",4,"ngIf"],["class","fa fa-pencil mx-3 locEdit cursor-pointer","aria-hidden","true","data-bs-toggle","offcanvas","data-bs-target","#updateUserOffcanvas",4,"ngIf"],["aria-hidden","true","data-bs-toggle","offcanvas","data-bs-target","#updateUserOffcanvas",1,"fa","fa-pencil","mx-3","locEdit","cursor-pointer"],["aria-hidden","true",1,"fa","fa-trash","locEdit","cursor-pointer",3,"click"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#addUserOffcanvas",1,"btn","add-user-btn","fw-bold","shadow-none","pt-auto"],["type","button","data-bs-toggle","modal","data-bs-target","#uploadLocModal",1,"btn","add-user-btn","fw-bold","shadow-none"],["src","../../../../assets/images/Icon feather-upload.svg","alt","",1,"shadow-none","upload-img","ms-1"],["data-bs-toggle","modal","data-bs-target","#uploadLocModal","aria-hidden","true",1,"fa","fa-pencil","mx-3","locEdit"],[1,"offcanvas-footer","border-top"],[1,"row","my-2"],[1,"col-md-12","text-center"],["type","submit","data-bs-dismiss","modal",1,"btn","update-btn"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"button",3,4),t.TgZ(5,"div",5)(6,"h5",6),t._uU(7,"Settings"),t.qZA(),t.TgZ(8,"button",7),t.NdJ("click",function(){return o.onEdit()}),t._UZ(9,"i",8),t._uU(10," Edit"),t.qZA()(),t.TgZ(11,"form",9),t.NdJ("ngSubmit",function(){return o.updateProfile()}),t.YNc(12,xe,2,0,"div",10),t.TgZ(13,"div",11),t.YNc(14,ye,2,0,"div",10),t.YNc(15,we,12,3,"div",12),t._UZ(16,"hr"),t.YNc(17,Qe,18,6,"div",12),t.YNc(18,Be,1,0,"hr",13),t.YNc(19,Ke,15,8,"div",12),t.qZA(),t.YNc(20,Xe,5,0,"div",14),t.qZA()()()(),t._UZ(21,"app-add-user-for-billing")(22,"app-update-user-for-billing"),t.TgZ(23,"app-upload-loc",15),t.NdJ("fileEvent",function(r){return o.getLOC(r)}),t.qZA()),2&e&&(t.xp6(11),t.Q6J("formGroup",o.settingEdit),t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(2),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("ngIf",!o.isLoading),t.xp6(2),t.Q6J("ngIf",!o.isLoading),t.xp6(1),t.Q6J("ngIf",!o.isLoading),t.xp6(1),t.Q6J("ngIf",!o.isLoading),t.xp6(1),t.Q6J("ngIf",o.editableFlag&&!o.isLoading))},directives:[a._Y,a.JL,a.sg,v.O5,N.O,y.TO,y.KE,M.Nt,a.Fj,a.JJ,a.u,y.qo,$t,he,Ce],styles:[".btn-close[_ngcontent-%COMP%]{position:fixed;margin-left:-31px;top:21px!important;margin-top:0!important;width:.01em;height:.01em;background-image:url(close.eeda387ab67f88fe.svg);padding:.35rem!important;opacity:inherit}.imgpreview[_ngcontent-%COMP%]{width:100%;border-radius:10px;height:80px}.btn-close[_ngcontent-%COMP%]{position:fixed;margin-left:-31px;top:21px!important;margin-top:0!important;width:.01em;height:.01em;background-image:url(close.eeda387ab67f88fe.svg);padding:.35rem!important;opacity:inherit;z-index:999999}.btn-close[_ngcontent-%COMP%]:hover{background-image:url(close.eeda387ab67f88fe.svg);background-color:#0a62b9!important;padding:12px;border-radius:22px;opacity:inherit}.edit-btn[_ngcontent-%COMP%]{color:#0a62b9;font-size:13px}label[_ngcontent-%COMP%]{font-size:11px;color:#707070}p[_ngcontent-%COMP%]{font-size:13px;text-indent:12px}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#a1a1a1!important}.update-btn[_ngcontent-%COMP%]{background-color:#0a62b9;border:1px solid #0955a0;font-size:13px;color:#fff;padding:5px 25px}.airline-logo[_ngcontent-%COMP%]{border:1px solid #00000029;height:82px;width:126px;border-radius:10px}.add-user-btn[_ngcontent-%COMP%]{border:1px solid #0955a0;color:#0955a0;background:white;font-size:12px;padding:5px 25px}.upload-img[_ngcontent-%COMP%]{height:10px;width:10px}.file-name[_ngcontent-%COMP%]{font-size:13px;cursor:pointer}.file-name[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:#0955a0;font-size:13px;cursor:pointer}.text-align-center[_ngcontent-%COMP%]{position:absolute;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important}.offcanvas.show[_ngcontent-%COMP%]{border-top-left-radius:11px!important;border-top-right-radius:0!important;border-bottom-left-radius:11px!important}.offcanvas.show[_ngcontent-%COMP%]{overflow-y:auto}.locEdit[_ngcontent-%COMP%]{cursor:pointer!important}"]}),n})();var S=C(8908),k=C(3547),p=C(1149);function eo(n,l){1&n&&(t.TgZ(0,"th",17),t._uU(1," Hotels List"),t.qZA())}function oo(n,l){1&n&&t._UZ(0,"div",28)}function no(n,l){if(1&n&&t._UZ(0,"img",29),2&n){const e=t.oxw().$implicit;t.Q6J("src",null==e?null:e.hotelLogo,t.LSH)}}function io(n,l){if(1&n&&(t.TgZ(0,"td",18)(1,"div",19)(2,"div")(3,"span"),t.YNc(4,oo,1,0,"div",20),t.TgZ(5,"div",21),t.YNc(6,no,1,1,"img",22),t.qZA()()(),t.TgZ(7,"div")(8,"span",23),t._uU(9),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"div",24)(12,"div",25)(13,"p",26),t._uU(14,"Single Rooms"),t.qZA(),t.TgZ(15,"span",27),t._uU(16),t.qZA(),t.TgZ(17,"span"),t._uU(18,"/Night "),t.qZA()(),t.TgZ(19,"div",25)(20,"p",26),t._uU(21,"Double Rooms"),t.qZA(),t.TgZ(22,"span",27),t._uU(23),t.qZA(),t.TgZ(24,"span"),t._uU(25,"/Night "),t.qZA()(),t.TgZ(26,"div",25)(27,"p",26),t._uU(28,"Accessible Rooms"),t.qZA(),t.TgZ(29,"span",27),t._uU(30),t.qZA(),t.TgZ(31,"span"),t._uU(32,"/Night "),t.qZA()()()()()()),2&n){const e=l.$implicit;t.xp6(4),t.Q6J("ngIf",!(null!=e&&e.hotelLogo)),t.xp6(2),t.Q6J("ngIf",null==e?null:e.hotelLogo),t.xp6(3),t.Oqu(null==e?null:e.hotelName),t.xp6(7),t.hij("\u20ac",null==e?null:e.singleRoomPrice,""),t.xp6(7),t.hij("\u20ac",null==e?null:e.doubleRoomPrice,""),t.xp6(7),t.hij("\u20ac",null==e?null:e.accessibleRoomPrice,"")}}function ro(n,l){1&n&&(t.TgZ(0,"th",30),t._uU(1," Date & Time "),t.qZA())}function lo(n,l){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&n){const e=l.$implicit;t.xp6(1),t.hij(" ",e.timestamp.replace(" "," | ")," ")}}function ao(n,l){1&n&&(t.TgZ(0,"th",31),t._uU(1," Count "),t.qZA())}function so(n,l){if(1&n&&(t.TgZ(0,"div",38),t._UZ(1,"img",39),t.TgZ(2,"div",40),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.breakfastPrice,"")}}function co(n,l){if(1&n&&(t.TgZ(0,"div",38),t._UZ(1,"img",41),t.TgZ(2,"div",42),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.lunchPrice,"")}}function mo(n,l){if(1&n&&(t.TgZ(0,"div",38),t._UZ(1,"img",43),t.TgZ(2,"div",44),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.dinnerPrice,"")}}function uo(n,l){if(1&n&&(t.TgZ(0,"div",38),t._UZ(1,"img",45),t.TgZ(2,"div",44),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.beveragePrice,"")}}function po(n,l){if(1&n&&(t.ynx(0),t.YNc(1,so,4,1,"div",37),t.YNc(2,co,4,1,"div",37),t.YNc(3,mo,4,1,"div",37),t.YNc(4,uo,4,1,"div",37),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("BREAKFAST")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("LUNCH")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("DINNER")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("BEVERAGES"))}}function go(n,l){if(1&n&&(t.TgZ(0,"td",18)(1,"div",32)(2,"div",33)(3,"span",34),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",35),t.YNc(7,po,5,4,"ng-container",15),t.qZA(),t._UZ(8,"div",36),t.qZA()()()),2&n){const e=l.$implicit;t.xp6(4),t.Oqu(null==e?null:e.requestedCount),t.xp6(3),t.Q6J("ngIf",null==e?null:e.requestedMeals)}}function _o(n,l){1&n&&(t.TgZ(0,"th",31),t._uU(1," Amount "),t.qZA())}function fo(n,l){if(1&n&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&n){const e=l.$implicit;t.xp6(1),t.hij(" ",null!=e&&e.totalAmount?t.xi3(2,1,null==e?null:e.totalAmount,"EUR"):"--"," ")}}function ho(n,l){1&n&&(t.TgZ(0,"th",47),t._uU(1," Response "),t.qZA())}function vo(n,l){if(1&n&&(t.TgZ(0,"td",18)(1,"div",48)(2,"div",33)(3,"span",49),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"span"),t._UZ(7,"img",50),t.qZA(),t.TgZ(8,"span",51),t._uU(9),t.qZA()()()()),2&n){const e=l.$implicit;t.xp6(4),t.Oqu(e.acceptedCount),t.xp6(5),t.hij("",null!=e&&e.status?null==e?null:e.status:"Pending"," ")}}function Co(n,l){1&n&&t._UZ(0,"tr",52)}function bo(n,l){1&n&&t._UZ(0,"tr",53)}function xo(n,l){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-error",54),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",e.errorMsg," ")}}function yo(n,l){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-spinner"),t.qZA())}const Zo=function(){return[5,10,20]};let tt=(()=>{class n{constructor(e,o){this.layoverService=e,this.toastr=o,this.displayedColumns=["hotelName","timestamp","requestedCount","totalAmount","acceptedCount"],this.dataSource=new p.by,this.isPending=!1}ngOnInit(){this.getOpenRequests()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}getOpenRequests(){const e={requestId:this.layoverService.getLocalStorageValue("companyId"),startDateTime:null,endDateTime:null};this.isPending=!0,this.layoverService.getAllOpenRequests(e).subscribe({next:o=>{if(!o.isError&&o.message&&Array.isArray(o.data)&&o.data.length>0){this.dataSource.data=o.data;let i=this.dataSource.data.filter(r=>!1===(null==r?void 0:r.companyNotify)).map(r=>({requestId:null==r?void 0:r.layoverRequestId,adminNotify:null==r?void 0:r.adminNotify,companyNotify:!0,hotelNotify:null==r?void 0:r.hotelNotify}));Array.isArray(i)&&i.length>0&&this.layoverService.requestNotify(i).subscribe(),this.isPending=!1,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}else this.isPending=!1,this.errorMsg="No Data Found"},error:o=>{o.isError&&(this.isPending=!1,this.errorMsg="No Data Found"),this.isPending=!1,this.toastr.error("Sorry! something went wrong")}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(w.y),t.Y36(q._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-open-requests"]],viewQuery:function(e,o){if(1&e&&(t.Gf(S.NW,5),t.Gf(k.YE,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.paginator=i.first),t.iGM(i=t.CRH())&&(o.sort=i.first)}},decls:22,vars:7,consts:[[1,"mat-elevation-z8","shadow-none","layover-table","h-100"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","hotelName"],["class","py-0","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","timestamp"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","requestedCount"],["mat-header-cell","","mat-sort-header","","class","center-table-header",4,"matHeaderCellDef"],["matColumnDef","totalAmount"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","acceptedCount"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","my-2",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","",1,"py-0"],["mat-cell",""],[1,"d-flex","align-items-center"],["class","me-1 hotel-img border border-dark",4,"ngIf"],[1,"me-1","w-50","h-50"],["class","hotel-img","alt","",3,"src",4,"ngIf"],[1,"fw-bold","hotel-list-main"],[1,"d-flex","justify-content-around",2,"font-size","9px"],[1,"me-3"],[1,"mb-0","text-color-primary","fw-bold"],[1,"fw-bold","hotel-list-sub-main"],[1,"me-1","hotel-img","border","border-dark"],["alt","",1,"hotel-img",3,"src"],["mat-header-cell","","mat-sort-header",""],["mat-header-cell","","mat-sort-header","",1,"center-table-header"],[1,"d-flex","text-center","justify-content-center"],[1,"text-center"],[1,"fw-bold","count-number"],[1,"row","justify-content-center"],[1,"row"],["class","col-md-auto px-1",4,"ngIf"],[1,"col-md-auto","px-1"],["src","../../../../assets/images/airline-table-img1.png","alt","","placement","bottom","ngbTooltip","Breakfast",1,"table-img"],[1,"d-block","px-1","mb-0","fw-bold","count-text","justify-content-start",2,"font-size","9px"],["src","../../../../assets/images/airline-table-img2.png","alt","","placement","bottom","ngbTooltip","Lunch",1,"table-img1"],[1,"d-block","px-1","ms-1","fw-bold","count-text","justify-content-start",2,"font-size","9px"],["src","../../../../assets/images/airline-table-img3.png","alt","","placement","bottom","ngbTooltip","Dinner",1,"table-img1"],[1,"d-block","px-1","fw-bold","count-text","justify-content-start",2,"font-size","9px"],["src","../../../../assets/images/airline-table-img4.png","alt","","placement","bottom","ngbTooltip","Beverage",1,"table-img1"],["mat-cell","",1,"text-center"],["mat-header-cell","",1,"text-center"],[1,"d-flex","justify-content-center"],[1,"fw-bold","response-list"],["src","../../../assets/images/response-info.png","alt","",1,"response-img","ms-1"],[1,"ms-1","resoponse-check-icon","text-warning"],["mat-header-row",""],["mat-row","",1,"my-2"],[1,"text-center","my-5"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"table",1),t.ynx(2,2),t.YNc(3,eo,2,0,"th",3),t.YNc(4,io,33,6,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,ro,2,0,"th",6),t.YNc(7,lo,2,1,"td",4),t.BQk(),t.ynx(8,7),t.YNc(9,ao,2,0,"th",8),t.YNc(10,go,9,2,"td",4),t.BQk(),t.ynx(11,9),t.YNc(12,_o,2,0,"th",8),t.YNc(13,fo,3,4,"td",10),t.BQk(),t.ynx(14,11),t.YNc(15,ho,2,0,"th",12),t.YNc(16,vo,10,2,"td",4),t.BQk(),t.YNc(17,Co,1,0,"tr",13),t.YNc(18,bo,1,0,"tr",14),t.qZA(),t.YNc(19,xo,3,1,"ng-container",15),t.YNc(20,yo,2,0,"div",15),t._UZ(21,"mat-paginator",16),t.qZA()),2&e&&(t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.errorMsg||0===o.dataSource.data.length||0===o.dataSource.filteredData.length),t.xp6(1),t.Q6J("ngIf",o.isPending),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(6,Zo)))},directives:[p.BZ,k.YE,p.w1,p.fO,p.ge,k.nU,p.Dz,p.ev,v.O5,I._L,p.as,p.XQ,p.nj,p.Gk,y.TO,N.O,S.NW],pipes:[v.H9],styles:['.layover-table[_ngcontent-%COMP%]::-webkit-scrollbar{width:100%!important;height:12px!important}.layover-table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#000;border-radius:20px;border:2px solid white}.layover-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.layover-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:16px;color:#000;white-space:nowrap!important;font-weight:600}.layover-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:12px!important;white-space:nowrap!important}.layover-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{z-index:99!important;border-bottom:none!important}.layover-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{z-index:110!important;border-bottom:none!important}.layover-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{z-index:99!important;border-bottom:none!important;padding-right:1em!important}.layover-table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:last-of-type{padding-right:.25em!important}.layover-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background:#D3E9FF!important}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none!important}.table-img[_ngcontent-%COMP%]{height:20px;width:20px}.table-img1[_ngcontent-%COMP%]{height:16px;width:16px}.hotel-img[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:3px}.response-img[_ngcontent-%COMP%]{height:12px;width:12px}.count-text[_ngcontent-%COMP%]{font-size:9px;color:#6d007a}.hotel-list-main[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.02rem}.hotel-list-sub-main[_ngcontent-%COMP%]{color:#0a62b9;font-size:16px;letter-spacing:.02rem}.count-list[_ngcontent-%COMP%]{font-size:23px;letter-spacing:.02rem}.response-list[_ngcontent-%COMP%]{font-size:15px;letter-spacing:.02rem}.resoponse-check-icon[_ngcontent-%COMP%]{color:#06a74c;font-size:12px;letter-spacing:.02rem;font-weight:600}.count-number[_ngcontent-%COMP%]{font-size:15px}[_nghost-%COMP%]  .btn-close{color:#0a62b9!important}  .btn-close:hover{border-radius:50%!important;background-image:url(\'data:image/svg+xml;utf8,<svg stroke="blue" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M1.458 1.458l21.084 21.084m0-21.084L1.458 22.542" /></svg>\')!important;background-color:#05054d15!important}@media only screen and (max-width: 1112px){.layover-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:11px!important}.layover-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:13px}.hotel-list-main[_ngcontent-%COMP%], .hotel-list-sub-main[_ngcontent-%COMP%], .response-list[_ngcontent-%COMP%], .count-number[_ngcontent-%COMP%]{font-size:14px}}']}),n})();var et=C(5239),R=C(3482);const To=["uploadLPassengerListodal"],Ao=["uploadLOCModal"];function wo(n,l){1&n&&(t.TgZ(0,"th",43),t._uU(1," Hotels List"),t.qZA())}function qo(n,l){1&n&&t._UZ(0,"div",54)}function ko(n,l){if(1&n&&t._UZ(0,"img",55),2&n){const e=t.oxw().$implicit;t.Q6J("src",null==e?null:e.hotelLogo,t.LSH)}}function Oo(n,l){if(1&n&&(t.TgZ(0,"td",44)(1,"div",45)(2,"div")(3,"span"),t.YNc(4,qo,1,0,"div",46),t.TgZ(5,"div",47),t.YNc(6,ko,1,1,"img",48),t.qZA()()(),t.TgZ(7,"div")(8,"span",49),t._uU(9),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"div",50)(12,"div",51)(13,"p",52),t._uU(14,"Single Rooms"),t.qZA(),t.TgZ(15,"span",53),t._uU(16),t.qZA(),t.TgZ(17,"span"),t._uU(18,"/Night "),t.qZA()(),t.TgZ(19,"div",51)(20,"p",52),t._uU(21,"Double Rooms"),t.qZA(),t.TgZ(22,"span",53),t._uU(23),t.qZA(),t.TgZ(24,"span"),t._uU(25,"/Night "),t.qZA()(),t.TgZ(26,"div",51)(27,"p",52),t._uU(28,"Accessible Rooms"),t.qZA(),t.TgZ(29,"span",53),t._uU(30),t.qZA(),t.TgZ(31,"span"),t._uU(32,"/Night "),t.qZA()()()()()()),2&n){const e=l.$implicit;t.xp6(4),t.Q6J("ngIf",!(null!=e&&e.hotelLogo)),t.xp6(2),t.Q6J("ngIf",null==e?null:e.hotelLogo),t.xp6(3),t.Oqu(null==e?null:e.hotelName),t.xp6(7),t.hij("\u20ac",null==e?null:e.singleRoomPrice,""),t.xp6(7),t.hij("\u20ac",null==e?null:e.doubleRoomPrice,""),t.xp6(7),t.hij("\u20ac",null==e?null:e.accessibleRoomPrice,"")}}function Lo(n,l){1&n&&(t.TgZ(0,"th",56),t._uU(1," Date & Time "),t.qZA())}function So(n,l){if(1&n&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&n){const e=l.$implicit;t.xp6(1),t.hij(" ",null==e||null==e.timestamp?null:e.timestamp.replace(" "," | ")," ")}}function Po(n,l){1&n&&(t.TgZ(0,"th",57),t._uU(1," Count "),t.qZA())}function Fo(n,l){if(1&n&&(t.TgZ(0,"div",62),t._UZ(1,"img",63),t.TgZ(2,"div",64),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.breakfastPrice,"")}}function Uo(n,l){if(1&n&&(t.TgZ(0,"div",62),t._UZ(1,"img",65),t.TgZ(2,"div",66),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.lunchPrice,"")}}function Mo(n,l){if(1&n&&(t.TgZ(0,"div",62),t._UZ(1,"img",67),t.TgZ(2,"div",64),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.dinnerPrice,"")}}function Io(n,l){if(1&n&&(t.TgZ(0,"div",62),t._UZ(1,"img",68),t.TgZ(2,"div",64),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.beveragePrice," ")}}function No(n,l){if(1&n&&(t.ynx(0),t.YNc(1,Fo,4,1,"div",61),t.YNc(2,Uo,4,1,"div",61),t.YNc(3,Mo,4,1,"div",61),t.YNc(4,Io,4,1,"div",61),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("BREAKFAST")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("LUNCH")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("DINNER")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.requestedMeals.includes("BEVERAGES"))}}function Jo(n,l){if(1&n&&(t.TgZ(0,"td",44)(1,"div",58)(2,"div")(3,"span",59),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",60),t.YNc(7,No,5,4,"ng-container",18),t.qZA()()()()),2&n){const e=l.$implicit;t.xp6(4),t.Oqu(null==e?null:e.requestedCount),t.xp6(3),t.Q6J("ngIf",null==e?null:e.requestedMeals)}}function Do(n,l){1&n&&(t.TgZ(0,"th",57),t._uU(1," Amount "),t.qZA())}function Ho(n,l){if(1&n&&(t.TgZ(0,"td",69),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&n){const e=l.$implicit;t.xp6(1),t.hij(" ",null!=e&&e.totalAmount?t.xi3(2,1,null==e?null:e.totalAmount,"EUR"):"--","")}}function Qo(n,l){1&n&&(t.TgZ(0,"th",70),t._uU(1," Response "),t.qZA())}function Bo(n,l){if(1&n&&(t.TgZ(0,"div",62),t._UZ(1,"img",63),t.TgZ(2,"div",64),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.breakfastPrice,"")}}function Yo(n,l){if(1&n&&(t.TgZ(0,"div",62),t._UZ(1,"img",65),t.TgZ(2,"div",66),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.lunchPrice,"")}}function Eo(n,l){if(1&n&&(t.TgZ(0,"div",62),t._UZ(1,"img",67),t.TgZ(2,"div",64),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.dinnerPrice,"")}}function Ro(n,l){1&n&&t._UZ(0,"img",68)}function zo(n,l){if(1&n&&(t.TgZ(0,"div",62),t.YNc(1,Ro,1,0,"img",71),t.TgZ(2,"div",64),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",null==e?null:e.acceptedMeals.includes("BEVERAGES")),t.xp6(2),t.hij(" \u20ac",null==e?null:e.beveragePrice,"")}}function jo(n,l){1&n&&(t.ynx(0),t.TgZ(1,"span",72),t._UZ(2,"img",73),t._uU(3," Accepted"),t.qZA(),t.BQk())}function Vo(n,l){if(1&n&&(t.ynx(0),t.YNc(1,Bo,4,1,"div",61),t.YNc(2,Yo,4,1,"div",61),t.YNc(3,Eo,4,1,"div",61),t.YNc(4,zo,4,2,"div",61),t.YNc(5,jo,4,0,"ng-container",18),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==e?null:e.acceptedMeals.includes("BREAKFAST")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.acceptedMeals.includes("LUNCH")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.acceptedMeals.includes("DINNER")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.acceptedMeals.includes("BEVERAGES")),t.xp6(1),t.Q6J("ngIf","accepted"===(null==e||null==e.status?null:e.status.toLowerCase()))}}function $o(n,l){if(1&n&&(t.TgZ(0,"td",44)(1,"div",58)(2,"div")(3,"span",59),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",60),t.YNc(7,Vo,6,5,"ng-container",18),t.qZA()()()()),2&n){const e=l.$implicit;t.xp6(4),t.Oqu(null==e?null:e.acceptedCount),t.xp6(3),t.Q6J("ngIf",null==e?null:e.acceptedMeals)}}function Go(n,l){1&n&&t._UZ(0,"th",74)}function Wo(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"button",82),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).uploadPassengerListOrLOCForAcceptedLayover()}),t._uU(1," Upload"),t.qZA()}}function Ko(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"td",44)(1,"div",45)(2,"div"),t._UZ(3,"button",75,76)(5,"button",77,78),t.TgZ(7,"span")(8,"img",79),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return s.openUploadPassengerListModal(r,s.dataSource.data.indexOf(r))}),t.qZA()(),t.TgZ(9,"span")(10,"img",80),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return s.openUploadLOCModal(r,s.dataSource.data.indexOf(r))}),t.qZA()(),t.YNc(11,Wo,2,0,"button",81),t.qZA()()()}if(2&n){const e=l.$implicit;t.xp6(8),t.Q6J("src",null!=e&&e.passengerListPath?"../../../../assets/images/uploaded-file.png":"../../../../assets/images/upload-file.png",t.LSH),t.xp6(2),t.Q6J("src",null!=e&&e.locPath?"../../../../assets/images/uploaded-file.png":"../../../../assets/images/upload-file.png",t.LSH),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.passengerList)||(null==e?null:e.loc))}}function Xo(n,l){1&n&&t._UZ(0,"tr",83)}function tn(n,l){1&n&&t._UZ(0,"tr",84)}function en(n,l){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-error",85),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",e.errorMsg," ")}}function on(n,l){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-spinner"),t.qZA())}function nn(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"ngx-dropzone-preview",88),t.NdJ("removed",function(){return t.CHM(e),t.oxw(2).onRemoveLOC()}),t.TgZ(1,"ngx-dropzone-label"),t._uU(2),t.qZA()()}if(2&n){const e=t.oxw(2);t.Q6J("removable",!0),t.xp6(2),t.Oqu(null==e.uploadedLOCFile?null:e.uploadedLOCFile.name)}}function rn(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",39)(1,"ngx-dropzone",86),t.NdJ("change",function(i){return t.CHM(e),t.oxw().uploadLOC(i)}),t.TgZ(2,"ngx-dropzone-label")(3,"span"),t._uU(4,"Drag And Drop File Here"),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"button",87),t._uU(7,"Choose file"),t.qZA()(),t.YNc(8,nn,3,2,"ngx-dropzone-preview",42),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(8),t.Q6J("ngIf",e.uploadedLOCFile)}}function ln(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"ngx-dropzone-preview",88),t.NdJ("removed",function(){return t.CHM(e),t.oxw().onRemovePassengerList()}),t.TgZ(1,"ngx-dropzone-label"),t._uU(2),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("removable",!0),t.xp6(2),t.Oqu(null==e.uploadedPassengerListFile?null:e.uploadedPassengerListFile.name)}}const an=function(){return[5,10,20]};let ot=(()=>{class n{constructor(e,o){this.layoverService=e,this.toastr=o,this.displayedColumns=["hotelName","timestamp","acceptedCount","totalAmount","status","action"],this.dataSource=new p.by,this.isPending=!1}ngOnInit(){this.acceptedRequestsAirlinesData()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}acceptedRequestsAirlinesData(){let e={requestId:this.layoverService.getLocalStorageValue("companyId"),startDateTime:null,endDateTime:null};this.isPending=!0,this.errorMsg="",this.dataSource.data=[],this.layoverService.acceptedRequestsAirlines(e).subscribe({next:o=>{if(!(null==o?void 0:o.isError)&&(null==o?void 0:o.data)&&Array.isArray(null==o?void 0:o.data)&&(null==o?void 0:o.data.length)>0){this.dataSource.data=o.data,this.isPending=!1,this.errorMsg="",this.totalCount=this.dataSource.data.length,this.dataSource.data=this.dataSource.data.map(r=>Object.assign(Object.assign({},r),{passengerList:!1,loc:!1}));let i=this.dataSource.data.filter(r=>!(null==r?void 0:r.companyNotify)).map(r=>({requestId:null==r?void 0:r.layoverRequestId,adminNotify:null==r?void 0:r.adminNotify,companyNotify:!0,hotelNotify:null==r?void 0:r.hotelNotify}));Array.isArray(i)&&i.length>0&&this.layoverService.requestNotify(i).subscribe(),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}else this.isPending=!1,this.errorMsg="No Data Found"},error:o=>{(null==o?void 0:o.isError)&&(null==o?void 0:o.data)?(this.isPending=!1,this.errorMsg="No Data Found"):(this.isPending=!1,this.toastr.error("Sorry, Something Went Wrong"))}})}uploadLOC(e){this.uploadedLOCFile=e.addedFiles[0],this.fileTest(this.uploadedLOCFile,"pdf","pdf")?this.uploadedLOCFile=this.fileTest(this.uploadedLOCFile,"pdf","pdf"):(e.addedFiles[0]=null,this.uploadedLOCFile=null)}uploadPassengerList(e){this.uploadedPassengerListFile=e.addedFiles[0],this.fileTest(this.uploadedPassengerListFile,"csv","CSV")?(this.uploadedPassengerListFile=this.fileTest(this.uploadedPassengerListFile,"csv","CSV"),this.uploadedPassengerListFile&&this.getAllDataOfXLSXFile()):(e.addedFiles[0]=null,this.uploadedPassengerListFile=null)}getAllDataOfXLSXFile(){let e=new FileReader;e.readAsArrayBuffer(this.uploadedPassengerListFile),e.onloadend=o=>{for(var r=new Uint8Array(e.result),s=new Array,c=0;c!=r.length;++c)s[c]=String.fromCharCode(r[c]);var d=s.join(""),u=et.read(d,{type:"binary"});this.uploadedPassengerListFileArrayList=et.utils.sheet_to_json(u.Sheets[u.SheetNames[0]],{raw:!0}).filter(_=>null==_?void 0:_.Passenger_Name).length}}fileTest(e,o,i){return console.log(e),e&&e.name.toLowerCase().includes(o)&&e.size<5e6?e:e&&e.name.toLowerCase().includes(o)&&e.size>5e6?(this.toastr.error("File size should be less than 5 MB"),null):(this.toastr.error(`Only ${i}'s file are allowed`),null)}openUploadPassengerListModal(e,o){this.currentPassengerListElement=e,this.currentPassengreListIndex=o,setTimeout(()=>{var i,r;null===(r=null===(i=this.uploadLPassengerListodal)||void 0===i?void 0:i.nativeElement)||void 0===r||r.click()})}openUploadLOCModal(e,o){this.currentLOCElement=e,this.currentLOCIndex=o,setTimeout(()=>{var i,r;null===(r=null===(i=this.uploadLOCModal)||void 0===i?void 0:i.nativeElement)||void 0===r||r.click()})}uploadPassengerListOrLOCForAcceptedLayover(){var e,o,i,r,s,c,d,u,m,g,f,_,b,T,h,Z,A,O,P,F,Q,W,K;if(this.uploadedPassengerListFileArrayList>0){let Ca=(null===(o=null===(e=this.currentPassengerListElement)||void 0===e?void 0:e.acceptedMeals)||void 0===o?void 0:o.map(x=>null==x?void 0:x.toLowerCase()).includes("breakfast"))?(null===(i=this.currentPassengerListElement)||void 0===i?void 0:i.breakfastPrice)*this.uploadedPassengerListFileArrayList:0,ba=(null===(s=null===(r=this.currentPassengerListElement)||void 0===r?void 0:r.acceptedMeals)||void 0===s?void 0:s.map(x=>null==x?void 0:x.toLowerCase()).includes("lunch"))?(null===(c=this.currentPassengerListElement)||void 0===c?void 0:c.lunchPrice)*this.uploadedPassengerListFileArrayList:0,xa=(null===(u=null===(d=this.currentPassengerListElement)||void 0===d?void 0:d.acceptedMeals)||void 0===u?void 0:u.map(x=>null==x?void 0:x.toLowerCase()).includes("dinner"))?(null===(m=this.currentPassengerListElement)||void 0===m?void 0:m.dinnerPrice)*this.uploadedPassengerListFileArrayList:0,ya=(null===(f=null===(g=this.currentPassengerListElement)||void 0===g?void 0:g.acceptedMeals)||void 0===f?void 0:f.map(x=>null==x?void 0:x.toLowerCase()).includes("beverage"))?(null===(_=this.currentPassengerListElement)||void 0===_?void 0:_.beveragePrice)*this.uploadedPassengerListFileArrayList:0,st={},ct=+(null===(b=this.currentPassengerListElement)||void 0===b?void 0:b.acceptedAccessibleRooms)*+(null===(T=this.currentPassengerListElement)||void 0===T?void 0:T.accessibleRoomPrice)+ +(null===(h=this.currentPassengerListElement)||void 0===h?void 0:h.acceptedDoubleRooms)*+(null===(Z=this.currentPassengerListElement)||void 0===Z?void 0:Z.doubleRoomPrice)+ +(null===(A=this.currentPassengerListElement)||void 0===A?void 0:A.acceptedSingleRooms)*+(null===(O=this.currentPassengerListElement)||void 0===O?void 0:O.singleRoomPrice)+Ca+ba+xa+ya;st={layoverRequestId:(null===(P=this.currentPassengerListElement)||void 0===P?void 0:P.layoverRequestId)?null===(F=this.currentPassengerListElement)||void 0===F?void 0:F.layoverRequestId:null===(Q=this.currentLOCElement)||void 0===Q?void 0:Q.layoverRequestId,totalAmount:ct||0,locPath:this.isExistingLOC?null===(W=this.currentLOCElement)||void 0===W?void 0:W.generalLocPath:""},this.layoverService.uploadPassengerListOrLOCForAcceptedLayover(this.uploadedPassengerListFile?this.uploadedPassengerListFile:"",this.uploadedLOCFile?this.uploadedLOCFile:this.isExistingLOC,st,null===(K=this.currentPassengerListElement)||void 0===K?void 0:K.layoverRequestId).subscribe({next:x=>{(null==x?void 0:x.isError)||!this.uploadedPassengerListFile||this.uploadedLOCFile?(null==x?void 0:x.isError)||this.uploadedPassengerListFile||!this.uploadedLOCFile?!(null==x?void 0:x.isError)&&this.uploadedPassengerListFile&&this.uploadedLOCFile?(this.toastr.success("Passenger List and LOC Uploaded Successfully"),setTimeout(()=>{this.acceptedRequestsAirlinesData(),this.uploadedPassengerListFile=null,this.uploadedLOCFile=null})):this.toastr.error("Passenger List or LOC file upload failed"):(this.toastr.success("LOC Uploaded Successfully"),setTimeout(()=>{this.acceptedRequestsAirlinesData(),this.uploadedLOCFile=null})):(this.toastr.success("Passenger List Uploaded Successfully"),setTimeout(()=>{this.acceptedRequestsAirlinesData(),this.uploadedPassengerListFile=null}))},error:x=>{let U=null==x?void 0:x.error;(null==U?void 0:U.isError)&&this.uploadedPassengerListFile&&!this.uploadedLOCFile?(this.toastr.error("Passenger List Uploading failed"),setTimeout(()=>{this.uploadedPassengerListFile=null})):(null==U?void 0:U.isError)&&!this.uploadedPassengerListFile&&this.uploadedLOCFile?(this.toastr.error("LOC Uploading failed"),setTimeout(()=>{this.uploadedLOCFile=null})):(null==U?void 0:U.isError)&&this.uploadedPassengerListFile&&this.uploadedLOCFile?(this.toastr.error("Passenger List and LOC Uploading failed"),setTimeout(()=>{this.uploadedPassengerListFile=null,this.uploadedLOCFile=null})):this.toastr.error("Sorry, Something Went Wrong")}})}else this.toastr.error("Passengers are not added")}submitLOC(){this.currentLOCElement=Object.assign(Object.assign({},this.currentLOCElement),{loc:!0}),this.dataSource.data.splice(this.currentLOCIndex,1,this.currentLOCElement),this.dataSource.data=this.dataSource.data}submitPassengerList(){this.currentPassengerListElement=Object.assign(Object.assign({},this.currentPassengerListElement),{passengerList:!0}),this.dataSource.data.splice(this.currentPassengreListIndex,1,this.currentPassengerListElement),this.dataSource.data=this.dataSource.data}onRemovePassengerList(){this.uploadedPassengerListFile=null}onRemoveLOC(){this.uploadedLOCFile=null}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(w.y),t.Y36(q._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-accepted-requests"]],viewQuery:function(e,o){if(1&e&&(t.Gf(S.NW,5),t.Gf(k.YE,5),t.Gf(To,5),t.Gf(Ao,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.paginator=i.first),t.iGM(i=t.CRH())&&(o.sort=i.first),t.iGM(i=t.CRH())&&(o.uploadLPassengerListodal=i.first),t.iGM(i=t.CRH())&&(o.uploadLOCModal=i.first)}},outputs:{uploadLPassengerListodal:"uploadLPassengerListodal"},decls:72,vars:10,consts:[[1,"mat-elevation-z8","shadow-none","layover-table","h-100"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","hotelName"],["class","py-0","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","timestamp"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","acceptedCount"],["mat-header-cell","","mat-sort-header","","class","center-table-header",4,"matHeaderCellDef"],["matColumnDef","totalAmount"],["mat-header-cell","","mat-sort-header","","class"," center-table-header",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","status"],["mat-header-cell","","class","center-table-header text-center",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","my-2",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[3,"pageSizeOptions"],[1,"container-fluid"],["id","uploadLOCModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","py-2"],["id","exampleModalLabel",1,"modal-title","fw-bold"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","shadow-none"],[1,"modal-body","pb-0"],[1,"row"],["class","col-md-10 offset-md-1",4,"ngIf"],[1,"col-md-2","text-end","pe-0"],[3,"ngModel","ngModelChange"],[1,"col-md-10"],[1,"mt-1","fw-bold",2,"font-size","13px"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","submit-btn","shadow-none",3,"click"],["id","uploadLPassengerListodal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"col-md-12","text-end"],[1,"btn","choose-btn","ml-2","mt-3","shadow-none","text-end",3,"click"],[1,"col-md-10","offset-md-1"],["type","file","accept",".csv",1,"justify-content-center","outerCard","my-2",3,"change"],["type","submit",1,"btn","choose-btn","ml-2","mt-3","shadow-none"],["class","inputDetails",3,"removable","removed",4,"ngIf"],["mat-header-cell","","mat-sort-header","",1,"py-0"],["mat-cell",""],[1,"d-flex","align-items-center"],["class","me-1 hotel-img border border-dark",4,"ngIf"],[1,"me-1","w-50","h-50"],["class","hotel-img",3,"src",4,"ngIf"],[1,"fw-bold","hotel-list-main"],[1,"d-flex","justify-content-around",2,"font-size","9px"],[1,"me-3"],[1,"mb-0","text-color-primary","fw-bold"],[1,"fw-bold","hotel-list-sub-main"],[1,"me-1","hotel-img","border","border-dark"],[1,"hotel-img",3,"src"],["mat-header-cell","","mat-sort-header",""],["mat-header-cell","","mat-sort-header","",1,"center-table-header"],[1,"d-flex","text-center","justify-content-center"],[1,"fw-bold","count-number"],[1,"row","justify-content-center"],["class","col-md-auto px-1",4,"ngIf"],[1,"col-md-auto","px-1"],["src","../../../../assets/images/airline-table-img1.png","alt","","placement","bottom","ngbTooltip","Breakfast",1,"table-img"],[1,"d-block","px-1","fw-bold","count-text","justify-content-start",2,"font-size","9px"],["src","../../../../assets/images/airline-table-img2.png","alt","","placement","bottom","ngbTooltip","Lunch",1,"table-img1"],[1,"d-block","px-1","ms-1","fw-bold","count-text","justify-content-start",2,"font-size","9px"],["src","../../../../assets/images/airline-table-img3.png","alt","","placement","bottom","ngbTooltip","Dinner",1,"table-img1"],["src","../../../../assets/images/airline-table-img4.png","alt","","placement","bottom","ngbTooltip","Beverage",1,"table-img1"],["mat-cell","",1,"text-center"],["mat-header-cell","",1,"center-table-header","text-center"],["class","table-img1","src","../../../../assets/images/airline-table-img4.png","alt","","placement","bottom","ngbTooltip","Beverage",4,"ngIf"],[1,"fw-bold",2,"color","#0FAA52","font-size","11px"],["src","../../../../assets/images/resoponse-check.png","height","14px","width","15px",1,"mx-1"],["mat-header-cell",""],["data-bs-target","#uploadLPassengerListodal","data-bs-toggle","modal",1,"d-none"],["uploadLPassengerListodal",""],["data-bs-target","#uploadLOCModal","data-bs-toggle","modal",1,"d-none"],["uploadLOCModal",""],["ngbTooltip","Upload Passenger List","placement","top","alt","",1,"file-img","me-2","cursor-pointer",3,"src","click"],["ngbTooltip","Upload LOC path","placement","top","alt","",1,"file-img","me-2","cursor-pointer",3,"src","click"],["class","choose-btn btn cursor-pointer",3,"click",4,"ngIf"],[1,"choose-btn","btn","cursor-pointer",3,"click"],["mat-header-row",""],["mat-row","",1,"my-2"],[1,"text-center","my-5"],["type","file","accept",".pdf",1,"justify-content-center","outerCard","my-2",3,"change"],["type","button",1,"btn","choose-btn","ml-2","mt-3","shadow-none"],[1,"inputDetails",3,"removable","removed"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"table",1),t.ynx(2,2),t.YNc(3,wo,2,0,"th",3),t.YNc(4,Oo,33,6,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,Lo,2,0,"th",6),t.YNc(7,So,2,1,"td",4),t.BQk(),t.ynx(8,7),t.YNc(9,Po,2,0,"th",8),t.YNc(10,Jo,8,2,"td",4),t.BQk(),t.ynx(11,9),t.YNc(12,Do,2,0,"th",10),t.YNc(13,Ho,3,4,"td",11),t.BQk(),t.ynx(14,12),t.YNc(15,Qo,2,0,"th",13),t.YNc(16,$o,8,2,"td",4),t.BQk(),t.ynx(17,14),t.YNc(18,Go,1,0,"th",15),t.YNc(19,Ko,12,3,"td",4),t.BQk(),t.YNc(20,Xo,1,0,"tr",16),t.YNc(21,tn,1,0,"tr",17),t.qZA(),t.YNc(22,en,3,1,"ng-container",18),t.YNc(23,on,2,0,"div",18),t._UZ(24,"mat-paginator",19),t.qZA(),t.TgZ(25,"div",20)(26,"div",21)(27,"div",22)(28,"div",23)(29,"div",24)(30,"h5",25),t._uU(31,"Upload LOC"),t.qZA(),t._UZ(32,"button",26),t.qZA(),t.TgZ(33,"div",27)(34,"div",20)(35,"div",28),t.YNc(36,rn,9,1,"div",29),t.qZA()(),t.TgZ(37,"div",28)(38,"div",30)(39,"mat-checkbox",31),t.NdJ("ngModelChange",function(r){return o.isExistingLOC=r}),t.qZA()(),t.TgZ(40,"div",32)(41,"p",33),t._uU(42,"Upload Existing LOC"),t.qZA()()()(),t.TgZ(43,"div",34)(44,"button",35),t.NdJ("click",function(){return o.submitLOC()}),t._uU(45,"Submit"),t.qZA()()()()()(),t.TgZ(46,"div",20)(47,"div",36)(48,"div",22)(49,"div",23)(50,"div",24)(51,"h5",25),t._uU(52,"Upload Passenger List"),t.qZA(),t._UZ(53,"button",26),t.qZA(),t.TgZ(54,"div",27)(55,"div",20)(56,"div",37)(57,"button",38),t.NdJ("click",function(){return null==o.layoverService?null:o.layoverService.downloadSampleFile()}),t._uU(58," Download Sample"),t.qZA()(),t.TgZ(59,"div",28)(60,"div",39)(61,"ngx-dropzone",40),t.NdJ("change",function(r){return o.uploadPassengerList(r)}),t.TgZ(62,"ngx-dropzone-label")(63,"span"),t._uU(64,"Drag And Drop File Here"),t.qZA(),t._UZ(65,"br"),t.TgZ(66,"button",41),t._uU(67,"Choose file"),t.qZA()(),t.YNc(68,ln,3,2,"ngx-dropzone-preview",42),t.qZA()()()()(),t.TgZ(69,"div",34)(70,"button",35),t.NdJ("click",function(){return o.submitPassengerList()}),t._uU(71,"Submit"),t.qZA()()()()()()),2&e&&(t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.errorMsg||0===o.dataSource.data.length||0===o.dataSource.filteredData.length),t.xp6(1),t.Q6J("ngIf",o.isPending),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(9,an)),t.xp6(12),t.Q6J("ngIf",!o.isExistingLOC),t.xp6(3),t.Q6J("ngModel",o.isExistingLOC),t.xp6(29),t.Q6J("ngIf",o.uploadedPassengerListFile))},directives:[p.BZ,k.YE,p.w1,p.fO,p.ge,k.nU,p.Dz,p.ev,v.O5,I._L,p.as,p.XQ,p.nj,p.Gk,y.TO,N.O,S.NW,D._f,D.NP,D.dt,R.oG,a.JJ,a.On],pipes:[v.H9],styles:['.layover-table[_ngcontent-%COMP%]::-webkit-scrollbar{width:100%!important;height:12px!important}.layover-table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#000;border-radius:20px;border:2px solid white}.layover-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.layover-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:14px;color:#000;white-space:nowrap!important;font-weight:600}.layover-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:12px!important;white-space:nowrap!important}.layover-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{z-index:99!important;border-bottom:none!important}.layover-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{z-index:110!important;border-bottom:none!important}.layover-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{z-index:99!important;border-bottom:none!important;padding-right:1em!important}.layover-table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:last-of-type{padding-right:.25em!important}.layover-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background:#e9eef7!important}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none!important}.table-img[_ngcontent-%COMP%]{height:20px;width:20px}.table-img1[_ngcontent-%COMP%]{height:16px;width:16px}.hotel-img[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:3px}.response-img[_ngcontent-%COMP%]{height:12px;width:12px}.count-text[_ngcontent-%COMP%]{font-size:12px;color:#6d007a}.hotel-list-main[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.02rem}.hotel-list-sub-main[_ngcontent-%COMP%]{color:#0a62b9;font-size:16px;letter-spacing:.02rem}.response-list[_ngcontent-%COMP%]{font-size:15px;letter-spacing:.02rem}.resoponse-check-icon[_ngcontent-%COMP%]{color:#06a74c;font-size:12px;letter-spacing:.02rem;font-weight:600}.file-img[_ngcontent-%COMP%]{height:25px;width:25px;cursor:pointer}.count-number[_ngcontent-%COMP%]{font-size:15px}[_nghost-%COMP%]  .btn-close{color:#0a62b9!important}  .btn-close:hover{border-radius:50%!important;background-image:url(\'data:image/svg+xml;utf8,<svg stroke="blue" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M1.458 1.458l21.084 21.084m0-21.084L1.458 22.542" /></svg>\')!important;background-color:#05054d15!important}@media only screen and (max-width: 1112px){.layover-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:11px!important}.layover-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%], .hotel-list-main[_ngcontent-%COMP%], .hotel-list-sub-main[_ngcontent-%COMP%]{font-size:13px}.response-list[_ngcontent-%COMP%], .count-number[_ngcontent-%COMP%]{font-size:14px}}.outerCard[_ngcontent-%COMP%]{height:138px!important;border:2px dashed #707070;font-size:13px!important}.submit-btn[_ngcontent-%COMP%]{background-color:#0955a0;color:#fff;padding:5px 13px;font-size:13px}.choose-btn[_ngcontent-%COMP%]{color:#fff;background-color:#0955a0;font-size:11px;padding:6px 15px}']}),n})();function sn(n,l){1&n&&(t.TgZ(0,"th",17),t._uU(1," Hotels List"),t.qZA())}function cn(n,l){1&n&&t._UZ(0,"div",28)}function dn(n,l){if(1&n&&t._UZ(0,"img",29),2&n){const e=t.oxw().$implicit;t.Q6J("src",null==e?null:e.hotelLogo,t.LSH)}}function mn(n,l){if(1&n&&(t.TgZ(0,"td",18)(1,"div",19)(2,"div")(3,"span"),t.YNc(4,cn,1,0,"div",20),t.TgZ(5,"div",21),t.YNc(6,dn,1,1,"img",22),t.qZA()()(),t.TgZ(7,"div")(8,"span",23),t._uU(9),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"div",24)(12,"div",25)(13,"p",26),t._uU(14,"Single Rooms"),t.qZA(),t.TgZ(15,"span",27),t._uU(16),t.qZA(),t.TgZ(17,"span"),t._uU(18,"/Night "),t.qZA()(),t.TgZ(19,"div",25)(20,"p",26),t._uU(21,"Double Rooms"),t.qZA(),t.TgZ(22,"span",27),t._uU(23),t.qZA(),t.TgZ(24,"span"),t._uU(25,"/Night "),t.qZA()(),t.TgZ(26,"div",25)(27,"p",26),t._uU(28,"Accessible Rooms"),t.qZA(),t.TgZ(29,"span",27),t._uU(30),t.qZA(),t.TgZ(31,"span"),t._uU(32,"/Night "),t.qZA()()()()()()),2&n){const e=l.$implicit;t.xp6(4),t.Q6J("ngIf",!(null!=e&&e.hotelLogo)),t.xp6(2),t.Q6J("ngIf",null==e?null:e.hotelLogo),t.xp6(3),t.Oqu(null==e?null:e.hotelName),t.xp6(7),t.hij("\u20ac",null==e?null:e.singleRoomPrice,""),t.xp6(7),t.hij("\u20ac",null==e?null:e.doubleRoomPrice,""),t.xp6(7),t.hij("\u20ac",null==e?null:e.accessibleRoomPrice,"")}}function un(n,l){1&n&&(t.TgZ(0,"th",30),t._uU(1," Date & Time "),t.qZA())}function pn(n,l){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&n){const e=l.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.timestamp.replace(" "," | ")," ")}}function gn(n,l){1&n&&(t.TgZ(0,"th",31),t._uU(1," Count "),t.qZA())}function _n(n,l){if(1&n&&(t.TgZ(0,"td",18)(1,"div",32)(2,"div")(3,"span",33),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",34)(7,"div",35),t._UZ(8,"img",36),t.TgZ(9,"div",37),t._uU(10),t.qZA()(),t.TgZ(11,"div",35),t._UZ(12,"img",38),t.TgZ(13,"div",39),t._uU(14),t.qZA()(),t.TgZ(15,"div",35),t._UZ(16,"img",40),t.TgZ(17,"div",37),t._uU(18),t.qZA()(),t.TgZ(19,"div",35),t._UZ(20,"img",41),t.TgZ(21,"div",37),t._uU(22),t.qZA()()()()()()),2&n){const e=l.$implicit;t.xp6(4),t.Oqu(e.requestedCount),t.xp6(6),t.hij("\u20ac",null==e?null:e.breakfastPrice,""),t.xp6(4),t.hij("\u20ac",null==e?null:e.lunchPrice,""),t.xp6(4),t.hij("\u20ac",null==e?null:e.dinnerPrice,""),t.xp6(4),t.hij("\u20ac",null==e?null:e.beveragePrice,"")}}function fn(n,l){1&n&&(t.TgZ(0,"th",31),t._uU(1," Amount "),t.qZA())}function hn(n,l){if(1&n&&(t.TgZ(0,"td",42),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&n){const e=l.$implicit;t.xp6(1),t.hij(" ",null!=e&&e.totalAmount?t.xi3(2,1,null==e?null:e.totalAmount,"EUR"):"--"," ")}}function vn(n,l){1&n&&(t.TgZ(0,"th",43),t._uU(1," Response "),t.qZA())}function Cn(n,l){if(1&n&&(t.TgZ(0,"div",35),t._UZ(1,"img",49),t.TgZ(2,"div",50),t._uU(3),t.qZA()()),2&n){const e=t.oxw(3).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.breakfastPrice,"")}}function bn(n,l){if(1&n&&(t.TgZ(0,"div",35),t._UZ(1,"img",51),t.TgZ(2,"div",52),t._uU(3),t.qZA()()),2&n){const e=t.oxw(3).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.lunchPrice,"")}}function xn(n,l){if(1&n&&(t.TgZ(0,"div",35),t._UZ(1,"img",53),t.TgZ(2,"div",50),t._uU(3),t.qZA()()),2&n){const e=t.oxw(3).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.dinnerPrice,"")}}function yn(n,l){if(1&n&&(t.TgZ(0,"div",35),t._UZ(1,"img",54),t.TgZ(2,"div",50),t._uU(3),t.qZA()()),2&n){const e=t.oxw(3).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.beveragePrice,"")}}function Zn(n,l){if(1&n&&(t.ynx(0),t.YNc(1,Cn,4,1,"div",48),t.YNc(2,bn,4,1,"div",48),t.YNc(3,xn,4,1,"div",48),t.YNc(4,yn,4,1,"div",48),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",null==e?null:e.acceptedMeals.includes("BREAKFAST")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.acceptedMeals.includes("LUNCH")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.acceptedMeals.includes("DINNER")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.acceptedMeals.includes("BEVERAGES"))}}function Tn(n,l){if(1&n&&(t.ynx(0),t.TgZ(1,"div",34)(2,"span",44),t._uU(3),t.qZA(),t._UZ(4,"br"),t.YNc(5,Zn,5,4,"ng-container",15),t.qZA(),t.TgZ(6,"div",45),t._UZ(7,"img",46),t.TgZ(8,"span",47),t._uU(9," Accepted"),t.qZA()(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(null==e?null:e.acceptedCount),t.xp6(2),t.Q6J("ngIf",null==e?null:e.acceptedMeals)}}function An(n,l){1&n&&(t.ynx(0),t.TgZ(1,"div",45)(2,"span",55),t._UZ(3,"img",56),t._uU(4," Request Denied"),t.qZA()(),t.BQk())}function wn(n,l){1&n&&(t.ynx(0),t.TgZ(1,"div",45)(2,"span",57)(3,"span"),t._UZ(4,"img",58),t.qZA(),t._uU(5," Pending"),t.qZA()(),t.BQk())}function qn(n,l){if(1&n&&(t.TgZ(0,"td",18),t.YNc(1,Tn,10,2,"ng-container",15),t.YNc(2,An,5,0,"ng-container",15),t.YNc(3,wn,6,0,"ng-container",15),t.qZA()),2&n){const e=l.$implicit;t.xp6(1),t.Q6J("ngIf","accepted"===(null==e||null==e.status?null:e.status.toLowerCase())),t.xp6(1),t.Q6J("ngIf","denied"===(null==e||null==e.status?null:e.status.toLowerCase())),t.xp6(1),t.Q6J("ngIf",!(null!=e&&e.status)||"pending"===(null==e||null==e.status?null:e.status.toLowerCase()))}}function kn(n,l){1&n&&t._UZ(0,"tr",59)}function On(n,l){1&n&&t._UZ(0,"tr",60)}function Ln(n,l){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-error",61),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",e.errorMsg," ")}}function Sn(n,l){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-spinner"),t.qZA())}const Pn=function(){return[5,10,20,100]};let nt=(()=>{class n{constructor(e,o){this.layoverService=e,this.toastr=o,this.displayedColumns=["hotelName","timestamp","acceptedCount","totalAmount","status"],this.dataSource=new p.by,this.isPending=!1}ngOnInit(){this.layoverHistroyFetchAllRequestAirlinesData()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}layoverHistroyFetchAllRequestAirlinesData(){let e={requestId:this.layoverService.getLocalStorageValue("companyId"),startDateTime:null,endDateTime:null};this.isPending=!0,this.errorMsg="",this.dataSource.data=[],this.layoverService.layoverHistroyFetchAllRequestAirlines(e).subscribe({next:o=>{!o.isError&&o.message&&Array.isArray(o.data)&&o.data.length>0?(this.dataSource.data=o.data,this.isPending=!1,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort):(this.isPending=!1,this.errorMsg="No Data Found")},error:o=>{(null==o?void 0:o.error).isError?(this.isPending=!1,this.errorMsg="No Data Found"):(this.isPending=!1,this.toastr.error("Sorry, Something Went Wrong"))}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(w.y),t.Y36(q._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-layover-history"]],viewQuery:function(e,o){if(1&e&&(t.Gf(S.NW,5),t.Gf(k.YE,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.paginator=i.first),t.iGM(i=t.CRH())&&(o.sort=i.first)}},decls:22,vars:7,consts:[[1,"mat-elevation-z8","shadow-none","layover-table","h-100"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","hotelName"],["class","py-0","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","timestamp"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","acceptedCount"],["mat-header-cell","","mat-sort-header","","class","center-table-header",4,"matHeaderCellDef"],["matColumnDef","totalAmount"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","status"],["mat-header-cell","","class","center-table-header text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","my-2",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","",1,"py-0"],["mat-cell",""],[1,"d-flex","align-items-center"],["class","me-1 hotel-img border border-dark",4,"ngIf"],[1,"me-1","w-50","h-50"],["class","hotel-img","alt","",3,"src",4,"ngIf"],[1,"fw-bold","hotel-list-main"],[1,"d-flex","justify-content-around",2,"font-size","9px"],[1,"me-3"],[1,"mb-0","text-color-primary","fw-bold"],[1,"fw-bold","hotel-list-sub-main"],[1,"me-1","hotel-img","border","border-dark"],["alt","",1,"hotel-img",3,"src"],["mat-header-cell","","mat-sort-header",""],["mat-header-cell","","mat-sort-header","",1,"center-table-header"],[1,"d-flex","text-center","justify-content-center"],[1,"fw-bold","count-number"],[1,"row","justify-content-center"],[1,"col-md-auto","px-1"],["ngbTooltip","Breakfast","placement","bottom","src","../../../../assets/images/airline-table-img1.png","alt","",1,"table-img"],[1,"col-md-auto","px-1","fw-bold","count-text"],["ngbTooltip","Lunch","placement","bottom","src","../../../../assets/images/airline-table-img2.png","alt","",1,"table-img1"],[1,"col-md-auto","px-1","ms-1","fw-bold","count-text"],["ngbTooltip","Dinner","placement","bottom","src","../../../../assets/images/airline-table-img3.png","alt","",1,"table-img1"],["ngbTooltip","Beverage","placement","bottom","src","../../../../assets/images/airline-table-img4.png","alt","",1,"table-img1"],["mat-cell","",1,"text-center"],["mat-header-cell","",1,"center-table-header","text-center"],[1,"fw-bold","count-number","text-center"],[1,"d-flex","justify-content-center"],["src","../../../../assets/images/resoponse-check.png","height","14px","width","15px",1,"mx-1","fw-bold"],[2,"color","#0FAA52","font-size","11px"],["class","col-md-auto px-1",4,"ngIf"],["src","../../../../assets/images/airline-table-img1.png","alt","","placement","bottom","ngbTooltip","Breakfast",1,"table-img"],[1,"d-block","fw-bold","count-text","justify-content-start",2,"font-size","9px"],["src","../../../../assets/images/airline-table-img2.png","alt","","placement","bottom","ngbTooltip","Lunch",1,"table-img1"],[1,"d-block","ms-1","fw-bold","count-text","justify-content-start",2,"font-size","9px"],["src","../../../../assets/images/airline-table-img3.png","alt","","placement","bottom","ngbTooltip","Dinner",1,"table-img1"],["src","../../../../assets/images/airline-table-img4.png","alt","","placement","bottom","ngbTooltip","Beverage",1,"table-img1"],[1,"fw-bold",2,"color","red","font-size","11px"],["src","../../../../assets/images/response-close.png","height","14px","width","15px",1,"mx-1"],[1,"fw-bold","text-warning",2,"font-size","11px"],["src","../../../assets/images/response-info.png","alt","",1,"response-img","ms-1"],["mat-header-row",""],["mat-row","",1,"my-2"],[1,"text-center","my-5"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"table",1),t.ynx(2,2),t.YNc(3,sn,2,0,"th",3),t.YNc(4,mn,33,6,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,un,2,0,"th",6),t.YNc(7,pn,2,1,"td",4),t.BQk(),t.ynx(8,7),t.YNc(9,gn,2,0,"th",8),t.YNc(10,_n,23,5,"td",4),t.BQk(),t.ynx(11,9),t.YNc(12,fn,2,0,"th",8),t.YNc(13,hn,3,4,"td",10),t.BQk(),t.ynx(14,11),t.YNc(15,vn,2,0,"th",12),t.YNc(16,qn,4,3,"td",4),t.BQk(),t.YNc(17,kn,1,0,"tr",13),t.YNc(18,On,1,0,"tr",14),t.qZA(),t.YNc(19,Ln,3,1,"ng-container",15),t.YNc(20,Sn,2,0,"div",15),t._UZ(21,"mat-paginator",16),t.qZA()),2&e&&(t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.errorMsg||0===o.dataSource.data.length||0===o.dataSource.filteredData.length),t.xp6(1),t.Q6J("ngIf",o.isPending),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(6,Pn)))},directives:[p.BZ,k.YE,p.w1,p.fO,p.ge,k.nU,p.Dz,p.ev,v.O5,I._L,p.as,p.XQ,p.nj,p.Gk,y.TO,N.O,S.NW],pipes:[v.H9],styles:['.layover-table[_ngcontent-%COMP%]::-webkit-scrollbar{width:100%!important;height:12px!important}.layover-table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#000;border-radius:20px;border:2px solid white}.layover-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.layover-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:16px;color:#000;white-space:nowrap!important;font-weight:600}.layover-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:12px!important;white-space:nowrap!important}.layover-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{z-index:99!important;border-bottom:none!important}.layover-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{z-index:110!important;border-bottom:none!important}.layover-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{z-index:99!important;border-bottom:none!important;padding-right:1em!important}.layover-table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:last-of-type{padding-right:.25em!important}.layover-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background:#e9eef7!important}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none!important}.table-img[_ngcontent-%COMP%]{height:20px;width:20px}.table-img1[_ngcontent-%COMP%]{height:16px;width:16px}.hotel-img[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:3px}.response-img[_ngcontent-%COMP%]{height:12px;width:12px}.count-text[_ngcontent-%COMP%]{font-size:9px;color:#6d007a}.hotel-list-main[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.02rem}.hotel-list-sub-main[_ngcontent-%COMP%]{color:#0a62b9;font-size:16px;letter-spacing:.02rem}.count-list[_ngcontent-%COMP%]{font-size:23px;letter-spacing:.02rem}.response-list[_ngcontent-%COMP%]{font-size:15px;letter-spacing:.02rem}.resoponse-check-icon[_ngcontent-%COMP%]{color:#06a74c;font-size:12px;letter-spacing:.02rem;font-weight:600}.count-number[_ngcontent-%COMP%]{font-size:15px}[_nghost-%COMP%]  .btn-close{color:#0a62b9!important}  .btn-close:hover{border-radius:50%!important;background-image:url(\'data:image/svg+xml;utf8,<svg stroke="blue" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M1.458 1.458l21.084 21.084m0-21.084L1.458 22.542" /></svg>\')!important;background-color:#05054d15!important}@media only screen and (max-width: 1112px){.layover-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:11px!important}.layover-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:13px}.hotel-list-main[_ngcontent-%COMP%], .hotel-list-sub-main[_ngcontent-%COMP%], .response-list[_ngcontent-%COMP%], .count-number[_ngcontent-%COMP%]{font-size:14px}}']}),n})();function Fn(n,l){1&n&&(t.TgZ(0,"th",17),t._uU(1," Hotels List"),t.qZA())}function Un(n,l){1&n&&t._UZ(0,"div",28)}function Mn(n,l){if(1&n&&t._UZ(0,"img",29),2&n){const e=t.oxw().$implicit;t.Q6J("src",null==e?null:e.logoPath,t.LSH)}}function In(n,l){if(1&n&&(t.TgZ(0,"td",18)(1,"div",19)(2,"div")(3,"span"),t.YNc(4,Un,1,0,"div",20),t.TgZ(5,"div",21),t.YNc(6,Mn,1,1,"img",22),t.qZA()()(),t.TgZ(7,"div")(8,"span",23),t._uU(9),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"div",24)(12,"div",25)(13,"p",26),t._uU(14,"Single Rooms"),t.qZA(),t.TgZ(15,"span",27),t._uU(16),t.qZA(),t.TgZ(17,"span"),t._uU(18,"/Night "),t.qZA()(),t.TgZ(19,"div",25)(20,"p",26),t._uU(21,"Double Rooms"),t.qZA(),t.TgZ(22,"span",27),t._uU(23),t.qZA(),t.TgZ(24,"span"),t._uU(25,"/Night "),t.qZA()(),t.TgZ(26,"div",25)(27,"p",26),t._uU(28,"Accessible Rooms"),t.qZA(),t.TgZ(29,"span",27),t._uU(30),t.qZA(),t.TgZ(31,"span"),t._uU(32,"/Night "),t.qZA()()()()()()),2&n){const e=l.$implicit;t.xp6(4),t.Q6J("ngIf",!(null!=e&&e.logoPath)),t.xp6(2),t.Q6J("ngIf",null==e?null:e.logoPath),t.xp6(3),t.Oqu(null==e?null:e.hotelName),t.xp6(7),t.hij("\u20ac",null==e?null:e.singleRoomPrice,""),t.xp6(7),t.hij("\u20ac",null==e?null:e.doubleRoomPrice,""),t.xp6(7),t.hij("\u20ac",null==e?null:e.accessibleRoomPrice,"")}}function Nn(n,l){1&n&&(t.TgZ(0,"th",30),t._uU(1," Date & Time "),t.qZA())}function Jn(n,l){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&n){const e=l.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.timestamp.replace(" "," | ")," ")}}function Dn(n,l){1&n&&(t.TgZ(0,"th",31),t._uU(1," Count "),t.qZA())}function Hn(n,l){if(1&n&&(t.TgZ(0,"div",37),t._UZ(1,"img",38),t.TgZ(2,"div",39),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.breakfastPrice,"")}}function Qn(n,l){if(1&n&&(t.TgZ(0,"div",37),t._UZ(1,"img",40),t.TgZ(2,"div",41),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.lunchPrice,"")}}function Bn(n,l){if(1&n&&(t.TgZ(0,"div",37),t._UZ(1,"img",42),t.TgZ(2,"div",39),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" \u20ac",null==e?null:e.dinnerPrice,"")}}function Yn(n,l){1&n&&t._UZ(0,"img",44)}function En(n,l){if(1&n&&(t.TgZ(0,"div",37),t.YNc(1,Yn,1,0,"img",43),t.TgZ(2,"div",39),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",null==e?null:e.acceptedMeals.includes("BEVERAGES")),t.xp6(2),t.hij(" \u20ac",null==e?null:e.beveragePrice,"")}}function Rn(n,l){if(1&n&&(t.ynx(0),t.YNc(1,Hn,4,1,"div",36),t.YNc(2,Qn,4,1,"div",36),t.YNc(3,Bn,4,1,"div",36),t.YNc(4,En,4,2,"div",36),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==e?null:e.acceptedMeals.includes("BREAKFAST")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.acceptedMeals.includes("LUNCH")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.acceptedMeals.includes("DINNER")),t.xp6(1),t.Q6J("ngIf",null==e?null:e.acceptedMeals.includes("BEVERAGES"))}}function zn(n,l){if(1&n&&(t.TgZ(0,"td",18)(1,"div",32)(2,"div",33)(3,"span",34),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"div",35),t.YNc(7,Rn,5,4,"ng-container",15),t.qZA()()()()),2&n){const e=l.$implicit;t.xp6(4),t.Oqu(null==e?null:e.acceptedCount),t.xp6(3),t.Q6J("ngIf",null==e?null:e.acceptedMeals)}}function jn(n,l){1&n&&(t.TgZ(0,"th",31),t._uU(1," Amount "),t.qZA())}function Vn(n,l){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&n){const e=l.$implicit;t.xp6(1),t.hij(" ",null!=e&&e.totalAmount?t.xi3(2,1,null==e?null:e.totalAmount,"EUR"):"--"," ")}}function $n(n,l){1&n&&(t.TgZ(0,"th",31),t._uU(1," Invoice "),t.qZA())}function Gn(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"span",48),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,r=t.oxw();return[r.layoverService.downloadLOCFile(null==i?null:i.invoicePath),r.isActive(r.dataSource.data.indexOf(i))]}),t._UZ(1,"img",49),t.qZA()}}function Wn(n,l){1&n&&(t.TgZ(0,"div",50)(1,"span",51),t._uU(2,"Loading..."),t.qZA()())}function Kn(n,l){if(1&n&&(t.TgZ(0,"td",45),t.YNc(1,Gn,2,0,"span",46),t.YNc(2,Wn,3,0,"div",47),t.qZA()),2&n){const e=l.$implicit;t.xp6(1),t.Q6J("ngIf",null==e?null:e.invoicePath),t.xp6(1),t.Q6J("ngIf",null==e?null:e.invoice)}}function Xn(n,l){1&n&&(t.TgZ(0,"th",31),t._uU(1," Payments "),t.qZA())}function ti(n,l){1&n&&(t.ynx(0),t.TgZ(1,"div",32)(2,"div"),t._UZ(3,"img",52),t.TgZ(4,"span",53),t._uU(5," Payment completed"),t.qZA()()(),t.BQk())}function ei(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"button",55),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw().completePayment(i)}),t._uU(1,"Complete payment"),t.qZA()}}function oi(n,l){if(1&n&&(t.ynx(0),t.TgZ(1,"div",32)(2,"div"),t.YNc(3,ei,2,0,"button",54),t.qZA()(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",null==e?null:e.invoicePath)}}function ni(n,l){if(1&n&&(t.TgZ(0,"td",18),t.YNc(1,ti,6,0,"ng-container",15),t.YNc(2,oi,4,1,"ng-container",15),t.qZA()),2&n){const e=l.$implicit;t.xp6(1),t.Q6J("ngIf","completed"===(null==e||null==e.companyStatus?null:e.companyStatus.toLowerCase())),t.xp6(1),t.Q6J("ngIf",!(null!=e&&e.companyStatus)||"pending"===(null==e||null==e.companyStatus?null:e.companyStatus.toLowerCase()))}}function ii(n,l){1&n&&t._UZ(0,"tr",56)}function ri(n,l){1&n&&t._UZ(0,"tr",57)}function li(n,l){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-error",58),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",e.errorMsg," ")}}function ai(n,l){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-spinner"),t.qZA())}const si=function(){return[5,10,20]};let it=(()=>{class n{constructor(e,o){this.layoverService=e,this.toster=o,this.displayedColumns=["hotelName","timestamp","acceptedCount","totalAmount","download_invoice","payments"],this.dataSource=new p.by,this.isPending=!1}ngOnInit(){this.getBillPaymentByAirlineData()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}getBillPaymentByAirlineData(){let e={requestId:this.layoverService.getLocalStorageValue("companyId")};this.isPending=!0,this.layoverService.getBillPaymentByAirline(e).subscribe({next:o=>{if(!o.isError&&o.message&&Array.isArray(o.data)&&o.data.length>0){this.dataSource.data=o.data;let i=this.dataSource.data.filter(r=>!1===(null==r?void 0:r.companyNotify)).map(r=>({requestId:null==r?void 0:r.layoverRequestId,adminNotify:null==r?void 0:r.adminNotify,companyNotify:!0,hotelNotify:null==r?void 0:r.hotelNotify}));Array.isArray(i)&&i.length>0&&this.layoverService.paymentNotify(i).subscribe(),this.dataSource.data=this.dataSource.data.map(r=>Object.assign(Object.assign({},r),{invoice:!1})),this.isPending=!1,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}else this.isPending=!1,this.errorMsg="No Data Found"},error:o=>{(null==o?void 0:o.error).isError?(this.isPending=!1,this.errorMsg="No Data Found"):(this.isPending=!1,this.toster.error("Sorry, Something Went Wrong"))}})}completePayment(e){let o={paymentId:null==e?void 0:e.paymentId,companyStatus:"Completed",hotelStatus:null==e?void 0:e.hotelStatus,hotelAcknowledgement:null==e?void 0:e.hotelAcknowledgement,companyId:this.layoverService.getLocalStorageValue("companyId")};this.layoverService.paymentStatusByAirline(o).subscribe({next:i=>{this.toster.success("Payment Completed Successfully"),setTimeout(()=>{this.getBillPaymentByAirlineData()})},error:i=>{var r;(null==i?void 0:i.error).isError?this.toster.error(null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.message):this.toster.error("Sorry, Something Went Wrong")}})}isActive(e){var o,i;null===(i=null===(o=this.layoverService)||void 0===o?void 0:o.isLoading)||void 0===i||i.subscribe(r=>{this.dataSource.data=this.dataSource.data.map((s,c)=>Object.assign(Object.assign({},s),e===c?{invoice:r}:{invoice:!1}))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(w.y),t.Y36(q._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bill-or-payments"]],viewQuery:function(e,o){if(1&e&&(t.Gf(S.NW,5),t.Gf(k.YE,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.paginator=i.first),t.iGM(i=t.CRH())&&(o.sort=i.first)}},decls:25,vars:7,consts:[[1,"mat-elevation-z8","shadow-none","layover-table","h-100"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","hotelName"],["class","py-0","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","timestamp"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","acceptedCount"],["mat-header-cell","","mat-sort-header","","class","center-table-header",4,"matHeaderCellDef"],["matColumnDef","totalAmount"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","download_invoice"],["matColumnDef","payments"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","my-2",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","",1,"py-0"],["mat-cell",""],[1,"d-flex","align-items-center"],["class","me-1 hotel-img border border-dark",4,"ngIf"],[1,"me-1","w-50","h-50"],["class","hotel-img","alt","",3,"src",4,"ngIf"],[1,"fw-bold","hotel-list-main"],[1,"d-flex","justify-content-around",2,"font-size","9px"],[1,"me-3"],[1,"mb-0","text-color-primary","fw-bold"],[1,"fw-bold","hotel-list-sub-main"],[1,"me-1","hotel-img","border","border-dark"],["alt","",1,"hotel-img",3,"src"],["mat-header-cell","","mat-sort-header",""],["mat-header-cell","","mat-sort-header","",1,"center-table-header"],[1,"d-flex","justify-content-center"],[1,"text-center"],[1,"fw-bold","count-number"],[1,"row","justify-content-center"],["class","col-md-auto px-1",4,"ngIf"],[1,"col-md-auto","px-1"],["src","../../../../assets/images/airline-table-img1.png","alt","","placement","bottom","ngbTooltip","Breakfast",1,"table-img"],[1,"d-block","px-1","fw-bold","count-text","justify-content-start",2,"font-size","9px"],["src","../../../../assets/images/airline-table-img2.png","alt","","placement","bottom","ngbTooltip","Lunch",1,"table-img1"],[1,"d-block","px-1","ms-1","fw-bold","count-text","justify-content-start",2,"font-size","9px"],["src","../../../../assets/images/airline-table-img3.png","alt","","placement","bottom","ngbTooltip","Dinner",1,"table-img1"],["class","table-img1","src","../../../../assets/images/airline-table-img4.png","alt","","placement","bottom","ngbTooltip","Beverage",4,"ngIf"],["src","../../../../assets/images/airline-table-img4.png","alt","","placement","bottom","ngbTooltip","Beverage",1,"table-img1"],["mat-cell","",1,"text-center"],["class","cursor-pointer",3,"click",4,"ngIf"],["class","spinner-border spinner-border-sm ml-2 text-end text-color-primary","role","status",4,"ngIf"],[1,"cursor-pointer",3,"click"],["ngbTooltip","Download invoice","placement","top","src","../../../../assets/images/download-file.png","alt","",1,"file-img","me-3"],["role","status",1,"spinner-border","spinner-border-sm","ml-2","text-end","text-color-primary"],[1,"visually-hidden"],["src","../../../../assets/images/resoponse-check.png","height","14px","width","15px",1,"mx-1"],[1,"me-5","fw-bold","text-success",2,"font-size","11px"],["class","btn payment-btn shadow-none cursor-pointer",3,"click",4,"ngIf"],[1,"btn","payment-btn","shadow-none","cursor-pointer",3,"click"],["mat-header-row",""],["mat-row","",1,"my-2"],[1,"text-center","my-5"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"table",1),t.ynx(2,2),t.YNc(3,Fn,2,0,"th",3),t.YNc(4,In,33,6,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,Nn,2,0,"th",6),t.YNc(7,Jn,2,1,"td",4),t.BQk(),t.ynx(8,7),t.YNc(9,Dn,2,0,"th",8),t.YNc(10,zn,8,2,"td",4),t.BQk(),t.ynx(11,9),t.YNc(12,jn,2,0,"th",8),t.YNc(13,Vn,3,4,"td",10),t.BQk(),t.ynx(14,11),t.YNc(15,$n,2,0,"th",8),t.YNc(16,Kn,3,2,"td",10),t.BQk(),t.ynx(17,12),t.YNc(18,Xn,2,0,"th",8),t.YNc(19,ni,3,2,"td",4),t.BQk(),t.YNc(20,ii,1,0,"tr",13),t.YNc(21,ri,1,0,"tr",14),t.qZA(),t.YNc(22,li,3,1,"ng-container",15),t.YNc(23,ai,2,0,"div",15),t._UZ(24,"mat-paginator",16),t.qZA()),2&e&&(t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.errorMsg||0===o.dataSource.data.length||0===o.dataSource.filteredData.length),t.xp6(1),t.Q6J("ngIf",o.isPending),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(6,si)))},directives:[p.BZ,k.YE,p.w1,p.fO,p.ge,k.nU,p.Dz,p.ev,v.O5,I._L,p.as,p.XQ,p.nj,p.Gk,y.TO,N.O,S.NW],pipes:[v.H9],styles:['.layover-table[_ngcontent-%COMP%]::-webkit-scrollbar{width:100%!important;height:12px!important}.layover-table[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#000;border-radius:20px;border:2px solid white}.layover-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.layover-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:16px;color:#000;white-space:nowrap!important;font-weight:600}.layover-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:12px!important;white-space:nowrap!important}.layover-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{z-index:99!important;border-bottom:none!important}.layover-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{z-index:110!important;border-bottom:none!important}.layover-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{z-index:99!important;border-bottom:none!important;padding-right:1em!important}.layover-table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:last-of-type{padding-right:.25em!important}.layover-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{background:#e9eef7!important}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none!important}.table-img[_ngcontent-%COMP%]{height:20px;width:20px}.table-img1[_ngcontent-%COMP%]{height:16px;width:16px}.hotel-img[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:3px}.response-img[_ngcontent-%COMP%]{height:12px;width:12px}.count-text[_ngcontent-%COMP%]{font-size:9px;color:#6d007a}.hotel-list-main[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.02rem}.hotel-list-sub-main[_ngcontent-%COMP%]{color:#0a62b9;font-size:16px;letter-spacing:.02rem}.count-list[_ngcontent-%COMP%]{font-size:23px;letter-spacing:.02rem}.file-img[_ngcontent-%COMP%]{height:25px;width:25px;cursor:pointer}.payment-btn[_ngcontent-%COMP%]{font-size:12px;color:#0a62b9;border:1px solid #0a62b9;padding:3px 5px}.count-number[_ngcontent-%COMP%]{font-size:15px}[_nghost-%COMP%]  .btn-close{color:#0a62b9!important}  .btn-close:hover{border-radius:50%!important;background-image:url(\'data:image/svg+xml;utf8,<svg stroke="blue" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M1.458 1.458l21.084 21.084m0-21.084L1.458 22.542" /></svg>\')!important;background-color:#05054d15!important}@media only screen and (max-width: 1112px){.layover-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:11px!important}.layover-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:13px}.hotel-list-main[_ngcontent-%COMP%], .hotel-list-sub-main[_ngcontent-%COMP%], .response-list[_ngcontent-%COMP%], .count-number[_ngcontent-%COMP%]{font-size:14px}}']}),n})();var z=C(7600);const ci=["previewPaginator"];function di(n,l){1&n&&(t.TgZ(0,"div",75),t._UZ(1,"app-loader"),t.qZA())}function mi(n,l){if(1&n&&(t.TgZ(0,"p",76),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",null!=e.dashboardSummary&&e.dashboardSummary.totalLayover?null==e.dashboardSummary?null:e.dashboardSummary.totalLayover.toLocaleString():0,"")}}function ui(n,l){1&n&&(t.TgZ(0,"div",75),t._UZ(1,"app-loader"),t.qZA())}function pi(n,l){if(1&n&&(t.TgZ(0,"p",76),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",null!=e.dashboardSummary&&e.dashboardSummary.totalLayoverAccepted?null==e.dashboardSummary?null:e.dashboardSummary.totalLayoverAccepted.toLocaleString():0,"")}}function gi(n,l){1&n&&(t.TgZ(0,"div",75),t._UZ(1,"app-loader"),t.qZA())}function _i(n,l){if(1&n&&(t.TgZ(0,"p",76),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",null!=e.dashboardSummary&&e.dashboardSummary.totalLayoverDeclined?null==e.dashboardSummary?null:e.dashboardSummary.totalLayoverDeclined.toLocaleString():0,"")}}function fi(n,l){1&n&&(t.TgZ(0,"div",75),t._UZ(1,"app-loader"),t.qZA())}function hi(n,l){if(1&n&&(t.TgZ(0,"p",76),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",null!=e.dashboardSummary&&e.dashboardSummary.totalLayoverCancelled?null==e.dashboardSummary?null:e.dashboardSummary.totalLayoverCancelled.toLocaleString():0,"")}}function vi(n,l){if(1&n&&(t.TgZ(0,"option",28),t._uU(1),t.qZA()),2&n){const e=l.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Ci(n,l){if(1&n&&(t.TgZ(0,"option",28),t._uU(1),t.qZA()),2&n){const e=l.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function bi(n,l){1&n&&(t.TgZ(0,"div",77),t._UZ(1,"app-spinner"),t.qZA())}function xi(n,l){1&n&&(t.TgZ(0,"th",78),t._uU(1,"SL No."),t.qZA())}function yi(n,l){if(1&n&&(t.TgZ(0,"td",79),t._uU(1),t.qZA()),2&n){const e=l.$implicit;t.xp6(1),t.hij(" ",e.slno," ")}}function Zi(n,l){1&n&&(t.TgZ(0,"th",78),t._uU(1,"Hotel Name"),t.qZA())}function Ti(n,l){if(1&n&&(t.TgZ(0,"td",79),t._uU(1),t.qZA()),2&n){const e=l.$implicit;t.xp6(1),t.Oqu(e.hotelName)}}function Ai(n,l){1&n&&(t.TgZ(0,"th",78),t._uU(1,"Date & Time"),t.qZA())}function wi(n,l){if(1&n&&(t.TgZ(0,"td",79),t._UZ(1,"i",80),t._uU(2),t._UZ(3,"i",81),t._uU(4),t.qZA()),2&n){const e=l.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.registrationTime.split(" ")[0]," "),t.xp6(2),t.hij(" ",null==e?null:e.registrationTime.split(" ")[1],"")}}function qi(n,l){1&n&&(t.TgZ(0,"th",78),t._uU(1,"Status"),t.qZA())}function ki(n,l){if(1&n&&(t.TgZ(0,"td",79),t._UZ(1,"img",82),t._uU(2),t.ALo(3,"titlecase"),t.qZA()),2&n){const e=l.$implicit;t.xp6(1),t.Q6J("src","accepted"===(null==e||null==e.status?null:e.status.toLowerCase())?"../../../../assets/images/resoponse-check.png":"rejected"===(null==e||null==e.status?null:e.status.toLowerCase())?"../../../../assets/images/response-close.png":"pending"===(null==e||null==e.status?null:e.status.toLowerCase())?"../../../../assets/images/response-info.png":"",t.LSH),t.xp6(1),t.hij(" ",t.lcZ(3,2,e.status)," ")}}function Oi(n,l){1&n&&t._UZ(0,"tr",83)}function Li(n,l){1&n&&t._UZ(0,"tr",84)}function Si(n,l){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-error",85),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",e.errorMsg," ")}}function Pi(n,l){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-spinner"),t.qZA())}function Fi(n,l){1&n&&(t.TgZ(0,"div",75),t._UZ(1,"app-loader"),t.qZA())}function Ui(n,l){if(1&n&&(t.TgZ(0,"p",76),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",null!=e.dashboardSummary&&e.dashboardSummary.totalPayment?null==e.dashboardSummary?null:e.dashboardSummary.totalPayment.toLocaleString():0,"")}}function Mi(n,l){1&n&&(t.TgZ(0,"div",75),t._UZ(1,"app-loader"),t.qZA())}function Ii(n,l){if(1&n&&(t.TgZ(0,"p",76),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",null!=e.dashboardSummary&&e.dashboardSummary.openPayments?null==e.dashboardSummary?null:e.dashboardSummary.openPayments.toLocaleString():0,"")}}function Ni(n,l){1&n&&(t.TgZ(0,"div",75),t._UZ(1,"app-loader"),t.qZA())}function Ji(n,l){if(1&n&&(t.TgZ(0,"p",76),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",null!=e.dashboardSummary&&e.dashboardSummary.closedPayments?null==e.dashboardSummary?null:e.dashboardSummary.closedPayments.toLocaleString():0," ")}}function Di(n,l){if(1&n&&(t.TgZ(0,"option",28),t._uU(1),t.qZA()),2&n){const e=l.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Hi(n,l){if(1&n&&(t.TgZ(0,"option",28),t._uU(1),t.qZA()),2&n){const e=l.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Qi(n,l){1&n&&(t.TgZ(0,"div",77),t._UZ(1,"app-spinner"),t.qZA())}function Bi(n,l){if(1&n&&(t.TgZ(0,"th",78),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&n){const e=t.oxw().index,o=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,o.currentHeaders[e]))}}function Yi(n,l){if(1&n&&t._UZ(0,"img",82),2&n){const e=t.oxw(2).$implicit,o=t.oxw().$implicit;t.Q6J("src","accepted"===(null==e||null==e[o]?null:e[o].toLowerCase())?"../../../../assets/images/resoponse-check.png":"rejected"===(null==e||null==e[o]?null:e[o].toLowerCase())?"../../../../assets/images/response-close.png":"pending"===(null==e||null==e[o]?null:e[o].toLowerCase())?"../../../../assets/images/response-info.png":"",t.LSH)}}function Ei(n,l){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Yi,1,1,"img",87),t._uU(2),t.ALo(3,"titlecase"),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf","status"===(null==o?null:o.toLowerCase())),t.xp6(1),t.hij(" ",t.lcZ(3,2,e[o].toString())," ")}}function Ri(n,l){if(1&n&&(t.TgZ(0,"td",79),t.YNc(1,Ei,4,4,"div",49),t.qZA()),2&n){const e=l.$implicit,o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e&&o)}}function zi(n,l){if(1&n&&(t.ynx(0,86),t.YNc(1,Bi,3,3,"th",42),t.YNc(2,Ri,2,1,"td",43),t.BQk()),2&n){const o=l.index;t.Q6J("matColumnDef",l.$implicit)("sticky",0===o)}}function ji(n,l){1&n&&t._UZ(0,"tr",83)}function Vi(n,l){1&n&&t._UZ(0,"tr",84)}function $i(n,l){if(1&n&&(t.TgZ(0,"mat-error",88),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.currentErrorMsg)}}const rt=function(){return[5,10,20]};z.kL.register(...z.zX);let lt=(()=>{class n{constructor(e){this.layoverService=e,this.displayedColumns=["slno","hotelName","registrationTime","status"],this.dataSource=new p.by,this.paymentStatus=["All","Pending","Received"],this.currentLayoverCountStatus="All",this.currentLayoverCountYear=(new Date).getFullYear(),this.currentLayoverCountCountry="Germany",this.currentTotalPaymentStatus="All",this.currentTotalPaymentYear=(new Date).getFullYear(),this.layoverStatus=["All","Accepted","Denied"],this.years=[],this.labels=[{month:"JAN",monthId:"1"},{month:"FEB",monthId:"2"},{month:"MAR",monthId:"3"},{month:"APR",monthId:"4"},{month:"MAY",monthId:"5"},{month:"JUN",monthId:"6"},{month:"JUL",monthId:"7"},{month:"AUG",monthId:"8"},{month:"SEP",monthId:"9"},{month:"OCT",monthId:"10"},{month:"NOV",monthId:"11"},{month:"DEC",monthId:"12"}],this.dashboardCountLoading=!1,this.totalLayoversCountLoading=!1,this.totalPaymentsLoading=!1,this.latestLayoverTableLoading=!1,this.layoverDate=[],this.layoverAmount=[],this.getLastFiveYears()}ngOnInit(){this.totalLayoverCounts(),this.totalAmountGenerated(),this.getLatestLayoverTableData(),this.getAllCounts(),this.getTotalLayoverAPI(),this.getTotalPaymentsAPI()}previewTable(e,o,i,r){this.currentTitle=r,this.currentPreviewDataSource=o,this.currentPreviewDisplayColumns=i,this.currentPreviewDataSource.paginator=this.previewPaginator,this.currentErrorMsg=this.errorMsg,this.currentHeaders=e}getLastFiveYears(){for(let e=2022;e<=(new Date).getFullYear();e++)this.years.push(e)}getTotalPaymentsAPI(){let e={companyId:this.layoverService.getLocalStorageValue("companyId"),status:this.currentTotalPaymentStatus,year:this.currentTotalPaymentYear};this.totalPaymentsLoading=!0,this.totalPaymentsAPISubscription=this.layoverService.getTotalPaymentsDashboard(e).subscribe({next:o=>{if(!o.isError&&o.message&&Object.keys(o.data).length>0){this.totalPaymentsLoading=!1,this.paymentDate=[],this.paymentTotalAmount=[];for(let i in o.data)this.paymentDate.push(i),this.paymentTotalAmount[+i.split("-")[0]-1]=o.data[i];this.totalAmountGenerated()}else this.totalPaymentsLoading=!1,this.paymentTotalAmount=[],this.totalAmountGenerated()},error:o=>{o.isError&&o.data&&(this.totalPaymentsLoading=!1,this.paymentTotalAmount=[],this.totalAmountGenerated())}})}getTotalLayoverAPI(){let e={companyId:this.layoverService.getLocalStorageValue("companyId"),status:this.currentLayoverCountStatus,year:this.currentLayoverCountYear,country:this.currentLayoverCountCountry,userType:this.layoverService.getLocalStorageValue("userType")};this.totalLayoversCountLoading=!1,this.totalLayoverAPISubscription=this.layoverService.getTotalLayoverCountDashboard(e).subscribe(o=>{if(!o.isError&&o.message&&Object.keys(o.data).length>0){this.totalLayoversCountLoading=!1,this.layoverDate=[],this.layoverAmount=[];for(let i in o.data)this.layoverDate.push(i),this.layoverAmount[+i.split("-")[0]-1]=o.data[i];this.totalLayoverCounts()}else this.layoverAmount=[],this.totalLayoversCountLoading=!1,this.totalLayoverCounts()},o=>{o.isError&&o.data&&(this.totalLayoversCountLoading=!1,this.totalLayoverCounts())})}getLatestLayoverTableData(){this.latestLayoverTableLoading=!0,this.dataSource.data=[],this.errorMsg="",this.latestLayoverTableDataSubscription=this.layoverService.getLatestLayoversDashboard(this.layoverService.getLocalStorageValue("companyId")).subscribe({next:e=>{!e.isError&&e.message&&Array.isArray(e.data)&&e.data.length>0?(this.latestLayoverTableLoading=!1,this.dataSource.data=e.data,this.dataSource.data=this.dataSource.data.map((o,i)=>Object.assign(Object.assign({},o),{slno:i+1})),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.matSort,this.errorMsg=""):(this.latestLayoverTableLoading=!1,this.errorMsg="No Data found")},error:e=>{this.latestLayoverTableLoading=!1}})}getAllCounts(){this.dashboardCountLoading=!0,this.allCountsSubscription=this.layoverService.getAllCountsDashboard(this.layoverService.getLocalStorageValue("companyId")).subscribe({next:e=>{!e.isError&&e.message&&(this.dashboardCountLoading=!1,this.dashboardSummary=e.data)},error:e=>{e.isError&&e.data&&(this.dashboardCountLoading=!1)}})}totalLayoverCounts(){var e;null===(e=this.totalLayoverCountsGraph)||void 0===e||e.destroy(),this.layoverAmount.filter(i=>i),this.totalLayoverCountsGraph=new z.kL("hotel-layover-summary",{type:"line",data:{labels:this.labels.map(i=>i.month),datasets:[this.layoverAmount.filter(i=>i).length>1?{type:"line",label:"Buss. Decline",backgroundColor:"#ffffff",borderColor:"#d040d0",fill:!1,data:[100,200,3005,9030,98,678],pointStyle:"circle",pointRadius:4,tension:.5}:{type:"bar",label:"Buss. Decline",backgroundColor:"#d040d0",borderColor:"#d040d0",data:this.layoverAmount,barPercentage:.5,borderSkipped:!1,categoryPercentage:1,borderRadius:{bottomLeft:5,bottomRight:5,topLeft:5,topRight:5}}]},options:{responsive:!1,plugins:{legend:{display:!1}},scales:{y:{position:"left",title:{display:!0,text:"Counts"},grid:{display:!0,drawBorder:!1},ticks:{display:!0}},x:{axis:"x",ticks:{autoSkip:!1,maxRotation:90,minRotation:0},grid:{display:!1,drawBorder:!0}}}}})}totalAmountGenerated(){var e;null===(e=this.totalAmountGeneratedGraph)||void 0===e||e.destroy();let o=(null==document?void 0:document.getElementById("hotel-total-amount-summary")).getContext("2d");this.totalAmountGeneratedGraph=new z.kL(o,{type:"bar",data:{labels:this.labels.map(i=>i.month),datasets:[{type:"bar",label:"Buss. Decline",backgroundColor:"#87C6F0",borderColor:"#87C6F0",data:this.paymentTotalAmount,borderWidth:.1,barPercentage:.9,borderSkipped:!1,categoryPercentage:.8,barThickness:20,borderRadius:{bottomLeft:5,bottomRight:5,topLeft:5,topRight:5},hoverBackgroundColor:"#1492E6"}]},options:{responsive:!1,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{position:"left",title:{display:!0,text:"Amount"},grid:{display:!0,drawBorder:!1},ticks:{display:!0}},x:{axis:"x",ticks:{autoSkip:!1,maxRotation:0,minRotation:0},grid:{display:!1,drawBorder:!0}}}}})}ngOnDestroy(){this.latestLayoverTableDataSubscription.unsubscribe(),this.allCountsSubscription.unsubscribe(),this.totalLayoverAPISubscription.unsubscribe(),this.totalPaymentsAPISubscription.unsubscribe(),this.dataSource=null}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(w.y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-total-stats"]],viewQuery:function(e,o){if(1&e&&(t.Gf(ci,5),t.Gf(k.YE,5),t.Gf(S.NW,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.previewPaginator=i.first),t.iGM(i=t.CRH())&&(o.matSort=i.first),t.iGM(i=t.CRH())&&(o.paginator=i.first)}},decls:155,vars:43,consts:[[1,"container-fluid"],[1,"row","mt-2"],[1,"col-md-3"],[1,"py-2",2,"border","1px solid #B6C9DC"],[1,"row"],[1,"col-md-4","ps-2","my-auto"],["src","../../../../assets/images/airline-dashboard.png","alt","",1,"layover-img"],[1,"col-md-8"],[1,"mb-0","fw-bold","card-text"],["role","status","class","spinner",4,"ngIf"],["class","mb-0 fw-bold card-sub-text",4,"ngIf"],[1,"py-2",2,"border","1px solid #C3E6B4"],[1,"mb-0","fw-bold","card-text","text-success"],[1,"py-2",2,"border","1px solid #FFB6D1"],[1,"mb-0","fw-bold","card-text","text-danger"],[1,"py-2",2,"border","1px solid #09D0C2"],[1,"mb-0","fw-bold","card-text",2,"color","#09D0C2"],[1,"row","my-3"],[1,"col-md-6"],[1,"h-100"],[1,"row","h-100"],[1,"col-md-4"],[1,"fw-bold","card-heading"],["aria-label","Default select example",1,"cursor-pointer","py-1","px-2","shadow-none",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-2","text-end","pe-0"],[1,"py-1","px-2","cursor-pointer","shadow-none",3,"ngModel","ngModelChange"],[1,"col-md-3","text-end"],[3,"value"],["class","text-center my-4",4,"ngIf"],[1,"mt-4","mb-2","w-100","h-75",3,"ngClass"],["width","489","id","hotel-layover-summary",2,"width","100%"],[1,"card-border","h-100"],[1,"col-md-11"],[1,"mb-1","fw-bold","card-heading"],[1,"col-md-1","text-end"],["src","../../../../assets/images/zoom-in-out.png","alt","","data-bs-toggle","modal","data-bs-target","#previewModal",1,"table-img","cursor-pointer",3,"click"],[1,"col-md-12"],[1,"layover-table"],[1,"example-container","mat-elevation-z8"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","slno"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","hotelName"],["matColumnDef","registrationTime"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","my-2",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[3,"pageSizeOptions"],["paginator",""],[1,"row","mb-3"],["src","../../../../assets/images/airlines-dashboard-payments.png","alt","",1,"layover-img"],["src","../../../../assets/images/accpted-layover-payment-hotel-flow-logo.png","alt","",1,"layover-img"],[1,"mb-0","fw-bold","card-text","text-warning"],["src","../../../../assets/images/closed-layover-payment-hotel-flow-logo.png","alt","",1,"layover-img"],[1,"row","w-100","m-0"],[1,"h-auto"],[1,"fw-bold","total-pay-heading"],[1,"col-md-2"],[1,"col-md-2","text-end"],["width","900","height","300","id","hotel-total-amount-summary",1,"position-relative",2,"width","100%"],["tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","id","previewModal",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"fw-bold"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","shadow-none",2,"font-size","10px"],[1,"modal-body"],[1,"mat-elevation-z8","shadow-none","layover-table","h-100","w-100"],["mat-table","",1,"w-100",3,"dataSource"],[3,"matColumnDef","sticky",4,"ngFor","ngForOf"],["class","text-center","style","font-size: 13px;",4,"ngIf"],["previewPaginator",""],["role","status",1,"spinner"],[1,"mb-0","fw-bold","card-sub-text"],[1,"text-center","my-4"],["mat-header-cell",""],["mat-cell",""],["aria-hidden","true",1,"fa","fa-calendar-o"],["aria-hidden","true",1,"fa","fa-clock-o"],[1,"status-img","me-2",3,"src"],["mat-header-row",""],["mat-row","",1,"my-2"],[1,"text-center","mb-2","mt-3"],[3,"matColumnDef","sticky"],["class","status-img me-2",3,"src",4,"ngIf"],[1,"text-center",2,"font-size","13px"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"div",4)(5,"div",5),t._UZ(6,"img",6),t.qZA(),t.TgZ(7,"div",7)(8,"p",8),t._uU(9,"Total layovers"),t.qZA(),t.YNc(10,di,2,0,"div",9),t.YNc(11,mi,2,1,"p",10),t.qZA()()()(),t.TgZ(12,"div",2)(13,"mat-card",11)(14,"div",4)(15,"div",5),t._UZ(16,"img",6),t.qZA(),t.TgZ(17,"div",7)(18,"p",12),t._uU(19,"Accepted layovers"),t.qZA(),t.YNc(20,ui,2,0,"div",9),t.YNc(21,pi,2,1,"p",10),t.qZA()()()(),t.TgZ(22,"div",2)(23,"mat-card",13)(24,"div",4)(25,"div",5),t._UZ(26,"img",6),t.qZA(),t.TgZ(27,"div",7)(28,"p",14),t._uU(29,"Denied layovers"),t.qZA(),t.YNc(30,gi,2,0,"div",9),t.YNc(31,_i,2,1,"p",10),t.qZA()()()(),t.TgZ(32,"div",2)(33,"mat-card",15)(34,"div",4)(35,"div",5),t._UZ(36,"img",6),t.qZA(),t.TgZ(37,"div",7)(38,"p",16),t._uU(39,"Cancelled layovers"),t.qZA(),t.YNc(40,fi,2,0,"div",9),t.YNc(41,hi,2,1,"p",10),t.qZA()()()()(),t.TgZ(42,"div",17)(43,"div",18)(44,"mat-card",19)(45,"div",20)(46,"div",21)(47,"label",22),t._uU(48,"Total Layover Counts"),t.qZA()(),t.TgZ(49,"div",2)(50,"select",23),t.NdJ("ngModelChange",function(r){return o.currentLayoverCountStatus=r})("ngModelChange",function(){return o.getTotalLayoverAPI()}),t.YNc(51,vi,2,2,"option",24),t.qZA()(),t.TgZ(52,"div",25)(53,"select",26),t.NdJ("ngModelChange",function(r){return o.currentLayoverCountYear=r})("ngModelChange",function(){return o.getTotalLayoverAPI()}),t.YNc(54,Ci,2,2,"option",24),t.qZA()(),t.TgZ(55,"div",27)(56,"select",23),t.NdJ("ngModelChange",function(r){return o.currentLayoverCountCountry=r})("ngModelChange",function(){return o.getTotalLayoverAPI()}),t.TgZ(57,"option",28),t._uU(58," Germany "),t.qZA()()(),t.YNc(59,bi,2,0,"div",29),t.TgZ(60,"div",30),t._UZ(61,"canvas",31),t.qZA()()()(),t.TgZ(62,"div",18)(63,"mat-card",32)(64,"div",4)(65,"div",33)(66,"label",34),t._uU(67,"Latest Layovers"),t.qZA()(),t.TgZ(68,"div",35)(69,"img",36),t.NdJ("click",function(){return o.previewTable(["SL No.","Hotel Name","Date & Time","Status"],o.dataSource,o.displayedColumns,"Latest Layovers")}),t.qZA()(),t.TgZ(70,"div",37)(71,"div",38)(72,"div",39)(73,"table",40),t.ynx(74,41),t.YNc(75,xi,2,0,"th",42),t.YNc(76,yi,2,1,"td",43),t.BQk(),t.ynx(77,44),t.YNc(78,Zi,2,0,"th",42),t.YNc(79,Ti,2,1,"td",43),t.BQk(),t.ynx(80,45),t.YNc(81,Ai,2,0,"th",42),t.YNc(82,wi,5,2,"td",43),t.BQk(),t.ynx(83,46),t.YNc(84,qi,2,0,"th",42),t.YNc(85,ki,4,4,"td",43),t.BQk(),t.YNc(86,Oi,1,0,"tr",47),t.YNc(87,Li,1,0,"tr",48),t.qZA(),t.YNc(88,Si,3,1,"ng-container",49),t.YNc(89,Pi,2,0,"div",49),t._UZ(90,"mat-paginator",50,51),t.qZA()()()()()()(),t.TgZ(92,"div",52)(93,"div",2)(94,"mat-card",3)(95,"div",4)(96,"div",5),t._UZ(97,"img",53),t.qZA(),t.TgZ(98,"div",7)(99,"p",8),t._uU(100,"Total payments"),t.qZA(),t.YNc(101,Fi,2,0,"div",9),t.YNc(102,Ui,2,1,"p",10),t.qZA()()()(),t.TgZ(103,"div",2)(104,"mat-card",13)(105,"div",4)(106,"div",5),t._UZ(107,"img",54),t.qZA(),t.TgZ(108,"div",7)(109,"p",55),t._uU(110,"Open payments"),t.qZA(),t.YNc(111,Mi,2,0,"div",9),t.YNc(112,Ii,2,1,"p",10),t.qZA()()()(),t.TgZ(113,"div",2)(114,"mat-card",11)(115,"div",4)(116,"div",5),t._UZ(117,"img",56),t.qZA(),t.TgZ(118,"div",7)(119,"p",12),t._uU(120,"Closed payments"),t.qZA(),t.YNc(121,Ni,2,0,"div",9),t.YNc(122,Ji,2,1,"p",10),t.qZA()()()()(),t.TgZ(123,"div",57)(124,"div",37)(125,"mat-card",58)(126,"div",57)(127,"div",7)(128,"label",59),t._uU(129,"Total Payments"),t.qZA()(),t.TgZ(130,"div",60)(131,"select",23),t.NdJ("ngModelChange",function(r){return o.currentTotalPaymentStatus=r})("ngModelChange",function(){return o.getTotalPaymentsAPI()}),t.YNc(132,Di,2,2,"option",24),t.qZA()(),t.TgZ(133,"div",61)(134,"select",26),t.NdJ("ngModelChange",function(r){return o.currentTotalPaymentYear=r})("ngModelChange",function(){return o.getTotalPaymentsAPI()}),t.YNc(135,Hi,2,2,"option",24),t.qZA()(),t.YNc(136,Qi,2,0,"div",29),t.TgZ(137,"div",30),t._UZ(138,"canvas",62),t.qZA()()()()()(),t.TgZ(139,"div",63)(140,"div",64)(141,"div",65)(142,"div",66)(143,"span",67),t._uU(144),t.qZA(),t._UZ(145,"button",68),t.qZA(),t.TgZ(146,"div",69)(147,"div",70)(148,"table",71),t.YNc(149,zi,3,2,"ng-container",72),t.YNc(150,ji,1,0,"tr",47),t.YNc(151,Vi,1,0,"tr",48),t.qZA(),t.YNc(152,$i,2,1,"mat-error",73),t._UZ(153,"mat-paginator",50,74),t.qZA()()()()()),2&e&&(t.xp6(10),t.Q6J("ngIf",o.dashboardCountLoading),t.xp6(1),t.Q6J("ngIf",!o.dashboardCountLoading),t.xp6(9),t.Q6J("ngIf",o.dashboardCountLoading),t.xp6(1),t.Q6J("ngIf",!o.dashboardCountLoading),t.xp6(9),t.Q6J("ngIf",o.dashboardCountLoading),t.xp6(1),t.Q6J("ngIf",!o.dashboardCountLoading),t.xp6(9),t.Q6J("ngIf",o.dashboardCountLoading),t.xp6(1),t.Q6J("ngIf",!o.dashboardCountLoading),t.xp6(9),t.Q6J("ngModel",o.currentLayoverCountStatus),t.xp6(1),t.Q6J("ngForOf",o.layoverStatus),t.xp6(2),t.Q6J("ngModel",o.currentLayoverCountYear),t.xp6(1),t.Q6J("ngForOf",o.years),t.xp6(2),t.Q6J("ngModel",o.currentLayoverCountCountry),t.xp6(1),t.Q6J("value","Germany"),t.xp6(2),t.Q6J("ngIf",o.totalLayoversCountLoading),t.xp6(1),t.Q6J("ngClass",o.totalLayoversCountLoading?"d-none":"d-block"),t.xp6(13),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.errorMsg||0===o.dataSource.data.length||0===o.dataSource.filteredData.length),t.xp6(1),t.Q6J("ngIf",o.latestLayoverTableLoading),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(41,rt)),t.xp6(11),t.Q6J("ngIf",o.dashboardCountLoading),t.xp6(1),t.Q6J("ngIf",!o.dashboardCountLoading),t.xp6(9),t.Q6J("ngIf",o.dashboardCountLoading),t.xp6(1),t.Q6J("ngIf",!o.dashboardCountLoading),t.xp6(9),t.Q6J("ngIf",o.dashboardCountLoading),t.xp6(1),t.Q6J("ngIf",!o.dashboardCountLoading),t.xp6(9),t.Q6J("ngModel",o.currentTotalPaymentStatus),t.xp6(1),t.Q6J("ngForOf",o.paymentStatus),t.xp6(2),t.Q6J("ngModel",o.currentTotalPaymentYear),t.xp6(1),t.Q6J("ngForOf",o.years),t.xp6(1),t.Q6J("ngIf",o.totalPaymentsLoading),t.xp6(1),t.Q6J("ngClass",o.totalPaymentsLoading?"d-none":"d-block"),t.xp6(7),t.Oqu(o.currentTitle),t.xp6(4),t.Q6J("dataSource",o.currentPreviewDataSource),t.xp6(1),t.Q6J("ngForOf",o.currentPreviewDisplayColumns),t.xp6(1),t.Q6J("matHeaderRowDef",o.currentPreviewDisplayColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.currentPreviewDisplayColumns),t.xp6(1),t.Q6J("ngIf",o.currentErrorMsg),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(42,rt)))},directives:[Y.a8,v.O5,V.R,a.EJ,a.JJ,a.On,v.sg,a.YN,a.Kr,N.O,v.mk,p.BZ,p.w1,p.fO,p.ge,p.Dz,p.ev,p.as,p.XQ,p.nj,p.Gk,y.TO,S.NW],pipes:[v.rS],styles:['.layover-img[_ngcontent-%COMP%]{height:50px;width:80px}.card-text[_ngcontent-%COMP%]{color:#0a62b9;font-size:14px}.card-sub-text[_ngcontent-%COMP%]{font-size:25px}.response-check-img[_ngcontent-%COMP%]{height:13px;width:12px}.layover-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.layover-table[_ngcontent-%COMP%]   tr.mat-header-row[_ngcontent-%COMP%]{height:44px!important}.layover-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .mat-header-row[_ngcontent-%COMP%]{background:white!important}.layover-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{z-index:99!important}.layover-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:13px;color:#000;font-weight:600}.layover-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:12px!important}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none!important}select[_ngcontent-%COMP%]{border:none;background-color:#f5f5f5;font-size:12px;font-weight:600;border-radius:4px}.card-heading[_ngcontent-%COMP%]{font-size:13px}.total-pay-heading[_ngcontent-%COMP%]{font-size:16px}.table-img[_ngcontent-%COMP%]{height:20px;width:20px;cursor:pointer}mat-card[_ngcontent-%COMP%]{box-shadow:0 0 8px #0000001a!important}[_nghost-%COMP%]  .btn-close{color:#00f!important}  .btn-close:hover{border-radius:50%!important;background-image:url(\'data:image/svg+xml;utf8,<svg stroke="blue" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M1.458 1.458l21.084 21.084m0-21.084L1.458 22.542" /></svg>\')!important;background-color:#05054d15!important}@media only screen and (max-width: 1090px){.card-text[_ngcontent-%COMP%]{font-size:11px!important}.layover-img[_ngcontent-%COMP%]{height:50px!important;width:68px!important}}@media only screen and (max-width: 1112px){.card-text[_ngcontent-%COMP%]{font-size:12px!important}.layover-img[_ngcontent-%COMP%]{height:50px!important;width:68px!important}.layover-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:11px}.layover-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:10px!important}}']}),n})();const Gi=["openRequests"],Wi=["acceptedRequests"],Ki=["layoverHistory"],Xi=["billOrPayments"],tr=["totalStats"],er=["capacitychipList"],or=["distancechipList"];function nr(n,l){if(1&n&&t._UZ(0,"img",36),2&n){const e=t.oxw();t.Q6J("src",null==e.airlineDetails?null:e.airlineDetails.logoPath,t.LSH)}}function ir(n,l){1&n&&t._UZ(0,"i",37)}function rr(n,l){1&n&&t._UZ(0,"i",38)}function lr(n,l){1&n&&(t.TgZ(0,"a",39),t._uU(1,"Profile"),t.qZA())}function ar(n,l){1&n&&(t.TgZ(0,"a",40),t._uU(1,"Settings"),t.qZA())}function sr(n,l){1&n&&(t.TgZ(0,"mat-error",64),t._uU(1," Flight Number is required"),t.qZA())}function cr(n,l){1&n&&(t.TgZ(0,"mat-error",65),t._uU(1," Enter proper Flight Number"),t.qZA())}function dr(n,l){1&n&&(t.TgZ(0,"mat-error",66),t._uU(1,"Capacity is required "),t.qZA())}function mr(n,l){1&n&&(t.TgZ(0,"mat-error",67),t._uU(1,"Location is required "),t.qZA())}function ur(n,l){1&n&&(t.TgZ(0,"mat-error",66),t._uU(1,"Kilometers are required "),t.qZA())}function pr(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip",77),t.NdJ("click",function(){const i=t.CHM(e),r=i.$implicit,s=i.index;return t.oxw(3).selectMatChip(r,s)}),t._uU(1),t.qZA()}if(2&n){const e=l.$implicit;t.xp6(1),t.hij(" ",e," ")}}function gr(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Capacity is required "),t.qZA())}function _r(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",68)(1,"mat-chip-list",69,70),t.YNc(3,pr,2,1,"mat-chip",71),t.qZA(),t.TgZ(4,"mat-form-field",72)(5,"input",73),t.NdJ("keydown",function(i){return t.CHM(e),t.oxw(2).layoverService.isValidPhoneNumber(i)})("input",function(i){return t.CHM(e),t.oxw(2).selectMatChipsCapacity(i)}),t.qZA(),t.YNc(6,gr,2,0,"mat-error",74),t.qZA(),t.TgZ(7,"div",75)(8,"button",76),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).closeCapacityCard()}),t._uU(9,"OK"),t.qZA()()()}if(2&n){const e=t.oxw(2);let o,i;t.xp6(3),t.Q6J("ngForOf",e.capicityCount),t.xp6(3),t.Q6J("ngIf",null==e.findStaysForm.get("capacityInput").errors?null:e.findStaysForm.get("capacityInput").errors.required),t.xp6(2),t.Q6J("ngClass",null!=e.findStaysForm&&null!=(o=e.findStaysForm.get("capacityInput"))&&o.value?"ok-btn":"ok-btn1")("disabled",!(null!=e.findStaysForm&&null!=(i=e.findStaysForm.get("capacityInput"))&&i.value))}}function fr(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",89),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(3).chooseLocation(r)}),t.TgZ(1,"div",90),t._uU(2),t.qZA(),t.TgZ(3,"div",91),t._uU(4),t.qZA(),t.TgZ(5,"div",92),t._uU(6),t.qZA(),t._UZ(7,"hr",93),t.qZA()}if(2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.place),t.xp6(2),t.hij(" ",null==e?null:e.distance," "),t.xp6(2),t.hij(" ",(null==e?null:e.description.length)>20?(null==e?null:e.description.substring(0,20))+"...":null==e?null:e.description," ")}}function hr(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",78)(1,"div",47)(2,"div",79)(3,"mat-icon"),t._uU(4,"my_location"),t.qZA()(),t.TgZ(5,"div",80),t._uU(6,"Choose Current Location"),t.qZA()(),t._UZ(7,"hr",81),t.TgZ(8,"div",82)(9,"mat-form-field",83),t._UZ(10,"input",84),t.qZA()(),t.TgZ(11,"div",85),t.YNc(12,fr,8,3,"div",86),t.qZA(),t.TgZ(13,"div",87)(14,"button",88),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).closeLocationCard()}),t._uU(15,"OK"),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(12),t.Q6J("ngForOf",e.locations)}}function vr(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip",99),t.NdJ("click",function(){const i=t.CHM(e),r=i.$implicit,s=i.index;return t.oxw(3).selectMatChipForKM(r,s)}),t._uU(1),t.qZA()}if(2&n){const e=l.$implicit;t.xp6(1),t.hij(" ",e," ")}}function Cr(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Kilometers are required "),t.qZA())}function br(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",78)(1,"mat-chip-list",69,94),t.YNc(3,vr,2,1,"mat-chip",95),t.qZA(),t.TgZ(4,"mat-form-field",96)(5,"input",97),t.NdJ("keydown",function(i){return t.CHM(e),t.oxw(2).layoverService.isValidDecimal(i)})("input",function(i){return t.CHM(e),t.oxw(2).selectMatChipsKM(i)}),t.qZA(),t.YNc(6,Cr,2,0,"mat-error",74),t.qZA(),t.TgZ(7,"div",75)(8,"button",98),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).closeKilometerCard()}),t._uU(9,"OK"),t.qZA()()()}if(2&n){const e=t.oxw(2);let o,i;t.xp6(3),t.Q6J("ngForOf",e.capicityCount),t.xp6(3),t.Q6J("ngIf",null==e.findStaysForm.get("kilometersInput").errors?null:e.findStaysForm.get("kilometersInput").errors.required),t.xp6(2),t.Q6J("ngClass",null!=e.findStaysForm&&null!=(o=e.findStaysForm.get("kilometersInput"))&&o.value?"ok-btn":"ok-btn1")("disabled",!(null!=e.findStaysForm&&null!=(i=e.findStaysForm.get("kilometersInput"))&&i.value))}}function xr(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",41)(1,"h3",42),t._uU(2,"Find Stays"),t.qZA(),t.TgZ(3,"mat-card",43),t._UZ(4,"input",44),t.YNc(5,sr,2,0,"mat-error",45),t.YNc(6,cr,2,0,"mat-error",46),t.TgZ(7,"div",47)(8,"div",48)(9,"label",49),t._uU(10,"Capacity"),t.qZA(),t.TgZ(11,"mat-form-field",50)(12,"input",51),t.NdJ("keydown",function(i){return t.CHM(e),t.oxw().layoverService.isValidPhoneNumber(i)}),t.qZA(),t.TgZ(13,"button",52),t.NdJ("click",function(){return t.CHM(e),t.oxw().capacityCardDisplay()}),t._UZ(14,"i",53),t.qZA(),t.YNc(15,dr,2,0,"mat-error",54),t.qZA()(),t.TgZ(16,"div",48)(17,"label",49),t._uU(18,"Location"),t.qZA(),t.TgZ(19,"mat-form-field",50),t._UZ(20,"input",55),t.TgZ(21,"button",56),t.NdJ("click",function(){return t.CHM(e),t.oxw().locationDisplay()}),t._UZ(22,"i",53),t.qZA(),t.YNc(23,mr,2,0,"mat-error",57),t.qZA()(),t.TgZ(24,"div",48)(25,"label",49),t._uU(26,"Kilometers"),t.qZA(),t.TgZ(27,"mat-form-field",58)(28,"input",59),t.NdJ("keydown",function(i){return t.CHM(e),t.oxw().layoverService.isValidDecimal(i)}),t.qZA(),t.TgZ(29,"button",52),t.NdJ("click",function(){return t.CHM(e),t.oxw().kilometerDisplay()}),t._UZ(30,"i",53),t.qZA(),t.YNc(31,ur,2,0,"mat-error",54),t.qZA()(),t.TgZ(32,"div",60)(33,"button",61),t._uU(34,"Search"),t.qZA()()()(),t.TgZ(35,"div",47)(36,"div",48),t.YNc(37,_r,10,4,"mat-card",62),t.qZA(),t.TgZ(38,"div",48),t.YNc(39,hr,16,1,"mat-card",63),t.qZA(),t.TgZ(40,"div",48),t.YNc(41,br,10,4,"mat-card",63),t.qZA()()()}if(2&n){const e=t.oxw();let o,i,r,s,c,d;t.xp6(4),t.Q6J("value",e.findStaysForm.get("flightNumber").value.toUpperCase()),t.xp6(1),t.Q6J("ngIf",(null==(o=e.findStaysForm.get("flightNumber"))?null:o.touched)&&(null==(o=e.findStaysForm.get("flightNumber"))||null==o.errors?null:o.errors.required)),t.xp6(1),t.Q6J("ngIf",(null==(i=e.findStaysForm.get("flightNumber"))?null:i.touched)&&(null==(i=e.findStaysForm.get("flightNumber"))||null==i.errors?null:i.errors.pattern)),t.xp6(8),t.Q6J("ngClass",null!=e.findStaysForm&&null!=(r=e.findStaysForm.get("capacity"))&&r.value?"text-color-primary":"text-dark"),t.xp6(1),t.Q6J("ngIf",null==(s=e.findStaysForm.get("capacity"))||null==s.errors?null:s.errors.required),t.xp6(7),t.Q6J("ngClass",e.findStaysForm.get("location").value?"text-color-primary":"text-dark"),t.xp6(1),t.Q6J("ngIf",null==(c=e.findStaysForm.get("location"))||null==c.errors?null:c.errors.required),t.xp6(7),t.Q6J("ngClass",e.findStaysForm.get("kilometers").value?"text-color-primary":"text-dark"),t.xp6(1),t.Q6J("ngIf",null==(d=e.findStaysForm.get("kilometers"))||null==d.errors?null:d.errors.required),t.xp6(6),t.Q6J("ngIf",e.capacityCard),t.xp6(2),t.Q6J("ngIf",e.locationCard),t.xp6(2),t.Q6J("ngIf",e.kilometerCard)}}function yr(n,l){1&n&&t._UZ(0,"span",108)}function Zr(n,l){1&n&&(t.TgZ(0,"div",109),t._UZ(1,"app-loader"),t.qZA())}function Tr(n,l){if(1&n&&(t.TgZ(0,"h6",110),t._uU(1),t.qZA()),2&n){const e=t.oxw(),i=e.$implicit;t.uIk("data-bs-slide-to",e.index),t.xp6(1),t.hij(" ",null==i?null:i.count," ")}}function Ar(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",100),t.NdJ("click",function(){const r=t.CHM(e).index;return t.oxw().openBottom(r)}),t.TgZ(1,"div",101),t._UZ(2,"img",102),t.YNc(3,yr,1,0,"span",103),t.TgZ(4,"div",104)(5,"h6",105),t._uU(6),t.qZA(),t.YNc(7,Zr,2,0,"div",106),t.YNc(8,Tr,2,2,"h6",107),t.qZA()()()}if(2&n){const e=l.$implicit,o=l.index,i=t.oxw();t.Q6J("ngClass",o!==i.carouselFooter.length-1?"border-space ":""),t.xp6(1),t.Q6J("ngClass",0===o?"active":""),t.xp6(1),t.Q6J("src",e.imgUrl,t.LSH),t.uIk("data-bs-slide-to",o),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.badgeFlag)&&(null==e?null:e.badgeCount)>0),t.xp6(2),t.uIk("data-bs-slide-to",o),t.xp6(1),t.hij(" ",null==e?null:e.title," "),t.xp6(1),t.Q6J("ngIf",i.footerCountLoading),t.xp6(1),t.Q6J("ngIf",!i.footerCountLoading)}}function wr(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",111)(1,"div",112)(2,"div",48)(3,"h5",113),t._uU(4,"Open Requests"),t.qZA()(),t._UZ(5,"div",114),t.TgZ(6,"div",115)(7,"button",116),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return[r.dismiss("Cross click"),s.getOpenRequestCounts()]}),t.qZA()()()(),t.TgZ(8,"div",117),t._UZ(9,"app-open-requests"),t.qZA()}}function qr(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",111)(1,"div",112)(2,"div",48)(3,"h5",113),t._uU(4,"Accepted Requests"),t.qZA()(),t._UZ(5,"div",114),t.TgZ(6,"div",115)(7,"button",116),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return[r.dismiss("Cross click"),s.getAcceptedRequestCounts()]}),t.qZA()()()(),t.TgZ(8,"div",117),t._UZ(9,"app-accepted-requests"),t.qZA()}}function kr(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",111)(1,"div",112)(2,"div",48)(3,"h5",113),t._uU(4,"Layover History"),t.qZA()(),t._UZ(5,"div",114),t.TgZ(6,"div",115)(7,"button",116),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.qZA()()()(),t.TgZ(8,"div",117),t._UZ(9,"app-layover-history"),t.qZA()}}function Or(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",111)(1,"div",112)(2,"div",48)(3,"h5",113),t._uU(4,"Bill & Payments"),t.qZA()(),t._UZ(5,"div",114),t.TgZ(6,"div",115)(7,"button",116),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return[r.dismiss("Cross click"),s.getBillPaymentsCounts()]}),t.qZA()()()(),t.TgZ(8,"div",117),t._UZ(9,"app-bill-or-payments"),t.qZA()}}function Lr(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",118)(1,"h5",113),t._uU(2,"Total Stats"),t.qZA(),t.TgZ(3,"button",116),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.qZA()(),t.TgZ(4,"div",119),t._UZ(5,"app-total-stats"),t.qZA()}}let Sr=(()=>{class n{constructor(e,o,i,r,s,c){this.offcanvasService=e,this.fb=o,this.cdRef=i,this.router=r,this.layoverService=s,this.toastr=c,this.separatorKeysCodes=[B.K5,B.OC],this.fruitCtrl=new a.NI(""),this.capicityCount=[5,10,15,20,25,30],this.locations=[{place:"Frankfurt Airport",distance:"0.6 km",description:"Lorem Ipsum Dolor Sit Amet, Consetetur Sadipscing\n    Elitr,Sed Diam"}],this.allFruits=["","","","",""],this.selectedIndex=0,this.registerBtnFlag=!1,this.capacityCard=!1,this.locationCard=!1,this.kilometerCard=!1,this.footerCountLoading=!1,this.acceptedCounts=0,this.openCounts=0,this.layoverHistoryCounts=0,this.billsPaymentsCounts=0,this.flightNoRegex=/^[A-Z]{2,3}[\s]{0,1}[0-9]{1,4}$/,this.navBarDetails=["Home","Aviation","Hotels","About Us","Careers","Contact"],this.carouselFooter=[{title:"Open Requests",count:0,imgUrl:"/assets/images/cor-layover.png",isBillingUser:!1,badgeFlag:!0,badgeCount:0},{title:"Accepted Requests",count:0,imgUrl:"/assets/images/cor-layover.png",isBillingUser:!1,badgeFlag:!0,badgeCount:0},{title:"Layover History",count:0,imgUrl:"/assets/images/airline-footer-hotel.png",isBillingUser:!1,badgeFlag:!1},{title:"Bill & Payments",count:0,imgUrl:"/assets/images/airline-footer-bill.png",isBillingUser:!0,badgeFlag:!0,badgeCount:0},{title:"Total Stats",count:"",imgUrl:"/assets/images/airline-footer-pie-chart.png",isBillingUser:!1,badgeFlag:!1}],document.title="Layoverconnect | Airlines",this.findStaysForm=this.fb.group({flightNumber:["",[a.kI.required,a.kI.pattern(this.flightNoRegex)]],location:["",[a.kI.required]],capacity:["",[a.kI.required]],kilometers:["",[a.kI.required]],capacityInput:["",[a.kI.required]],kilometersInput:["",[a.kI.required]]}),this.getAcceptedRequestCounts(),this.getOpenRequestCounts(),this.getLayoverHistoryCounts(),this.getBillPaymentsCounts(),this.getAirlineDetails()}ngOnInit(){}getAirlineDetails(){this.layoverService.getAirportOrAirlineorExternalHandlingCompanyInfo().subscribe(e=>{!e.isError&&e.message&&(this.airlineDetails=e.data)},e=>{var o;this.toastr.error(e.error.isError?null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message:"Sorry! Something went wrong")})}ngAfterViewInit(){this.findStaysForm.get("capacityInput").valueChanges.subscribe({next:e=>{this.findStaysForm.get("capacity").patchValue(e)}}),this.findStaysForm.get("kilometersInput").valueChanges.subscribe({next:e=>{this.findStaysForm.get("kilometers").patchValue(e)}}),this.selectedIndex=0,this.cdRef.detectChanges()}getCurrentIndex(e,o){this.selectedIndex=e,this.openBottom(o)}toggleFlag(){this.registerBtnFlag=!this.registerBtnFlag}openBottom(e){this.layoverService.isBiliingUser()&&this.carouselFooter[e].isBillingUser?3===e&&this.openBottomBillPayments(this.billOrPayments):this.layoverService.isBiliingUser()&&!this.carouselFooter[e].isBillingUser?this.toastr.error("You don't have access"):this.layoverService.isBiliingUser()||(0===e?this.openBottomOpenRequests(this.openRequests):1===e?this.openBottomAcceptedRequests(this.acceptedRequests):2===e?this.openBottomLayoverHistory(this.layoverHistory):3===e?this.openBottomBillPayments(this.billOrPayments):4===e&&this.openBottomTotalStats(this.totalStats))}openBottomOpenRequests(e){this.offcanvasService.open(e,{position:"bottom"})}openBottomAcceptedRequests(e){this.offcanvasService.open(e,{position:"bottom"})}openBottomLayoverHistory(e){this.offcanvasService.open(e,{position:"bottom"})}openBottomBillPayments(e){this.offcanvasService.open(e,{position:"bottom"})}openBottomTotalStats(e){this.offcanvasService.open(e,{position:"bottom"})}selected(e){this.capicityCount.push(e.option.viewValue),this.fruitCtrl.setValue(null)}capacityCardDisplay(){this.capacityCard=!this.capacityCard,this.locationCard=!1,this.kilometerCard=!1}locationDisplay(){this.locationCard=!this.locationCard,this.kilometerCard=!1,this.capacityCard=!1}kilometerDisplay(){this.kilometerCard=!this.kilometerCard,this.locationCard=!1,this.capacityCard=!1}selectMatChip(e,o){this.findStaysForm.get("capacityInput").patchValue(e),this.capacitychipList.chips.map((i,r)=>{o===r?i.select():i.deselect()})}selectMatChipForKM(e,o){this.findStaysForm.get("kilometersInput").patchValue(e),this.distancechipList.chips.map((i,r)=>{o===r?i.select():i.deselect()})}selectMatChipsKM(e){let o=this.capicityCount.indexOf(+e.target.value);this.distancechipList.chips.map((i,r)=>{o===r?i.select():i.deselect()})}selectMatChipsCapacity(e){let o=this.capicityCount.indexOf(+event.target.value);this.capacitychipList.chips.map((i,r)=>{o===r?i.select():i.deselect()})}chooseLocation(e){this.findStaysForm.get("location").patchValue(e.place)}closeCapacityCard(){this.capacityCard=!this.capacityCard}closeKilometerCard(){this.kilometerCard=!this.kilometerCard}closeLocationCard(){this.locationCard=!this.locationCard}getAllHotelsOnSearchForAirline(){this.findStaysForm.markAllAsTouched(),this.findStaysForm.valid&&this.router.navigate(["/airlines/hotel-search"],{queryParams:{search:JSON.stringify(this.findStaysForm.value)}})}getOpenRequestCounts(){const e={requestId:this.layoverService.getLocalStorageValue("companyId"),startDateTime:null,endDateTime:null};this.footerCountLoading=!0,this.layoverService.getAllOpenRequests(e).subscribe({next:o=>{var i;if(!o.isError&&o.message&&Array.isArray(o.data)&&o.data.length>0){this.openCounts=null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.length,this.carouselFooter[0].count=this.openCounts,this.footerCountLoading=!1;let r=o.data.filter(s=>!1===(null==s?void 0:s.companyNotify)&&!(null==s?void 0:s.status));this.carouselFooter[0].badgeCount=null==r?void 0:r.length}},error:o=>{(null==o?void 0:o.error).isError?this.footerCountLoading=!1:(this.footerCountLoading=!1,this.toastr.error("Sorry, Something Went Wrong"))}})}getAcceptedRequestCounts(){let e={requestId:this.layoverService.getLocalStorageValue("companyId")};this.footerCountLoading=!0,this.layoverService.acceptedRequestsAirlines(e).subscribe({next:o=>{var i;if(!o.isError&&o.message&&Array.isArray(o.data)&&o.data.length>0){this.acceptedCounts=null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.length,this.carouselFooter[1].count=this.acceptedCounts,this.footerCountLoading=!1;let r=o.data.filter(s=>{var c;return!1===(null==s?void 0:s.companyNotify)&&"accepted"===(null===(c=null==s?void 0:s.status)||void 0===c?void 0:c.toLowerCase())});this.carouselFooter[1].badgeCount=null==r?void 0:r.length,console.log(o.data)}},error:o=>{(null==o?void 0:o.error).isError?this.footerCountLoading=!1:(this.footerCountLoading=!1,this.toastr.error("Sorry, Something Went Wrong"))}})}getLayoverHistoryCounts(){let e={requestId:this.layoverService.getLocalStorageValue("companyId")};this.footerCountLoading=!0,this.layoverService.layoverHistroyFetchAllRequestAirlines(e).subscribe({next:o=>{!o.isError&&o.message&&Array.isArray(o.data)&&o.data.length>0&&(this.layoverHistoryCounts=o.data.length,this.carouselFooter[2].count=this.layoverHistoryCounts,this.footerCountLoading=!1)},error:o=>{(null==o?void 0:o.error).isError?this.footerCountLoading=!1:(this.footerCountLoading=!1,this.toastr.error("Sorry, Something Went Wrong"))}})}getBillPaymentsCounts(){let e={requestId:this.layoverService.getLocalStorageValue("companyId")};this.footerCountLoading=!0,this.layoverService.getBillPaymentByAirline(e).subscribe({next:o=>{if(!o.isError&&o.message&&Array.isArray(o.data)&&o.data.length>0){this.billsPaymentsCounts=o.data.length,this.carouselFooter[3].count=this.billsPaymentsCounts,this.footerCountLoading=!1;let i=o.data.filter(r=>!(null==r?void 0:r.companyNotify));console.log(i),this.carouselFooter[3].badgeCount=null==i?void 0:i.length}},error:o=>{(null==o?void 0:o.error).isError?this.footerCountLoading=!1:(this.footerCountLoading=!1,this.toastr.error("Sorry, Something Went Wrong"))}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I._B),t.Y36(a.qu),t.Y36(t.sBO),t.Y36(L.F0),t.Y36(w.y),t.Y36(q._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-carousel"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Gi,5),t.Gf(Wi,5),t.Gf(Ki,5),t.Gf(Xi,5),t.Gf(tr,5),t.Gf(er,5),t.Gf(or,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.openRequests=i.first),t.iGM(i=t.CRH())&&(o.acceptedRequests=i.first),t.iGM(i=t.CRH())&&(o.layoverHistory=i.first),t.iGM(i=t.CRH())&&(o.billOrPayments=i.first),t.iGM(i=t.CRH())&&(o.totalStats=i.first),t.iGM(i=t.CRH())&&(o.capacitychipList=i.first),t.iGM(i=t.CRH())&&(o.distancechipList=i.first)}},decls:41,vars:9,consts:[["id","carouselExampleControls","data-bs-ride","carousel","data-bs-ride","carousel","data-bs-pause","hover","data-bs-interval","false",1,"carousel","slide"],["id","header",1,"fixed-top"],[1,"navbar","navbar-expand-sm","navbar-light"],[1,"navbar-brand","text-white","ps-5"],["width","50","height","50","routerLink","/airlines",3,"src",4,"ngIf"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","text-white"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","justify-content-end"],[1,"my-2","my-lg-0"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"me-3","text-white","btn","register-us-btn","shadow-none",3,"click"],["src","../../../assets/images/profile.png",2,"width","30px","height","30px"],["class","fas fa-angle-up ms-2",4,"ngIf"],["class","fas fa-angle-down ms-2",4,"ngIf"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu","dropdown-value","dropdown-menu-end","dropdown-menu-lg-end"],["class","dropdown-item dropdown-item-value text-white border-bottom","data-bs-toggle","offcanvas","data-bs-target","#profilesOffcanvas",4,"ngIf"],["class","dropdown-item dropdown-item-value text-white border-bottom","data-bs-toggle","offcanvas","data-bs-target","#settingsOffcanvas",4,"ngIf"],[1,"dropdown-item","dropdown-item-value","text-white",3,"click"],[1,"carousel-inner"],[3,"formGroup","ngSubmit"],[1,"carousel-item","active"],["id","hero","playsinline","","autoplay","","loop","",1,"",2,"object-fit","fill",3,"muted"],["src","https://layover-connect-s3.s3.ap-south-1.amazonaws.com/Videos/video3.mp4","type","video/mp4"],["class","carousel-body","style","z-index: 1000;",4,"ngIf"],[1,"carousel-footer","border-radius","d-none","d-md-block","bg-white","w-90"],[1,"p-0","card"],[1,"row","w-100","m-0","justify-content-between"],["class","carousel-footer-item px-2 p-3 col cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],["class","h-90 bg-white rounded-top"],["openRequests",""],["class","h-90"],["acceptedRequests",""],["class","h-90 bg-white"],["layoverHistory",""],["billOrPayments",""],["totalStats",""],["width","50","height","50","routerLink","/airlines",3,"src"],[1,"fas","fa-angle-up","ms-2"],[1,"fas","fa-angle-down","ms-2"],["data-bs-toggle","offcanvas","data-bs-target","#profilesOffcanvas",1,"dropdown-item","dropdown-item-value","text-white","border-bottom"],["data-bs-toggle","offcanvas","data-bs-target","#settingsOffcanvas",1,"dropdown-item","dropdown-item-value","text-white","border-bottom"],[1,"carousel-body",2,"z-index","1000"],[1,"text-white","ps-3"],[1,"px-1","pt-1","pb-2","carousel-card"],["type","search","name","","id","","formControlName","flightNumber","placeholder","Flight Number","onKeyPress","if(this.value.length==7) return false;",1,"text-color-primary","fw-bold","ps-3","form-control","shadow-none","d-block","flight-search","mb-1",3,"value"],["class","ms-3",4,"ngIf"],["class","ms-1",4,"ngIf"],[1,"row","w-100","m-0"],[1,"col-md-3"],[1,"mb-0"],["appearance","legacy","floatLabel","never",1,"mat-field"],["type","number","matInput","","placeholder","-- Select --","readonly","","formControlName","capacity","placement","bottom",1,"ms-3","fs-5","text-color-primary",3,"keydown"],["type","button","matSuffix","",1,"btn","shadow-none","pt-0",2,"line-height","2",3,"click"],[1,"fas","fa-caret-down","fa-2x","mx-4",3,"ngClass"],["class","mt-1",4,"ngIf"],["matInput","","placeholder","-- Select --","formControlName","location","readonly","","placement","bottom",1,"ms-3","fw-bold","text-color-primary"],["type","button","matSuffix","",1,"btn","shadow-none","pt-0",3,"click"],["class","mt-2",4,"ngIf"],["appearance","legacy","floatLabel","never"],["matInput","","placeholder","-- Select --","formControlName","kilometers","readonly","","placement","bottom","type","number",1,"ms-3","fs-5","text-color-primary",3,"keydown"],[1,"col-md-3","my-auto"],["type","submit",1,"btn","shadow-none","search-btn"],["class","mt-1 px-2 py-2",4,"ngIf"],["class","mt-1 px-2",4,"ngIf"],[1,"ms-3"],[1,"ms-1"],[1,"mt-1"],[1,"mt-2"],[1,"mt-1","px-2","py-2"],["aria-label",""],["capacitychipList",""],["class","cursor-pointer","color","primary",3,"click",4,"ngFor","ngForOf"],["appearance","outline",1,"mt-3"],["type","number","formControlName","capacityInput","matInput","","placeholder","Enter The Capacity Here","onKeyPress","if(this.value.length==4) return false;",3,"keydown","input"],[4,"ngIf"],[1,"col-md-12","text-end"],["type","button",3,"ngClass","disabled","click"],["color","primary",1,"cursor-pointer",3,"click"],[1,"mt-1","px-2"],[1,"col-md-2","text-center","px-0"],[1,"col-md-10","ps-1","choose-location",2,"font-size","12px"],[1,"mb-1","mt-0"],[1,"pb-0"],["appearance","outline"],["type","text","matInput","","placeholder","Search For Location"],[1,"row","m-0","locations","location-name"],["class","col-12 row cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"d-block","text-end"],["type","button",1,"ok-btn","cursor-pointer",3,"click"],[1,"col-12","row","cursor-pointer",3,"click"],[1,"col-md-8","fw-bold"],[1,"col-md-4","text-end","fw-bold","mt-1"],[1,"col-md-12","location-sub-text"],[1,"my-1"],["distancechipList",""],["class","cursor-pointer",3,"click",4,"ngFor","ngForOf"],["appearance","outline",1,"mt-4"],["type","number","formControlName","kilometersInput","matInput","","placeholder","Enter The Kilometers Here","onKeyPress","if(this.value.length==6) return false;",3,"keydown","input"],[3,"ngClass","disabled","click"],[1,"cursor-pointer",3,"click"],[1,"carousel-footer-item","px-2","p-3","col","cursor-pointer",3,"ngClass","click"],[1,"d-flex",2,"cursor","pointer",3,"ngClass"],["alt","","data-bs-target","#carouselExampleControls",1,"carouselImg",3,"src"],["class","h-50 translate-middle badge rounded bg-danger",4,"ngIf"],[1,"me-2","ms-3"],["data-bs-target","#carouselExampleControls",1,"text-color-primary","mb-1","carousel-footer-title","text-nowrap","fw-bold"],["role","status","class","spinner",4,"ngIf"],["class","text-color-primary mb-1 carousel-footer-count","data-bs-target","#carouselExampleControls",4,"ngIf"],[1,"h-50","translate-middle","badge","rounded","bg-danger"],["role","status",1,"spinner"],["data-bs-target","#carouselExampleControls",1,"text-color-primary","mb-1","carousel-footer-count"],[1,"offcanvas-header","pb-1","row"],[1,"row"],[1,"offcanvas-title","fw-bold"],[1,"col-md-2"],[1,"col-md-7","text-end"],["type","button","aria-label","Close",1,"btn-close","shadow-none",2,"font-size","10px",3,"click"],[1,"offcanvas-body","pt-0"],[1,"offcanvas-header","border-bottom","mx-1"],[1,"offcanvas-body","px-4","mx-1"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"header",1)(2,"nav",2)(3,"a",3),t.YNc(4,nr,1,1,"img",4),t.qZA(),t.TgZ(5,"button",5),t._UZ(6,"span",6),t.qZA(),t.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"button",10),t.NdJ("click",function(){return o.toggleFlag()}),t._UZ(11,"img",11),t.YNc(12,ir,1,0,"i",12),t.YNc(13,rr,1,0,"i",13),t.qZA(),t.TgZ(14,"div",14),t.YNc(15,lr,2,0,"a",15),t.YNc(16,ar,2,0,"a",16),t.TgZ(17,"a",17),t.NdJ("click",function(){return o.layoverService.logout()}),t._uU(18,"Logout"),t.qZA()()()()()()(),t.TgZ(19,"div",18)(20,"form",19),t.NdJ("ngSubmit",function(){return o.getAllHotelsOnSearchForAirline()}),t.TgZ(21,"div",20)(22,"video",21),t._UZ(23,"source",22),t.qZA(),t.YNc(24,xr,42,12,"div",23),t.qZA(),t.TgZ(25,"div",24)(26,"div",25)(27,"div",26),t.YNc(28,Ar,9,9,"div",27),t.qZA()()()()()(),t._UZ(29,"app-profiles")(30,"app-settings"),t.YNc(31,wr,10,0,"ng-template",28,29,t.W1O),t.YNc(33,qr,10,0,"ng-template",30,31,t.W1O),t.YNc(35,kr,10,0,"ng-template",32,33,t.W1O),t.YNc(37,Or,10,0,"ng-template",32,34,t.W1O),t.YNc(39,Lr,6,0,"ng-template",32,35,t.W1O)),2&e&&(t.xp6(4),t.Q6J("ngIf",o.airlineDetails&&(null==o.airlineDetails?null:o.airlineDetails.logoPath)),t.xp6(8),t.Q6J("ngIf",o.registerBtnFlag),t.xp6(1),t.Q6J("ngIf",!o.registerBtnFlag),t.xp6(2),t.Q6J("ngIf",!o.layoverService.isBiliingUser()),t.xp6(1),t.Q6J("ngIf",!o.layoverService.isBiliingUser()),t.xp6(4),t.Q6J("formGroup",o.findStaysForm),t.xp6(2),t.Q6J("muted",!0),t.xp6(2),t.Q6J("ngIf",!o.layoverService.isBiliingUser()),t.xp6(4),t.Q6J("ngForOf",o.carouselFooter))},directives:[I.M2,v.O5,L.rH,a._Y,a.JL,a.sg,Y.a8,a.Fj,a.JJ,a.u,y.TO,y.KE,a.wV,M.Nt,y.R9,v.mk,J.qn,v.sg,J.HS,E.Hw,V.R,It,to,tt,ot,nt,it,lt],styles:[".flight-search[_ngcontent-%COMP%]{box-shadow:0 1px 5px #d3d3d3,0 1px 5px #d3d3d3!important;font-size:18px;padding:13px 4px;letter-spacing:.01rem;border-radius:8px;border:none}[_nghost-%COMP%]  .mat-form-field-appearance-legacy .mat-form-field-underline{display:none!important}label[_ngcontent-%COMP%]{font-size:13px;color:#707070!important}[_nghost-%COMP%]  .mat-form-field-appearance-legacy .mat-form-field-label{color:#000;font-weight:700!important}.mat-form-field[_ngcontent-%COMP%]{font-size:16px!important;font-weight:bolder!important;font-family:Poppins!important;letter-spacing:.04rem!important}[_nghost-%COMP%]  .mat-select-arrow{border-left:10px solid transparent!important;border-right:10px solid transparent!important;border-top:10px solid!important;margin:0 34px!important;border-radius:5px!important}[_nghost-%COMP%]  .mat-select-arrow{color:#000!important}[_nghost-%COMP%]  .mat-form-field-infix{border-top:.3em solid transparent!important}[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#707070;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#707070}[_nghost-%COMP%]  .popover-arrow{display:none!important}  .popover{margin-top:23px!important}.dropdown-value[_ngcontent-%COMP%]{margin:.525rem .5rem 0!important;font-size:.8rem!important;background-color:#ffffff4d!important;border:1px solid white!important;border-radius:.75rem!important}.dropdown-item-value[_ngcontent-%COMP%]:hover{color:#0a62b9!important;background-color:#fff!important;cursor:pointer}.dropdown-item-value[_ngcontent-%COMP%]{padding:.25rem .4rem!important}.mat-chip.mat-standard-chip[_ngcontent-%COMP%]{border:1px solid lightgray;background-color:#fff!important}.mat-standard-chip[_ngcontent-%COMP%]{border-radius:9px;height:0px;padding:1px 7px;font-size:11px;font-weight:600;color:gray}.ok-btn[_ngcontent-%COMP%]{background:#0a62b9;color:#fff;border:1px solid #0a62b9;padding:2px 12px;border-radius:4px;font-size:12px}.ok-btn1[_ngcontent-%COMP%]{background:gray;color:#fff;border:1px solid gray;padding:2px 12px;border-radius:4px;font-size:12px}[_nghost-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-wrapper{margin:0!important}[_nghost-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-infix{padding:.4em 0!important}.mat-icon[_ngcontent-%COMP%]{font-size:17px;color:#0a62b9}.location-name[_ngcontent-%COMP%]{height:50px;overflow-y:scroll}.locations[_ngcontent-%COMP%]{font-size:12px}.location-sub-text[_ngcontent-%COMP%]{font-size:9px}.carousel-footer-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;letter-spacing:.01rem}.carousel-footer-count[_ngcontent-%COMP%]{font-size:14px;font-weight:700;letter-spacing:.03rem}.search-btn[_ngcontent-%COMP%]{padding:12px;width:100%;background-color:#0a62b9;color:#fff}.carousel-footer[_ngcontent-%COMP%]{background:rgba(0,0,0,.5)}.carousel-item[_ngcontent-%COMP%]{height:auto;background:rgba(0,0,0,.5)}.carousel-card[_ngcontent-%COMP%]{border-radius:8px}.mat-field[_ngcontent-%COMP%]{border-right:1px solid grey}.carousel-body[_ngcontent-%COMP%]{position:absolute;left:50%;top:28%;transform:translate(-50%,-50px);width:68%}[_nghost-%COMP%]     .mat-form-field-label{font-size:13px}.choose-location[_ngcontent-%COMP%]{font-size:11px}.my-chip[_ngcontent-%COMP%]   .mat-chip-selected[_ngcontent-%COMP%]{background-color:#000!important;color:#fff}mat-error[_ngcontent-%COMP%]{font-size:12px;font-weight:700;letter-spacing:1px}.filter-cards[_ngcontent-%COMP%]{position:absolute;z-index:1}.filter-card[_ngcontent-%COMP%]{position:absolute;z-index:1;width:24%!important}.hotel-cards[_ngcontent-%COMP%]{height:60%;overflow:hidden;overflow-y:scroll}.offcanvas-body[_ngcontent-%COMP%]{background:white!important}[_nghost-%COMP%]  .w-90{width:95%!important}.badge[_ngcontent-%COMP%]{padding:0 .3em!important;line-height:normal}@media only screen and (max-width: 1090px){.carousel-body[_ngcontent-%COMP%]{position:absolute;left:50%;top:28%;transform:translate(-50%,-50px);width:75%}}@media only screen and (max-width: 1024px){.carousel-card[_ngcontent-%COMP%]{margin:0 40px 0 0}}@media only screen and (max-width: 1112px){.mat-standard-chip[_ngcontent-%COMP%]{padding:1px 3px!important}.choose-location[_ngcontent-%COMP%]{font-size:9px!important;padding-left:0}.location-name[_ngcontent-%COMP%]{height:30px;overflow-y:scroll}}@media only screen and (max-width: 1336px){.mat-standard-chip[_ngcontent-%COMP%]{padding:1px 5px}}[_nghost-%COMP%]  .mat-chip.mat-standard-chip.mat-chip-selected.mat-primary{background-color:#0a62b9!important;color:#fff!important;border:none!important}[_nghost-%COMP%]  .mat-form-field-flex{align-items:center!important}"]}),n})();var $=C(5861),H=C(5439),G=C(6808),at=C(7488);const Pr=["resetBtn"],Fr=["capacitychipList"],Ur=["distancechipList"];function Mr(n,l){1&n&&(t.TgZ(0,"div",79),t._UZ(1,"mat-spinner"),t.qZA())}function Ir(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Capacity is required"),t.qZA())}function Nr(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Location is required"),t.qZA())}function Jr(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Kilometers are required "),t.qZA())}function Dr(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip",87),t.NdJ("click",function(){const i=t.CHM(e),r=i.$implicit,s=i.index;return t.oxw(2).selectMatChip(r,s)}),t._uU(1),t.qZA()}if(2&n){const e=l.$implicit;t.xp6(1),t.hij(" ",e," ")}}function Hr(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",80)(1,"mat-chip-list",81,82),t.YNc(3,Dr,2,1,"mat-chip",83),t.qZA(),t.TgZ(4,"mat-form-field",84)(5,"input",85),t.NdJ("input",function(i){return t.CHM(e),t.oxw().selectMatChipsCapacity(i)}),t.qZA()(),t.TgZ(6,"div",75)(7,"button",86),t.NdJ("click",function(){return t.CHM(e),t.oxw().closeCapacityCard()}),t._uU(8,"OK"),t.qZA()()()}if(2&n){const e=t.oxw();let o,i;t.xp6(3),t.Q6J("ngForOf",e.capicityCount),t.xp6(4),t.Q6J("ngClass",null!=e.findStaysForm&&null!=(o=e.findStaysForm.get("capacityInput"))&&o.value?"ok-btn":"ok-btn1")("disabled",!(null!=e.findStaysForm&&null!=(i=e.findStaysForm.get("capacityInput"))&&i.value))}}function Qr(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",99),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).chooseLocation(r)}),t.TgZ(1,"div",100),t._uU(2),t.qZA(),t.TgZ(3,"div",101),t._uU(4),t.qZA(),t.TgZ(5,"div",102),t._uU(6),t.qZA(),t._UZ(7,"hr",103),t.qZA()}if(2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.place),t.xp6(2),t.hij(" ",null==e?null:e.distance," "),t.xp6(2),t.hij(" ",(null==e?null:e.description.length)>20?(null==e?null:e.description.substring(0,20))+"...":null==e?null:e.description," ")}}function Br(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",88)(1,"div",27)(2,"div",89)(3,"mat-icon"),t._uU(4,"my_location"),t.qZA()(),t.TgZ(5,"div",90),t._uU(6,"Choose Current Location"),t.qZA()(),t._UZ(7,"hr",91),t.TgZ(8,"div",92)(9,"mat-form-field",93),t._UZ(10,"input",94),t.qZA()(),t.TgZ(11,"div",95),t.YNc(12,Qr,8,3,"div",96),t.qZA(),t.TgZ(13,"div",97)(14,"button",98),t.NdJ("click",function(){return t.CHM(e),t.oxw().closeLocationCard()}),t._uU(15,"OK"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(12),t.Q6J("ngForOf",e.locations)}}function Yr(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip",87),t.NdJ("click",function(){const i=t.CHM(e),r=i.$implicit,s=i.index;return t.oxw(2).selectMatChipForKM(r,s)}),t._uU(1),t.qZA()}if(2&n){const e=l.$implicit;t.xp6(1),t.hij(" ",e," ")}}function Er(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",104)(1,"mat-chip-list",81,105),t.YNc(3,Yr,2,1,"mat-chip",83),t.qZA(),t.TgZ(4,"mat-form-field",106)(5,"input",107),t.NdJ("input",function(i){return t.CHM(e),t.oxw().selectMatChipsKM(i)}),t.qZA()(),t.TgZ(6,"div",75)(7,"button",108),t.NdJ("click",function(){return t.CHM(e),t.oxw().closeKilometerCard()}),t._uU(8,"OK"),t.qZA()()()}if(2&n){const e=t.oxw();let o,i;t.xp6(3),t.Q6J("ngForOf",e.capicityCount),t.xp6(4),t.Q6J("ngClass",null!=e.findStaysForm&&null!=(o=e.findStaysForm.get("kilometersInput"))&&o.value?"ok-btn":"ok-btn1")("disabled",!(null!=e.findStaysForm&&null!=(i=e.findStaysForm.get("kilometersInput"))&&i.value))}}function Rr(n,l){if(1&n&&(t.TgZ(0,"div",122)(1,"mat-icon",123),t._uU(2),t.qZA()()),2&n){const e=l.$implicit;t.xp6(2),t.hij("",null!=e&&e.filled?"star":"star_border"," ")}}function zr(n,l){if(1&n&&(t.TgZ(0,"div",124),t._UZ(1,"img",125),t.qZA()),2&n){const e=l.$implicit;t.Q6J("ngClass",0===l.index?"active":""),t.xp6(1),t.Q6J("src",e,t.LSH)}}function jr(n,l){if(1&n&&(t.TgZ(0,"div",109)(1,"p",110),t._uU(2),t.TgZ(3,"span",111)(4,"div",112),t.YNc(5,Rr,3,1,"div",113),t.qZA()()(),t.TgZ(6,"div",114)(7,"div",115),t.YNc(8,zr,2,2,"div",116),t.qZA(),t.TgZ(9,"button",117),t._UZ(10,"span",118),t.TgZ(11,"span",119),t._uU(12,"Previous"),t.qZA()(),t.TgZ(13,"button",120),t._UZ(14,"span",121),t.TgZ(15,"span",119),t._uU(16,"Next"),t.qZA()()()()),2&n){const e=l.$implicit,o=t.oxw();t.xp6(2),t.hij("",null==o.HotelInfo[0]?null:o.HotelInfo[0].hotel_name," "),t.xp6(3),t.Q6J("ngForOf",o.hotelStarsConvert(e.hotel_stars)),t.xp6(1),t.Q6J("id",e.id),t.xp6(2),t.Q6J("ngForOf",e.imgUrls),t.xp6(1),t.uIk("data-bs-target","#"+e.id),t.xp6(4),t.uIk("data-bs-target","#"+e.id)}}function Vr(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Single Rooms Counts are Required"),t.qZA())}function $r(n,l){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu("Only "+(null==e.HotelInfo[0]?null:e.HotelInfo[0].total_single_rooms)+" Single Rooms are available")}}function Gr(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Double Rooms Counts are Required"),t.qZA())}function Wr(n,l){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu("Only "+(null==e.HotelInfo[0]?null:e.HotelInfo[0].total_double_rooms)+" Double Rooms are available")}}function Kr(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Accessible Rooms Counts are Required"),t.qZA())}function Xr(n,l){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu("Only "+(null==e.HotelInfo[0]?null:e.HotelInfo[0].total_accessible_rooms)+" Accessible Rooms are available")}}function tl(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",126)(1,"div",127),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().selectFood(r)}),t.TgZ(2,"div",128),t._UZ(3,"img",129),t.qZA(),t.TgZ(4,"div",130)(5,"div",131),t._uU(6),t.qZA(),t._UZ(7,"hr",132),t.TgZ(8,"div",133),t._uU(9),t._UZ(10,"mat-checkbox",134),t.qZA()()()()}if(2&n){const e=l.$implicit,o=l.index,i=t.oxw();t.Q6J("ngClass",0===o?"ps-0":""),t.xp6(1),t.Q6J("ngClass",i.createLayoverForm.get(null==e?null:e.formControl).value?"food-selected":""),t.xp6(2),t.Q6J("src",i.createLayoverForm.get(null==e?null:e.formControl).value?null==e?null:e.food_img_active:null==e?null:e.food_img,t.LSH),t.xp6(1),t.Q6J("ngClass",i.createLayoverForm.get(null==e?null:e.formControl).value?"text-white":"text-color-primary"),t.xp6(2),t.hij(" ",e.food_name," "),t.xp6(3),t.hij(" + \u20ac",e.food_cost," "),t.xp6(1),t.Q6J("formControlName",null==e?null:e.formControl)}}function el(n,l){1&n&&(t.TgZ(0,"mat-error",135),t._uU(1," Check In Details are Required "),t.qZA())}function ol(n,l){1&n&&(t.TgZ(0,"mat-error",135),t._uU(1," Check In Time should be greater than Current Time "),t.qZA())}function nl(n,l){1&n&&(t.TgZ(0,"mat-error",55),t._uU(1," Check Out Details are Required"),t.qZA())}function il(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Check Out Time should be greater than Check In Time "),t.qZA())}function rl(n,l){1&n&&(t.TgZ(0,"mat-error",55),t._uU(1," Next Flight Departure Details are Required"),t.qZA())}function ll(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Next Flight Time should be greater than Check Out Time "),t.qZA())}function al(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"input",136),t.NdJ("change",function(i){return t.CHM(e),t.oxw().uploadLOCs(i)}),t.qZA()}}const sl=function(){return{cursor:"not-allowed"}},cl=function(){return{cursor:"pointer"}};let dl=(()=>{class n{constructor(e,o,i,r,s,c){this.router=e,this.activatedRoute=o,this.fb=i,this.toastr=r,this.layoverService=s,this.cdk=c,this.today=new Date,this.capacityCard=!1,this.locationCard=!1,this.kilometerCard=!1,this.capicityCount=[5,10,15,20,25,30],this.foods=[],this.HotelInfo=[],this.locations=[{place:"Frankfurt Airport",distance:"0.6 km",description:"Frankfurt Airport"}],this.findStaysForm=this.fb.group({flightNumber:[""],capacity:["",[a.kI.required]],location:["",[a.kI.required]],kilometers:["",[a.kI.required]],capacityInput:[""],kilometersInput:[""]}),this.activatedRoute.queryParams.subscribe(d=>{var u,m,g,f,_,b,T;if(d&&(null==d?void 0:d.detail)){let h=JSON.parse(null==d?void 0:d.detail);this.HotelInfo.push(h),null===(u=this.findStaysForm)||void 0===u||u.patchValue({flightNumber:null===(m=this.HotelInfo[0])||void 0===m?void 0:m.flightNumber,capacity:null===(g=this.HotelInfo[0])||void 0===g?void 0:g.capacity,location:null===(f=this.HotelInfo[0])||void 0===f?void 0:f.location,kilometers:null===(_=this.HotelInfo[0])||void 0===_?void 0:_.kilometers,capacityInput:null===(b=this.HotelInfo[0])||void 0===b?void 0:b.capacityInput,kilometersInput:null===(T=this.HotelInfo[0])||void 0===T?void 0:T.kilometersInput})}})}ngAfterViewChecked(){this.createLayoverForm.get("checkintime").valueChanges.subscribe(e=>{var o,i,r,s,c,d;this.createLayoverForm.get("checkintime").markAsTouched(),this.createLayoverForm.updateValueAndValidity(),(null===(o=new Date(e))||void 0===o?void 0:o.getFullYear())===+(new Date).getFullYear()&&(null===(i=new Date(e))||void 0===i?void 0:i.getMonth())===(new Date).getMonth()&&(null===(r=new Date(e))||void 0===r?void 0:r.getDate())===(new Date).getDate()&&(null===(c=new Date(null===(s=new Date(e))||void 0===s?void 0:s.setSeconds(0)))||void 0===c?void 0:c.getTime())<=(null===(d=new Date(+(new Date).setSeconds(0)))||void 0===d?void 0:d.getTime())?this.createLayoverForm.get("checkintime").setErrors({minDate:!0}):this.createLayoverForm.get("checkintime").setErrors(null)}),this.createLayoverForm.get("checkouttime").valueChanges.subscribe(e=>{var o,i,r,s,c,d;this.createLayoverForm.get("checkouttime").markAsTouched(),this.createLayoverForm.updateValueAndValidity(),(null===(o=new Date(e))||void 0===o?void 0:o.getFullYear())===new Date(this.createLayoverForm.get("checkintime").value).getFullYear()&&(null===(i=new Date(e))||void 0===i?void 0:i.getMonth())===new Date(this.createLayoverForm.get("checkintime").value).getMonth()&&(null===(r=new Date(e))||void 0===r?void 0:r.getDate())===new Date(this.createLayoverForm.get("checkintime").value).getDate()&&(null===(c=new Date(null===(s=new Date(e))||void 0===s?void 0:s.setSeconds(0)))||void 0===c?void 0:c.getTime())<=(null===(d=new Date(new Date(this.createLayoverForm.get("checkintime").value).setSeconds(0)))||void 0===d?void 0:d.getTime())?this.createLayoverForm.get("checkouttime").setErrors({minDate:!0}):this.createLayoverForm.get("checkouttime").setErrors(null)}),this.createLayoverForm.get("nextflight").valueChanges.subscribe(e=>{var o,i,r,s,c,d;this.createLayoverForm.get("nextflight").markAsTouched(),this.createLayoverForm.updateValueAndValidity(),(null===(o=new Date(e))||void 0===o?void 0:o.getFullYear())===new Date(this.createLayoverForm.get("checkouttime").value).getFullYear()&&(null===(i=new Date(e))||void 0===i?void 0:i.getMonth())===new Date(this.createLayoverForm.get("checkouttime").value).getMonth()&&(null===(r=new Date(e))||void 0===r?void 0:r.getDate())===new Date(this.createLayoverForm.get("checkouttime").value).getDate()&&(null===(c=new Date(null===(s=new Date(e))||void 0===s?void 0:s.setSeconds(0)))||void 0===c?void 0:c.getTime())<=(null===(d=new Date(new Date(this.createLayoverForm.get("checkouttime").value).setSeconds(0)))||void 0===d?void 0:d.getTime())?this.createLayoverForm.get("nextflight").setErrors({minDate:!0}):this.createLayoverForm.get("nextflight").setErrors(null)}),this.cdk.detectChanges()}ngOnInit(){var e,o,i;this.createLayoverForm=this.fb.group({checkintime:["",a.kI.required],checkouttime:["",a.kI.required],nextflight:["",a.kI.required],special_request:[""],breakfast:[!1],lunch:[!1],dinner:[!1],beverage:[!1],singleRoom:["",[a.kI.required,a.kI.max(null===(e=this.HotelInfo[0])||void 0===e?void 0:e.total_single_rooms)]],doubleRoom:["",[a.kI.required,a.kI.max(null===(o=this.HotelInfo[0])||void 0===o?void 0:o.total_double_rooms)]],accessibleRoom:["",[a.kI.required,a.kI.max(null===(i=this.HotelInfo[0])||void 0===i?void 0:i.total_accessible_rooms)]],locFile:[File],uploadExistingLOC:[!1]}),this.getAirlineDetails()}selectFood(e){this.createLayoverForm.get(null==e?void 0:e.formControl).patchValue(!this.createLayoverForm.get(null==e?void 0:e.formControl).value)}hotelStarsConvert(e){return this.hotelStars=[{filled:!1},{filled:!1},{filled:!1},{filled:!1},{filled:!1}],this.hotelStars.map((o,i)=>Object.assign(Object.assign({},o),e>i?{filled:!0}:{filled:!1}))}ngAfterViewInit(){var e,o,i,r,s,c,d,u,m,g;this.foods=[{food_img:"/assets/images/airlines-coffee.png",food_img_active:"/assets/images/airlines-coffee-active.png",food_name:"Breakfast",food_cost:null===(e=this.HotelInfo[0])||void 0===e?void 0:e.breakfastPrice,selected:!1,formControl:"breakfast"},{food_img:"/assets/images/airline-food.png",food_img_active:"/assets/images/airline-food-active.png",food_name:"Lunch",food_cost:null===(o=this.HotelInfo[0])||void 0===o?void 0:o.lunchPrice,selected:!1,formControl:"lunch"},{food_img:"/assets/images/airlines-restaurant.png",food_img_active:"/assets/images/airlines-restaurant-active.png",food_name:"Dinner",food_cost:null===(i=this.HotelInfo[0])||void 0===i?void 0:i.dinnerPrice,selected:!1,formControl:"dinner"},{food_img:"/assets/images/airlines-cheers.png",food_img_active:"/assets/images/airlines-cheers-active.png",food_name:"Beverage",food_cost:null===(r=this.HotelInfo[0])||void 0===r?void 0:r.beveragePrice,selected:!1,formControl:"beverage"}],null===(d=null===(c=null===(s=this.findStaysForm)||void 0===s?void 0:s.get("capacityInput"))||void 0===c?void 0:c.valueChanges)||void 0===d||d.subscribe({next:f=>{this.findStaysForm.get("capacity").patchValue(f)}}),null===(g=null===(m=null===(u=this.findStaysForm)||void 0===u?void 0:u.get("kilometersInput"))||void 0===m?void 0:m.valueChanges)||void 0===g||g.subscribe({next:f=>{this.findStaysForm.get("kilometers").patchValue(f)}}),this.selectedIndex=0,this.cdk.detectChanges()}getAirlineDetails(){this.layoverService.getAirportOrAirlineorExternalHandlingCompanyInfo().subscribe({next:e=>{!e.isError&&e.message&&(this.airlineDetails=e.data)},error:e=>{var o;(null==e?void 0:e.error).isError?this.toastr.error(null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message):this.toastr.error("Sorry! Something went wrong")}})}capacityCardDisplay(){this.capacityCard=!this.capacityCard,this.locationCard=!1,this.kilometerCard=!1}locationDisplay(){this.locationCard=!this.locationCard,this.kilometerCard=!1,this.capacityCard=!1}kilometerDisplay(){this.kilometerCard=!this.kilometerCard,this.locationCard=!1,this.capacityCard=!1}onRedirect(){this.router.navigate(["/airlines/hotel-search"],{queryParams:{search:JSON.stringify(this.findStaysForm.value)}})}getAllHotelsOnSearchForAirline(){this.findStaysForm.markAllAsTouched(),this.findStaysForm.valid&&this.layoverService.getAllHotelsOnSearchForAirline(this.findStaysForm.get("capacity").value,this.findStaysForm.get("location").value,this.findStaysForm.get("kilometers").value).subscribe({next:e=>{e.data&&Array.isArray(e.data)&&e.data.length>0?this.router.navigate(["/airlines/hotel-search"],{queryParams:{search:JSON.stringify(this.findStaysForm.value)}}):this.toastr.error("No Data found")},error:e=>{var o;(null==e?void 0:e.error).isError?this.toastr.error(null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message):this.toastr.error("Sorry! Something went wrong")}})}chooseLocation(e){this.findStaysForm.get("location").patchValue(e.place)}closeCapacityCard(){this.capacityCard=!this.capacityCard}closeKilometerCard(){this.kilometerCard=!this.kilometerCard}closeLocationCard(){this.locationCard=!this.locationCard}uploadLOCs(e){this.uploadedLocFile=e.target.files.item(0),this.uploadedLocFile=this.fileTest(this.uploadedLocFile),this.uploadedLocFile?(this.createLayoverForm.patchValue({locFile:this.uploadedLocFile}),this.createLayoverForm.updateValueAndValidity()):e.target.value=null}fileTest(e){return e&&e.type.includes("pdf")&&e.size<5e6?e:e&&e.type.includes("pdf")&&e.size>5e6?(this.toastr.error("File size should be less than 5 MB"),null):(this.toastr.error("Only PDF's file are allowed"),null)}createLayover(e){var o;if(this.createLayoverForm.markAllAsTouched(),this.createLayoverForm.updateValueAndValidity(),this.createLayoverForm.valid){let i=[{companyId:this.layoverService.getLocalStorageValue("companyId"),hotelDetailsId:null===(o=this.HotelInfo[0])||void 0===o?void 0:o.hotels_detail_id,layoverRequestId:0,requestedSingleRooms:+this.createLayoverForm.get("singleRoom").value,requestedDoubleRooms:+this.createLayoverForm.get("doubleRoom").value,requestedAccessibleRooms:+this.createLayoverForm.get("accessibleRoom").value,requestedCount:+this.createLayoverForm.get("singleRoom").value+ +this.createLayoverForm.get("doubleRoom").value+ +this.createLayoverForm.get("accessibleRoom").value,checkIntime:H(this.createLayoverForm.get("checkintime").value).format("DD-MM-YYYY HH:mm:ss"),checkOutTime:H(this.createLayoverForm.get("checkouttime").value).format("DD-MM-YYYY HH:mm:ss"),nextFlightDepTime:H(this.createLayoverForm.get("nextflight").value).format("DD-MM-YYYY HH:mm:ss"),requestedMeals:[this.createLayoverForm.get("breakfast").value?"BREAKFAST":null,this.createLayoverForm.get("lunch").value?"LUNCH":null,this.createLayoverForm.get("dinner").value?"DINNER":null,this.createLayoverForm.get("beverage").value?"BEVERAGES":null].filter(r=>r),specialRequest:this.createLayoverForm.get("special_request").value,locPath:e?e[0]:null,flightNumber:this.findStaysForm.get("flightNumber").value,flag:this.createLayoverForm.get("uploadExistingLOC").value}];this.isLoading=!0,this.layoverService.createLayoverRequestByAirline(i).subscribe({next:r=>{this.isLoading=!1,this.toastr.success("Layover requested Successfully"),setTimeout(()=>{this.resetBtn.nativeElement.click(),this.onRedirect()},1e3)},error:r=>{var s;(null==r?void 0:r.error).isError?(this.isLoading=!1,this.toastr.error(null===(s=null==r?void 0:r.error)||void 0===s?void 0:s.message)):(this.isLoading=!1,this.toastr.error("Layover request failed"))}})}}uploadLOCForCreatingLayover(){var e=this;return(0,$.Z)(function*(){e.createLayoverForm.valid&&e.uploadedLocFile?(e.isLoading=!0,(yield e.layoverService.uploadLOCForCreatingLayover([e.uploadedLocFile])).subscribe({next:o=>{(null==o?void 0:o.isError)||(e.isLoading=!1,e.createLayover(null==o?void 0:o.data))},error:o=>{var i;(null==o?void 0:o.error).isError?(e.isLoading=!1,e.toastr.error(null===(i=null==o?void 0:o.error)||void 0===i?void 0:i.message)):(e.isLoading=!1,e.toastr.error("Sorry! Something went wrong"))}})):e.createLayover()})()}selectMatChip(e,o){this.findStaysForm.get("capacityInput").patchValue(e),this.capacitychipList.chips.map((i,r)=>{o===r?i.select():i.deselect()})}selectMatChipForKM(e,o){this.findStaysForm.get("kilometersInput").patchValue(e),this.distancechipList.chips.map((i,r)=>{o===r?i.select():i.deselect()})}selectMatChipsKM(e){let o=this.capicityCount.indexOf(+e.target.value);this.distancechipList.chips.map((i,r)=>{o===r?i.select():i.deselect()})}selectMatChipsCapacity(e){let o=this.capicityCount.indexOf(+event.target.value);this.capacitychipList.chips.map((i,r)=>{o===r?i.select():i.deselect()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(L.F0),t.Y36(L.gz),t.Y36(a.qu),t.Y36(q._W),t.Y36(w.y),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-hotel-search-view"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Pr,5),t.Gf(Fr,5),t.Gf(Ur,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.resetBtn=i.first),t.iGM(i=t.CRH())&&(o.capacitychipList=i.first),t.iGM(i=t.CRH())&&(o.distancechipList=i.first)}},decls:149,vars:36,consts:[["class","spinner-pos",4,"ngIf"],[1,"container-fluid","bg-img","h-100"],[1,"row","my-3"],[1,"col-lg-3","col-xl-4","row","my-auto"],[1,"col-md-3","text-end"],[1,"col-md-9","my-auto"],[1,"col-md-12","my-auto"],["width","50","height","50",1,"cursor-pointer","d-block",3,"src","click"],[1,"col-md-12"],["type","button",1,"mb-0","text-white","fw-bold","bg-transparent","border-0","ps-0",3,"click"],["aria-hidden","true",1,"fa","fa-chevron-left"],[1,"col-lg-9","col-xl-8"],[1,"carousel-body"],[3,"formGroup","ngSubmit"],[1,"p-2","carousel-card"],[1,"row","px-1"],[1,"col-md-3"],[1,"mb-0"],["appearance","legacy","floatLabel","never",1,"mat-field"],["type","number","matInput","","placeholder","-- Select --","readonly","","formControlName","capacity","placement","bottom",1,"fw-bold","text-color-primary",3,"keydown"],["matSuffix","",1,"fas","fa-caret-down","text-color-primary","fa-2x","mx-4","cursor-pointer",3,"click"],[4,"ngIf"],["matInput","","placeholder","-- Select --","formControlName","location","readonly","","placement","bottom",1,"fw-bold","text-color-primary"],["appearance","legacy","floatLabel","never"],["matInput","","placeholder","-- Select --","formControlName","kilometers","readonly","","placement","bottom",1,"fw-bold","text-color-primary"],[1,"col-md-3","my-auto"],["type","submit",1,"btn","shadow-none","search-btn"],[1,"row"],["class","mt-1 px-2 py-2 filter-cards",4,"ngIf"],["class","mt-1 px-2 filter-card",4,"ngIf"],["class","mt-1 px-2 filter-cards",4,"ngIf"],[1,"carousel-cards"],[1,"col-md-1"],["class"," col-md-10 px-0 card-img-part card",4,"ngFor","ngForOf"],[1,"sub-body","mb-3"],[1,"col-md-10","offset-md-1"],[1,"card-body"],[1,"fw-bold","text-center","card-content"],[1,"sub-body1"],[1,"row","mb-3"],[1,"card-body","py-1"],[1,"row","mt-3"],[1,"col"],[1,"mb-0","sub-text"],["appearance","standard"],["matInput","","placeholder","Type Here","formControlName","singleRoom","type","number",3,"keydown"],["matInput","","formControlName","doubleRoom","placeholder","Type Here","type","number",3,"keydown"],["matInput","","formControlName","accessibleRoom","placeholder","Type Here","type","number",3,"keydown"],[1,"sub-body2"],[1,"card-body","py-3"],["class","col-md-3 pe-0",3,"ngClass",4,"ngFor","ngForOf"],[1,"row","mt-2","px-1"],[1,"col-md-3","px-0"],[1,"row","w-100","m-0",3,"ngClass"],[1,"col","fw-bold","px-2","food-type"],[1,""],[1,"text-color-primary"],["formControlName","checkintime",3,"min"],["class","fw-bold",4,"ngIf"],[1,"col-md-3","pe-0"],["formControlName","checkouttime",3,"min"],["class","",4,"ngIf"],[1,"text-color-primary","me-1"],["src","../../../assets/images/cor-plane.png","width","20px","height","20px","alt","",1,""],["formControlName","nextflight",3,"min"],[1,"row","main-div","pb-2","w-100","m-0"],[1,"col","fw-bold","food-type","my-auto"],["for","uploadLoc",1,"text-color-primary",2,"font-size","12px"],[1,"col","my-auto","text-end"],["src","/assets/images/file-upload.png","width","20px","height","20px","alt",""],["id","uploadLoc","accept",".pdf","style","font-size: 10px ; width:100% ;","type","file",3,"change",4,"ngIf"],["formControlName","uploadExistingLOC",2,"font-size","10px"],[1,"mb-0","spl-req-text"],["matInput","","formControlName","special_request","placeholder","Type Here"],[1,"row","mt-2"],[1,"col-md-12","text-end"],["type","reset",1,"d-none"],["resetBtn",""],["type","submit",1,"btn","req-btn",3,"disabled","ngStyle"],[1,"spinner-pos"],[1,"mt-1","px-2","py-2","filter-cards"],["aria-label",""],["capacitychipList",""],["class","cursor-pointer",3,"click",4,"ngFor","ngForOf"],["appearance","outline",1,"mt-3"],["type","number","matInput","","placeholder","Enter The Capacity Here","formControlName","capacityInput","onKeyPress","if(this.value.length==4) return false;",3,"input"],[3,"ngClass","disabled","click"],[1,"cursor-pointer",3,"click"],[1,"mt-1","px-2","filter-card"],[1,"col-md-2","text-center","px-0"],[1,"col-md-10","ps-2","choose-location"],[1,"mb-1","mt-0"],[1,"pb-0"],["appearance","outline"],["type","text","matInput","","placeholder","Search For Location"],[1,"row","m-0","locations","location-name"],["class","col-12 row cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"d-block","text-end"],["type","button",1,"ok-btn",3,"click"],[1,"col-12","row","cursor-pointer",3,"click"],[1,"col-md-8","fw-bold"],[1,"col-md-4","text-end","fw-bold","mt-1"],[1,"col-md-12","location-sub-text"],[1,"my-1"],[1,"mt-1","px-2","filter-cards"],["distancechipList",""],["appearance","outline",1,"mt-4"],["type","number","formControlName","kilometersInput","matInput","","placeholder","Enter The Kilometers Here","onKeyPress","if(this.value.length==6) return false;",3,"input"],["type","button",3,"ngClass","disabled","click"],[1,"col-md-10","px-0","card-img-part","card"],[1,"carousel-text","d-flex"],[1,"ms-3"],[1,"row","my-0"],["class","col-md-auto px-0","style","color: #DADADA;",4,"ngFor","ngForOf"],["data-bs-ride","carousel",1,"carousel","slide","card-img","position-relative",3,"id"],[1,"carousel-inner"],["class","carousel-item",3,"ngClass",4,"ngFor","ngForOf"],["type","button","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"col-md-auto","px-0",2,"color","#DADADA"],[1,"text-warning"],[1,"carousel-item",3,"ngClass"],["alt","",1,"card-img","w-100","h-100",3,"src"],[1,"col-md-3","pe-0",3,"ngClass"],[1,"row","w-100","m-0","main-div","cursor-pointer",3,"ngClass","click"],[1,"col-md-auto","pe-0"],["alt","",1,"food-img",3,"src"],[1,"col","fw-bold","pe-0",3,"ngClass"],[2,"font-size","19px","text-align","center"],[1,"my-0","food-cost"],[2,"text-align","center"],[1,"float-end","pe-2","d-none",3,"formControlName"],[1,"fw-bold"],["id","uploadLoc","accept",".pdf","type","file",2,"font-size","10px","width","100%",3,"change"]],template:function(e,o){if(1&e&&(t.YNc(0,Mr,2,0,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"div",4),t.TgZ(5,"div",5)(6,"div",6)(7,"img",7),t.NdJ("click",function(){return o.layoverService.navigate("/airlines")}),t.qZA()(),t.TgZ(8,"div",8)(9,"button",9),t.NdJ("click",function(){return o.onRedirect()}),t._UZ(10,"i",10),t._uU(11," Back"),t.qZA()()()(),t.TgZ(12,"div",11)(13,"div",12)(14,"form",13),t.NdJ("ngSubmit",function(){return o.getAllHotelsOnSearchForAirline()}),t.TgZ(15,"mat-card",14)(16,"div",15)(17,"div",16)(18,"label",17),t._uU(19,"Capacity"),t.qZA(),t.TgZ(20,"mat-form-field",18)(21,"input",19),t.NdJ("keydown",function(r){return o.layoverService.isValidPhoneNumber(r)}),t.qZA(),t.TgZ(22,"i",20),t.NdJ("click",function(){return o.capacityCardDisplay()}),t.qZA(),t.YNc(23,Ir,2,0,"mat-error",21),t.qZA()(),t.TgZ(24,"div",16)(25,"label",17),t._uU(26,"Location"),t.qZA(),t.TgZ(27,"mat-form-field",18),t._UZ(28,"input",22),t.TgZ(29,"i",20),t.NdJ("click",function(){return o.locationDisplay()}),t.qZA(),t.YNc(30,Nr,2,0,"mat-error",21),t.qZA()(),t.TgZ(31,"div",16)(32,"label",17),t._uU(33,"Kilometers"),t.qZA(),t.TgZ(34,"mat-form-field",23),t._UZ(35,"input",24),t.TgZ(36,"i",20),t.NdJ("click",function(){return o.kilometerDisplay()}),t.qZA(),t.YNc(37,Jr,2,0,"mat-error",21),t.qZA()(),t.TgZ(38,"div",25)(39,"button",26),t._uU(40,"Search"),t.qZA()()()(),t.TgZ(41,"div",27)(42,"div",16),t.YNc(43,Hr,9,3,"mat-card",28),t.qZA(),t.TgZ(44,"div",16),t.YNc(45,Br,16,1,"mat-card",29),t.qZA(),t.TgZ(46,"div",16),t.YNc(47,Er,9,3,"mat-card",30),t.qZA()()()()()(),t.TgZ(48,"div",31)(49,"div",27),t._UZ(50,"div",32),t.YNc(51,jr,17,6,"div",33),t._UZ(52,"div",32),t.qZA(),t.TgZ(53,"div",34)(54,"div",27)(55,"div",35)(56,"mat-card",36)(57,"p",37),t._uU(58),t.qZA()()()()(),t.TgZ(59,"form",13),t.NdJ("ngSubmit",function(){return o.uploadLOCForCreatingLayover()}),t.TgZ(60,"div",38)(61,"div",38)(62,"div",39)(63,"div",35)(64,"mat-card",40)(65,"div",41)(66,"div",42)(67,"label",43),t._uU(68,"Single Rooms"),t.qZA(),t.TgZ(69,"div")(70,"mat-form-field",44)(71,"input",45),t.NdJ("keydown",function(r){return o.layoverService.isValidPhoneNumber(r)}),t.qZA(),t.YNc(72,Vr,2,0,"mat-error",21),t.YNc(73,$r,2,1,"mat-error",21),t.qZA()()(),t.TgZ(74,"div",42)(75,"label",43),t._uU(76,"Double Rooms"),t.qZA(),t.TgZ(77,"div")(78,"mat-form-field",44)(79,"input",46),t.NdJ("keydown",function(r){return o.layoverService.isValidPhoneNumber(r)}),t.qZA(),t.YNc(80,Gr,2,0,"mat-error",21),t.YNc(81,Wr,2,1,"mat-error",21),t.qZA()()(),t.TgZ(82,"div",42)(83,"label",43),t._uU(84,"Accessible Rooms"),t.qZA(),t.TgZ(85,"div")(86,"mat-form-field",44)(87,"input",47),t.NdJ("keydown",function(r){return o.layoverService.isValidPhoneNumber(r)}),t.qZA(),t.YNc(88,Kr,2,0,"mat-error",21),t.YNc(89,Xr,2,1,"mat-error",21),t.qZA()()()()()()()()(),t.TgZ(90,"div",48)(91,"div",39)(92,"div",35)(93,"mat-card",49)(94,"div",15),t.YNc(95,tl,11,7,"div",50),t.qZA(),t.TgZ(96,"div",51)(97,"div",52)(98,"div",53)(99,"div",54)(100,"div",55)(101,"label",56),t._uU(102,"Check In Date & Time"),t.qZA(),t._UZ(103,"app-date-time-picker",57),t.qZA()()(),t.YNc(104,el,2,0,"mat-error",58),t.YNc(105,ol,2,0,"mat-error",58),t.qZA(),t.TgZ(106,"div",59)(107,"div",53)(108,"div",54)(109,"div",55)(110,"label",56),t._uU(111,"Check Out Date & Time"),t.qZA(),t._UZ(112,"app-date-time-picker",60),t.qZA()()(),t.YNc(113,nl,2,0,"mat-error",61),t.YNc(114,il,2,0,"mat-error",21),t.qZA(),t.TgZ(115,"div",59)(116,"div",53)(117,"div",54)(118,"div",55)(119,"label",62),t._uU(120,"Next Flight Departure"),t.qZA(),t._UZ(121,"img",63)(122,"app-date-time-picker",64),t.qZA()()(),t.YNc(123,rl,2,0,"mat-error",61),t.YNc(124,ll,2,0,"mat-error",21),t.qZA(),t.TgZ(125,"div",59)(126,"div",65)(127,"div",66)(128,"span",67),t._uU(129,"Upload LOC"),t.qZA()(),t.TgZ(130,"div",68),t._UZ(131,"img",69),t.qZA(),t.TgZ(132,"div",8),t.YNc(133,al,1,0,"input",70),t.qZA()(),t.TgZ(134,"mat-checkbox",71),t._uU(135,"Upload Existing LOC"),t.qZA()()(),t.TgZ(136,"div",41)(137,"div",42)(138,"div")(139,"mat-form-field",44)(140,"mat-label",72),t._uU(141,"Special Request"),t.qZA(),t._UZ(142,"input",73),t.qZA()()()(),t.TgZ(143,"div",74)(144,"div",75),t._UZ(145,"button",76,77),t.TgZ(147,"button",78),t._uU(148,"Request"),t.qZA()()()()()()()()()()),2&e){let i,r,s,c,d,u,m,g,f,_,b,T,h,Z,A,O,P,F,Q;t.Q6J("ngIf",o.isLoading),t.xp6(7),t.Q6J("src",null==o.airlineDetails?null:o.airlineDetails.logoPath,t.LSH),t.xp6(7),t.Q6J("formGroup",o.findStaysForm),t.xp6(9),t.Q6J("ngIf",null==(i=o.findStaysForm.get("capacity"))||null==i.errors?null:i.errors.required),t.xp6(7),t.Q6J("ngIf",null==(r=o.findStaysForm.get("location"))||null==r.errors?null:r.errors.required),t.xp6(7),t.Q6J("ngIf",null==(s=o.findStaysForm.get("kilometers"))||null==s.errors?null:s.errors.required),t.xp6(6),t.Q6J("ngIf",o.capacityCard),t.xp6(2),t.Q6J("ngIf",o.locationCard),t.xp6(2),t.Q6J("ngIf",o.kilometerCard),t.xp6(4),t.Q6J("ngForOf",o.HotelInfo),t.xp6(7),t.hij(" ",null==o.HotelInfo[0]?null:o.HotelInfo[0].hotel_description," "),t.xp6(1),t.Q6J("formGroup",o.createLayoverForm),t.xp6(13),t.Q6J("ngIf",null==(c=o.createLayoverForm.get("singleRoom"))||null==c.errors?null:c.errors.required),t.xp6(1),t.Q6J("ngIf",null==(d=o.createLayoverForm.get("singleRoom"))||null==d.errors?null:d.errors.max),t.xp6(7),t.Q6J("ngIf",null==(u=o.createLayoverForm.get("doubleRoom"))||null==u.errors?null:u.errors.required),t.xp6(1),t.Q6J("ngIf",null==(m=o.createLayoverForm.get("doubleRoom"))||null==m.errors?null:m.errors.max),t.xp6(7),t.Q6J("ngIf",null==(g=o.createLayoverForm.get("accessibleRoom"))||null==g.errors?null:g.errors.required),t.xp6(1),t.Q6J("ngIf",null==(f=o.createLayoverForm.get("accessibleRoom"))||null==f.errors?null:f.errors.max),t.xp6(6),t.Q6J("ngForOf",o.foods),t.xp6(3),t.Q6J("ngClass",null!=(_=o.createLayoverForm.get("checkintime"))&&_.touched&&(null!=(_=o.createLayoverForm.get("checkintime"))&&null!=_.errors&&_.errors.required||null!=(_=o.createLayoverForm.get("checkintime"))&&null!=_.errors&&_.errors.minDate)?"border border-danger rounded border-2":"main-div"),t.xp6(5),t.Q6J("min",o.today),t.xp6(1),t.Q6J("ngIf",o.createLayoverForm.get("checkintime").invalid&&(null==(b=o.createLayoverForm.get("checkintime"))?null:b.touched)&&(null==(b=o.createLayoverForm.get("checkintime"))||null==b.errors?null:b.errors.required)),t.xp6(1),t.Q6J("ngIf",o.createLayoverForm.get("checkintime").invalid&&(null==(T=o.createLayoverForm.get("checkintime"))?null:T.touched)&&(null==(T=o.createLayoverForm.get("checkintime"))||null==T.errors?null:T.errors.minDate)),t.xp6(2),t.Q6J("ngClass",null!=(h=o.createLayoverForm.get("checkouttime"))&&h.touched&&(null!=(h=o.createLayoverForm.get("checkouttime"))&&null!=h.errors&&h.errors.required||null!=(h=o.createLayoverForm.get("checkouttime"))&&null!=h.errors&&h.errors.minDate)?"border border-danger rounded border-2":"main-div"),t.xp6(5),t.Q6J("min",o.createLayoverForm.get("checkintime").value?o.createLayoverForm.get("checkintime").value:o.today),t.xp6(1),t.Q6J("ngIf",o.createLayoverForm.get("checkouttime").invalid&&(null==(Z=o.createLayoverForm.get("checkouttime"))?null:Z.touched)&&(null==(Z=o.createLayoverForm.get("checkouttime"))||null==Z.errors?null:Z.errors.required)),t.xp6(1),t.Q6J("ngIf",o.createLayoverForm.get("checkouttime").invalid&&(null==(A=o.createLayoverForm.get("checkouttime"))?null:A.touched)&&(null==(A=o.createLayoverForm.get("checkouttime"))||null==A.errors?null:A.errors.minDate)),t.xp6(2),t.Q6J("ngClass",null!=(O=o.createLayoverForm.get("nextflight"))&&O.touched&&(null!=(O=o.createLayoverForm.get("nextflight"))&&null!=O.errors&&O.errors.required||null!=(O=o.createLayoverForm.get("nextflight"))&&null!=O.errors&&O.errors.minDate)?"border border-danger rounded border-2":"main-div"),t.xp6(6),t.Q6J("min",o.createLayoverForm.get("checkouttime").value?o.createLayoverForm.get("checkouttime").value:o.today),t.xp6(1),t.Q6J("ngIf",o.createLayoverForm.get("nextflight").invalid&&(null==(P=o.createLayoverForm.get("nextflight"))?null:P.touched)&&(null==(P=o.createLayoverForm.get("nextflight"))||null==P.errors?null:P.errors.required)),t.xp6(1),t.Q6J("ngIf",o.createLayoverForm.get("nextflight").invalid&&(null==(F=o.createLayoverForm.get("nextflight"))?null:F.touched)&&(null==(F=o.createLayoverForm.get("nextflight"))||null==F.errors?null:F.errors.minDate)),t.xp6(9),t.Q6J("ngIf",!(null!=o.createLayoverForm&&null!=(Q=o.createLayoverForm.get("uploadExistingLOC"))&&Q.value)),t.xp6(14),t.Q6J("disabled",o.isLoading)("ngStyle",o.isLoading?t.DdM(34,sl):t.DdM(35,cl))}},directives:[v.O5,G.$g,a._Y,a.JL,a.sg,Y.a8,y.KE,a.wV,M.Nt,a.Fj,a.JJ,a.u,y.R9,y.TO,J.qn,v.sg,J.HS,v.mk,E.Hw,R.oG,at.J,y.hX,v.PC],styles:[".bg-img[_ngcontent-%COMP%]{background-image:url(https://cdn.pixabay.com/photo/2019/02/19/21/02/architecture-4007755_960_720.jpg);background-repeat:no-repeat;background-size:cover;position:fixed;overflow-y:hidden}[_nghost-%COMP%]  .mat-form-field-appearance-legacy .mat-form-field-label{color:#000;font-weight:700!important}.mat-form-field[_ngcontent-%COMP%]{font-size:16px!important;font-weight:bolder!important;font-family:Poppins!important;letter-spacing:.04rem!important}[_nghost-%COMP%]  .mat-select-arrow{border-left:10px solid transparent!important;border-right:10px solid transparent!important;border-top:10px solid!important;margin:0 34px!important;border-radius:5px!important}[_nghost-%COMP%]  .mat-select-arrow{color:#000!important}[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#707070;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#707070}[_nghost-%COMP%]  .popover-arrow{display:none!important}input[_ngcontent-%COMP%]::placeholder{font-size:12px}.mat-chip.mat-standard-chip[_ngcontent-%COMP%]{border:1px solid lightgray;background-color:#fff!important}.mat-standard-chip[_ngcontent-%COMP%]{border-radius:9px;height:0px;padding:1px 7px;font-size:11px;font-weight:600;color:gray}[_nghost-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-wrapper{margin:0!important}[_nghost-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-infix{padding:.4em 0!important}.my-chip[_ngcontent-%COMP%]   .mat-chip-selected[_ngcontent-%COMP%]{background-color:#000!important;color:#fff}.mat-icon[_ngcontent-%COMP%]{font-size:17px;color:#0a62b9}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#fff!important}.carousel-card[_ngcontent-%COMP%]{border-radius:8px}.mat-field[_ngcontent-%COMP%]{border-right:1px solid grey}.search-btn[_ngcontent-%COMP%]{padding:12px 10px;width:100%;background-color:#0a62b9;color:#fff}.location-name[_ngcontent-%COMP%]{height:98px;overflow-y:scroll}.locations[_ngcontent-%COMP%]{font-size:12px}.location-sub-text[_ngcontent-%COMP%]{font-size:9px}.ok-btn[_ngcontent-%COMP%]{background:#0a62b9;color:#fff;border:1px solid #0a62b9;padding:2px 12px;border-radius:4px;font-size:12px}.ok-btn1[_ngcontent-%COMP%]{background:gray;color:#fff;border:1px solid gray;padding:2px 12px;border-radius:4px;font-size:12px}.fa-star[_ngcontent-%COMP%]:before{color:#ecc700}label[_ngcontent-%COMP%]{font-size:13px}.carousel-item[_ngcontent-%COMP%]:before{background-color:#00000080!important;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{border-radius:8px}.logo-text[_ngcontent-%COMP%]{font-size:30px}.sub-body[_ngcontent-%COMP%]{position:relative;margin-top:-27px;padding:0 30px}.sub-body1[_ngcontent-%COMP%], .sub-body2[_ngcontent-%COMP%]{padding:0 30px}.card-content[_ngcontent-%COMP%]{text-indent:15px;font-size:11px}.card-body[_ngcontent-%COMP%]{border-radius:13px}[_nghost-%COMP%]  .mat-form-field-underline{background-color:gray!important}[_nghost-%COMP%]  .mat-form-field-appearance-legacy .mat-form-field-underline{display:none!important}.card-img-part[_ngcontent-%COMP%]{border:1px solid white;border-radius:6px}.carousel-item[_ngcontent-%COMP%]{cursor:pointer;height:250px}.card-img[_ngcontent-%COMP%]{border-radius:6px}.food-img[_ngcontent-%COMP%]{height:50px;width:50px}.other-img[_ngcontent-%COMP%]{height:20px;width:20px}.filter-cards[_ngcontent-%COMP%]{position:absolute;z-index:1}.filter-card[_ngcontent-%COMP%]{position:absolute;z-index:1;width:24%!important}.choose-location[_ngcontent-%COMP%]{font-size:12px}.carousel-text[_ngcontent-%COMP%]{position:absolute;color:#fff;z-index:1;margin-top:160px;margin-left:45px;font-size:22px;font-weight:700;letter-spacing:1.8px}.back-btn[_ngcontent-%COMP%]{position:absolute;margin-top:8px;z-index:1;margin-left:10px}input[type=datetime-local][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{background-image:url(calender.f8e39c7e70507fa6.png)!important;content:none!important;opacity:1;cursor:pointer;display:block;border-width:thin;height:20px;width:20px}.main-div[_ngcontent-%COMP%]{border:1px solid #0c75dc;border-radius:6px}.food-img[_ngcontent-%COMP%]{height:50px!important;width:50px!important}.food-type[_ngcontent-%COMP%]{color:#0a62b9}.food-cost[_ngcontent-%COMP%]{color:#b6c9dc}.other-text[_ngcontent-%COMP%]{font-size:10px;color:#0a62b9}.other-sub-text[_ngcontent-%COMP%]{color:#0a62b9}.other-img[_ngcontent-%COMP%]{height:20px!important;width:20px!important}.spl-req-text[_ngcontent-%COMP%]{font-size:13px}.req-btn[_ngcontent-%COMP%]{color:#fff;background-color:#0a62b9;font-size:13px}[_nghost-%COMP%]  .mat-checkbox-inner-container{height:15px!important;width:15px!important}input[type=datetime-local][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{background-image:url(/assets/images/calender.png)!important;content:none!important;opacity:1;display:block;border-width:thin;height:20px;width:20px}[_ngcontent-%COMP%]::-webkit-datetimelocal-edit-year-field:not([aria-valuenow]), [_ngcontent-%COMP%]::-webkit-datetimelocal-edit-month-field:not([aria-valuenow]), [_ngcontent-%COMP%]::-webkit-datetimelocal-edit-day-field:not([aria-valuenow]){color:transparent}.mat-input-element[type=date][_ngcontent-%COMP%], .mat-input-element[type=datetime][_ngcontent-%COMP%], .mat-input-element[type=datetime-local][_ngcontent-%COMP%], .mat-input-element[type=month][_ngcontent-%COMP%], .mat-input-element[type=week][_ngcontent-%COMP%], .mat-input-element[type=time][_ngcontent-%COMP%]{font-size:13px}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#a1a1a1!important}.border-danger[_ngcontent-%COMP%]{border-color:#f44336!important}mat-error[_ngcontent-%COMP%]{font-size:8px}input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{font-size:10px;color:#0a62b9;background-color:#fff;border:2px solid #0a62b9;border-radius:.4em;margin-top:2px;cursor:pointer}input[type=file][_ngcontent-%COMP%]::file-selector-button{font-size:10px;color:#0a62b9;background-color:#fff;border:2px solid #0a62b9;border-radius:.4em;margin-top:2px;cursor:pointer}.food-selected[_ngcontent-%COMP%]{background-color:#0a62b9;color:#fff}.carousel-cards[_ngcontent-%COMP%]{position:relative;height:100%;overflow:hidden;overflow-y:scroll;padding-bottom:120px}[_nghost-%COMP%]  .mat-chip.mat-standard-chip.mat-chip-selected.mat-primary{background-color:#0a62b9!important;color:#fff!important;border:none!important}[_nghost-%COMP%]  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#0a62b9}"]}),n})();var ml=C(6156);const ul=["closeBtn"],pl=["resetBtn"];function gl(n,l){1&n&&(t.TgZ(0,"div",16),t._UZ(1,"mat-spinner"),t.qZA())}function _l(n,l){if(1&n&&(t.TgZ(0,"div",63)(1,"mat-icon",64),t._uU(2),t.qZA()()),2&n){const e=l.$implicit;t.xp6(2),t.hij("",null!=e&&e.filled?"star":"star_border"," ")}}function fl(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Single Rooms Counts are Required"),t.qZA())}function hl(n,l){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw().index,o=t.oxw();t.xp6(1),t.Oqu("Only "+(null==o.selectedHotels[e]?null:o.selectedHotels[e].total_single_rooms)+" Single Rooms are available")}}function vl(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Double Rooms Counts are Required"),t.qZA())}function Cl(n,l){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw().index,o=t.oxw();t.xp6(1),t.Oqu("Only "+(null==o.selectedHotels[e]?null:o.selectedHotels[e].total_double_rooms)+" Double Rooms are available")}}function bl(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Accessible Rooms Counts are Required"),t.qZA())}function xl(n,l){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw().index,o=t.oxw();t.xp6(1),t.Oqu("Only "+(null==o.selectedHotels[e]?null:o.selectedHotels[e].total_accessible_rooms)+" Accessible Rooms are available")}}function yl(n,l){1&n&&(t.TgZ(0,"mat-error",46),t._uU(1," Check In Details are Required"),t.qZA())}function Zl(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Check In Time should be greater than Current Time "),t.qZA())}function Tl(n,l){1&n&&(t.TgZ(0,"mat-error",46),t._uU(1," Check Out Details are Required"),t.qZA())}function Al(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Check Out Time should be greater than Check In Time "),t.qZA())}function wl(n,l){1&n&&(t.TgZ(0,"mat-error",46),t._uU(1," Next Flight Departure Details are Required"),t.qZA())}function ql(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Next Flight Time should be greater than Check Out Time "),t.qZA())}function kl(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"input",65),t.NdJ("change",function(i){t.CHM(e);const r=t.oxw().index,s=t.oxw();return s.uploadLOCs(i,s.getCreateLayoverFormControls(r).get("fileIndex").value)}),t.qZA()}}function Ol(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"label",21),t._uU(5),t.qZA()(),t.TgZ(6,"div",22)(7,"div",20)(8,"div",23),t.YNc(9,_l,3,1,"div",24),t.qZA()()()(),t.TgZ(10,"div",19)(11,"div",25)(12,"label",26),t._uU(13,"Single Rooms"),t.qZA(),t.TgZ(14,"div")(15,"mat-form-field",27)(16,"input",28),t.NdJ("keydown",function(i){return t.CHM(e),t.oxw().layoverService.isValidPhoneNumber(i)}),t.qZA(),t.YNc(17,fl,2,0,"mat-error",29),t.YNc(18,hl,2,1,"mat-error",29),t.qZA()()(),t.TgZ(19,"div",25)(20,"label",26),t._uU(21,"Double Rooms"),t.qZA(),t.TgZ(22,"div")(23,"mat-form-field",27)(24,"input",30),t.NdJ("keydown",function(i){return t.CHM(e),t.oxw().layoverService.isValidPhoneNumber(i)}),t.qZA(),t.YNc(25,vl,2,0,"mat-error",29),t.YNc(26,Cl,2,1,"mat-error",29),t.qZA()()(),t.TgZ(27,"div",25)(28,"label",26),t._uU(29,"Accessible Rooms"),t.qZA(),t.TgZ(30,"div")(31,"mat-form-field",27)(32,"input",31),t.NdJ("keydown",function(i){return t.CHM(e),t.oxw().layoverService.isValidPhoneNumber(i)}),t.qZA(),t.YNc(33,bl,2,0,"mat-error",29),t.YNc(34,xl,2,1,"mat-error",29),t.qZA()()()(),t.TgZ(35,"div",19)(36,"div",32)(37,"div",33),t.NdJ("click",function(){const r=t.CHM(e).index;return t.oxw().selectFood(r,"breakfast")}),t.TgZ(38,"div",34),t._UZ(39,"img",35),t.qZA(),t.TgZ(40,"div",36)(41,"div")(42,"span",37),t._uU(43,"Breakfast"),t.qZA()(),t._UZ(44,"hr",38),t.TgZ(45,"div"),t._uU(46),t._UZ(47,"mat-checkbox",39),t.qZA()()()(),t.TgZ(48,"div",40)(49,"div",33),t.NdJ("click",function(){const r=t.CHM(e).index;return t.oxw().selectFood(r,"lunch")}),t.TgZ(50,"div",34),t._UZ(51,"img",35),t.qZA(),t.TgZ(52,"div",36)(53,"div"),t._UZ(54,"span"),t._uU(55," Lunch "),t.qZA(),t._UZ(56,"hr",38),t.TgZ(57,"div"),t._uU(58),t._UZ(59,"mat-checkbox",41),t.qZA()()()(),t.TgZ(60,"div",40)(61,"div",33),t.NdJ("click",function(){const r=t.CHM(e).index;return t.oxw().selectFood(r,"dinner")}),t.TgZ(62,"div",34),t._UZ(63,"img",35),t.qZA(),t.TgZ(64,"div",36)(65,"div"),t._uU(66," Dinner "),t.qZA(),t._UZ(67,"hr",38),t.TgZ(68,"div"),t._uU(69),t._UZ(70,"mat-checkbox",42),t.qZA()()()(),t.TgZ(71,"div",22)(72,"div",33),t.NdJ("click",function(){const r=t.CHM(e).index;return t.oxw().selectFood(r,"beverage")}),t.TgZ(73,"div",34),t._UZ(74,"img",35),t.qZA(),t.TgZ(75,"div",36)(76,"div"),t._uU(77," Beverage "),t.qZA(),t._UZ(78,"hr",38),t.TgZ(79,"div"),t._uU(80),t._UZ(81,"mat-checkbox",43),t.qZA()()()()(),t.TgZ(82,"div",19)(83,"div",32)(84,"div",44)(85,"div",45)(86,"div",46)(87,"label",47),t._uU(88,"Check In Date & Time"),t.qZA(),t.TgZ(89,"app-date-time-picker",48),t.NdJ("ngModelChange",function(){const r=t.CHM(e).index;return t.oxw().checkInValidation(r)}),t.qZA()()()(),t.YNc(90,yl,2,0,"mat-error",49),t.YNc(91,Zl,2,0,"mat-error",29),t.qZA(),t.TgZ(92,"div",40)(93,"div",44)(94,"div",45)(95,"div",46)(96,"label",47),t._uU(97,"Check Out Date & Time"),t.qZA(),t.TgZ(98,"app-date-time-picker",50),t.NdJ("ngModelChange",function(){const r=t.CHM(e).index;return t.oxw().checkOutValidation(r)}),t.qZA()()()(),t.YNc(99,Tl,2,0,"mat-error",49),t.YNc(100,Al,2,0,"mat-error",29),t.qZA(),t.TgZ(101,"div",40)(102,"div",44)(103,"div",45)(104,"div",46)(105,"label",47),t._uU(106,"Next Flight Departure"),t.qZA(),t.TgZ(107,"app-date-time-picker",51),t.NdJ("ngModelChange",function(){const r=t.CHM(e).index;return t.oxw().nextFlightVaqlidation(r)}),t.qZA()()()(),t.YNc(108,wl,2,0,"mat-error",49),t.YNc(109,ql,2,0,"mat-error",29),t.qZA(),t.TgZ(110,"div",22)(111,"div",52)(112,"div",53)(113,"label",54),t._uU(114,"Upload LOC"),t.qZA(),t._UZ(115,"img",55),t.qZA(),t.TgZ(116,"div",56),t.YNc(117,kl,1,0,"input",57),t.qZA()(),t.TgZ(118,"mat-checkbox",58),t._uU(119,"Upload Existing LOC"),t.qZA()()(),t.TgZ(120,"div",59)(121,"div",25)(122,"label",60),t._uU(123,"Special Request"),t.qZA(),t.TgZ(124,"div"),t._UZ(125,"input",61),t.qZA()()()(),t._UZ(126,"hr",62),t.qZA()}if(2&n){const e=l.index,o=t.oxw();let i,r,s,c,d,u,m,g,f,_,b,T,h,Z,A;t.xp6(1),t.Q6J("formGroupName",e),t.xp6(4),t.Oqu(null==o.selectedHotels[e]?null:o.selectedHotels[e].hotel_name),t.xp6(4),t.Q6J("ngForOf",o.hotelStarsConvert(o.selectedHotels[e].hotel_stars)),t.xp6(8),t.Q6J("ngIf",null==(i=o.getCreateLayoverFormControls(e).get("singleRoom"))||null==i.errors?null:i.errors.required),t.xp6(1),t.Q6J("ngIf",null==(r=o.getCreateLayoverFormControls(e).get("singleRoom"))||null==r.errors?null:r.errors.max),t.xp6(7),t.Q6J("ngIf",null==(s=o.getCreateLayoverFormControls(e).get("doubleRoom"))||null==s.errors?null:s.errors.required),t.xp6(1),t.Q6J("ngIf",null==(c=o.getCreateLayoverFormControls(e).get("doubleRoom"))||null==c.errors?null:c.errors.max),t.xp6(7),t.Q6J("ngIf",null==(d=o.getCreateLayoverFormControls(e).get("accessibleRoom"))||null==d.errors?null:d.errors.required),t.xp6(1),t.Q6J("ngIf",null==(u=o.getCreateLayoverFormControls(e).get("accessibleRoom"))||null==u.errors?null:u.errors.max),t.xp6(3),t.Q6J("ngClass",o.getCreateLayoverFormControls(e).get("breakfast").value?"food-selected":""),t.xp6(2),t.Q6J("src",o.getCreateLayoverFormControls(e).get("breakfast").value?"/assets/images/airlines-coffee-active.png":"/assets/images/airlines-coffee.png",t.LSH),t.xp6(1),t.Q6J("ngClass",o.getCreateLayoverFormControls(e).get("breakfast").value?"text-white":"text-color-primary"),t.xp6(6),t.hij(" + \u20ac",o.getCreateLayoverFormControls(e).get("breakfastPrice").value," "),t.xp6(3),t.Q6J("ngClass",o.getCreateLayoverFormControls(e).get("lunch").value?"food-selected":""),t.xp6(2),t.Q6J("src",o.getCreateLayoverFormControls(e).get("lunch").value?"/assets/images/airline-food-active.png":"/assets/images/airline-food.png",t.LSH),t.xp6(1),t.Q6J("ngClass",o.getCreateLayoverFormControls(e).get("lunch").value?"text-white":"text-color-primary"),t.xp6(6),t.hij(" + \u20ac",o.getCreateLayoverFormControls(e).get("lunchPrice").value," "),t.xp6(3),t.Q6J("ngClass",o.getCreateLayoverFormControls(e).get("dinner").value?"food-selected":""),t.xp6(2),t.Q6J("src",o.getCreateLayoverFormControls(e).get("dinner").value?"/assets/images/airlines-restaurant-active.png":"/assets/images/airlines-restaurant.png",t.LSH),t.xp6(1),t.Q6J("ngClass",o.getCreateLayoverFormControls(e).get("dinner").value?"text-white":"text-color-primary"),t.xp6(5),t.hij(" + \u20ac",o.getCreateLayoverFormControls(e).get("dinnerPrice").value," "),t.xp6(3),t.Q6J("ngClass",o.getCreateLayoverFormControls(e).get("beverage").value?"food-selected":""),t.xp6(2),t.Q6J("src",o.getCreateLayoverFormControls(e).get("beverage").value?"/assets/images/airlines-cheers-active.png":"/assets/images/airlines-cheers.png",t.LSH),t.xp6(1),t.Q6J("ngClass",o.getCreateLayoverFormControls(e).get("beverage").value?"text-white":"text-color-primary"),t.xp6(5),t.hij(" + \u20ac",o.getCreateLayoverFormControls(e).get("beveragePrice").value," "),t.xp6(4),t.Q6J("ngClass",null!=(m=o.getCreateLayoverFormControls(e).get("checkintime"))&&m.touched&&(null!=(m=o.getCreateLayoverFormControls(e).get("checkintime"))&&null!=m.errors&&m.errors.required||null!=(m=o.getCreateLayoverFormControls(e).get("checkintime"))&&null!=m.errors&&m.errors.minDate)?"border border-danger rounded border-2":"main-div"),t.xp6(5),t.Q6J("min",o.today),t.xp6(1),t.Q6J("ngIf",o.getCreateLayoverFormControls(e).get("checkintime").invalid&&(null==(g=o.getCreateLayoverFormControls(e).get("checkintime"))?null:g.touched)&&(null==(g=o.getCreateLayoverFormControls(e).get("checkintime"))||null==g.errors?null:g.errors.required)),t.xp6(1),t.Q6J("ngIf",o.getCreateLayoverFormControls(e).get("checkintime").invalid&&(null==(f=o.getCreateLayoverFormControls(e).get("checkintime"))?null:f.touched)&&(null==(f=o.getCreateLayoverFormControls(e).get("checkintime"))||null==f.errors?null:f.errors.minDate)),t.xp6(2),t.Q6J("ngClass",null!=(_=o.getCreateLayoverFormControls(e).get("checkouttime"))&&_.touched&&(null!=(_=o.getCreateLayoverFormControls(e).get("checkouttime"))&&null!=_.errors&&_.errors.required||null!=(_=o.getCreateLayoverFormControls(e).get("checkouttime"))&&null!=_.errors&&_.errors.minDate)?"border border-danger rounded border-2":"main-div"),t.xp6(5),t.Q6J("min",o.getCreateLayoverFormControls(e).get("checkintime").value?o.getCreateLayoverFormControls(e).get("checkintime").value:o.today),t.xp6(1),t.Q6J("ngIf",o.getCreateLayoverFormControls(e).get("checkouttime").invalid&&(null==(b=o.getCreateLayoverFormControls(e).get("checkouttime"))?null:b.touched)&&(null==(b=o.getCreateLayoverFormControls(e).get("checkouttime"))||null==b.errors?null:b.errors.required)),t.xp6(1),t.Q6J("ngIf",o.getCreateLayoverFormControls(e).get("checkouttime").invalid&&(null==(T=o.getCreateLayoverFormControls(e).get("checkouttime"))?null:T.touched)&&(null==(T=o.getCreateLayoverFormControls(e).get("checkouttime"))||null==T.errors?null:T.errors.minDate)),t.xp6(2),t.Q6J("ngClass",null!=(h=o.getCreateLayoverFormControls(e).get("nextflight"))&&h.touched&&(null!=(h=o.getCreateLayoverFormControls(e).get("nextflight"))&&null!=h.errors&&h.errors.required||null!=(h=o.getCreateLayoverFormControls(e).get("nextflight"))&&null!=h.errors&&h.errors.minDate)?"border border-danger rounded border-2":"main-div"),t.xp6(5),t.Q6J("min",o.getCreateLayoverFormControls(e).get("checkouttime").value?o.getCreateLayoverFormControls(e).get("checkouttime").value:o.today),t.xp6(1),t.Q6J("ngIf",o.getCreateLayoverFormControls(e).get("nextflight").invalid&&(null==(Z=o.getCreateLayoverFormControls(e).get("nextflight"))?null:Z.touched)&&(null==(Z=o.getCreateLayoverFormControls(e).get("nextflight"))||null==Z.errors?null:Z.errors.required)),t.xp6(1),t.Q6J("ngIf",o.getCreateLayoverFormControls(e).get("nextflight").invalid&&(null==(A=o.getCreateLayoverFormControls(e).get("nextflight"))?null:A.touched)&&(null==(A=o.getCreateLayoverFormControls(e).get("nextflight"))||null==A.errors?null:A.errors.minDate)),t.xp6(8),t.Q6J("ngIf",!o.getCreateLayoverFormControls(e).get("uploadExistingLOC").value)}}const Ll=function(){return{cursor:"not-allowed"}},Sl=function(){return{cursor:"pointer"}};let Pl=(()=>{class n{constructor(e,o,i,r){this.fb=e,this.toastr=o,this.layoverService=i,this.cdk=r,this.today=new Date,this.locsFileList=[],this.allFoods=[],this.listOfSelectedHotels=[],this.listOfSelectedEmitter=new t.vpe,this.HotelInfoEvent=new t.vpe,this.isLoading=!1,this.foods=[],this.others=[{title:"Check In Date & Time",itemImg:"/assets/images/calender.png"},{title:"Check In Date & Time",itemImg:"/assets/images/calender.png"},{title:"Next Flight Departure",itemImg:"/assets/images/cor-plane.png"},{title:"Upload LOC",itemImg:"/assets/images/cor-plane.png"}],this.createLayoverForm=this.fb.group({requestArray:this.fb.array([])})}ngOnChanges(){var e;this.selectedHotels=this.listOfSelectedHotels,this.requestArray.controls=[],null===(e=this.selectedHotels)||void 0===e||e.forEach((o,i)=>{var r,s,c,d,u;null===(s=null===(r=this.requestArray)||void 0===r?void 0:r.controls)||void 0===s||s.push(this.fb.group({singleRoom:this.fb.control("",[a.kI.required,a.kI.max(null===(c=this.selectedHotels[i])||void 0===c?void 0:c.total_single_rooms)]),doubleRoom:this.fb.control("",[a.kI.required,a.kI.max(null===(d=this.selectedHotels[i])||void 0===d?void 0:d.total_double_rooms)]),accessibleRoom:this.fb.control("",[a.kI.required,a.kI.max(null===(u=this.selectedHotels[i])||void 0===u?void 0:u.total_accessible_rooms)]),breakfast:this.fb.control(!1),lunch:this.fb.control(!1),dinner:this.fb.control(!1),beverage:this.fb.control(!1),breakfastPrice:this.fb.control(null==o?void 0:o.breakfastPrice),lunchPrice:this.fb.control(null==o?void 0:o.lunchPrice),dinnerPrice:this.fb.control(null==o?void 0:o.dinnerPrice),beveragePrice:this.fb.control(null==o?void 0:o.beveragePrice),checkintime:this.fb.control("",[a.kI.required]),checkouttime:this.fb.control("",[a.kI.required]),nextflight:this.fb.control("",[a.kI.required]),fileIndex:this.fb.control(i),locFile:this.fb.control(File),uploadExistingLOC:this.fb.control(!1),generalLOC:this.fb.control(""),special_request:this.fb.control("")}))})}ngOnInit(){this.cdk.detectChanges()}checkInValidation(e){var o,i,r,s;this.getCreateLayoverFormControls(e).get("checkintime").markAsTouched(),this.getCreateLayoverFormControls(e).get("checkintime").updateValueAndValidity(),(null===(o=new Date(this.getCreateLayoverFormControls(e).get("checkintime").value))||void 0===o?void 0:o.getFullYear())===+(new Date).getFullYear()&&(null===(i=new Date(this.getCreateLayoverFormControls(e).get("checkintime").value))||void 0===i?void 0:i.getMonth())===(new Date).getMonth()&&(null===(r=new Date(this.getCreateLayoverFormControls(e).get("checkintime").value))||void 0===r?void 0:r.getDate())===(new Date).getDate()&&(null===(s=new Date(new Date(this.getCreateLayoverFormControls(e).get("checkintime").value).setSeconds(0)))||void 0===s?void 0:s.getTime())<=+new Date((new Date).setSeconds(0)).getTime()?this.getCreateLayoverFormControls(e).get("checkintime").setErrors({minDate:!0}):this.getCreateLayoverFormControls(e).get("checkintime").setErrors(null)}checkOutValidation(e){var o,i,r,s,c,d,u,m;this.getCreateLayoverFormControls(e).get("checkouttime").markAsTouched(),this.getCreateLayoverFormControls(e).get("checkouttime").updateValueAndValidity(),(null===(i=new Date(null===(o=this.getCreateLayoverFormControls(e).get("checkouttime"))||void 0===o?void 0:o.value))||void 0===i?void 0:i.getFullYear())===new Date(this.getCreateLayoverFormControls(e).get("checkintime").value).getFullYear()&&(null===(s=new Date(null===(r=this.getCreateLayoverFormControls(e).get("checkouttime"))||void 0===r?void 0:r.value))||void 0===s?void 0:s.getMonth())===new Date(this.getCreateLayoverFormControls(e).get("checkintime").value).getMonth()&&(null===(d=new Date(null===(c=this.getCreateLayoverFormControls(e).get("checkouttime"))||void 0===c?void 0:c.value))||void 0===d?void 0:d.getDate())===new Date(this.getCreateLayoverFormControls(e).get("checkintime").value).getDate()&&(null===(m=new Date(new Date(null===(u=this.getCreateLayoverFormControls(e).get("checkouttime"))||void 0===u?void 0:u.value).setSeconds(0)))||void 0===m?void 0:m.getTime())<=new Date(new Date(this.getCreateLayoverFormControls(e).get("checkintime").value)).getTime()?this.getCreateLayoverFormControls(e).get("checkouttime").setErrors({minDate:!0}):this.getCreateLayoverFormControls(e).get("checkouttime").setErrors(null)}nextFlightVaqlidation(e){var o,i,r,s,c,d,u,m;this.getCreateLayoverFormControls(e).get("nextflight").markAsTouched(),this.getCreateLayoverFormControls(e).get("nextflight").updateValueAndValidity(),(null===(i=new Date(null===(o=this.getCreateLayoverFormControls(e).get("nextflight"))||void 0===o?void 0:o.value))||void 0===i?void 0:i.getFullYear())===new Date(this.getCreateLayoverFormControls(e).get("checkouttime").value).getFullYear()&&(null===(s=new Date(null===(r=this.getCreateLayoverFormControls(e).get("nextflight"))||void 0===r?void 0:r.value))||void 0===s?void 0:s.getMonth())===new Date(this.getCreateLayoverFormControls(e).get("checkouttime").value).getMonth()&&(null===(d=new Date(null===(c=this.getCreateLayoverFormControls(e).get("nextflight"))||void 0===c?void 0:c.value))||void 0===d?void 0:d.getDate())===new Date(this.getCreateLayoverFormControls(e).get("checkouttime").value).getDate()&&(null===(m=new Date(new Date(null===(u=this.getCreateLayoverFormControls(e).get("nextflight"))||void 0===u?void 0:u.value).setSeconds(0)))||void 0===m?void 0:m.getTime())<=new Date(new Date(this.getCreateLayoverFormControls(e).get("checkouttime").value).setSeconds(0)).getTime()?this.getCreateLayoverFormControls(e).get("nextflight").setErrors({minDate:!0}):this.getCreateLayoverFormControls(e).get("nextflight").setErrors(null)}ngAfterViewInit(){}get requestArray(){return this.createLayoverForm.get("requestArray")}selectFood(e,o){this.getCreateLayoverFormControls(e).get(o).patchValue(!this.getCreateLayoverFormControls(e).get(o).value)}closeModal(){var e=this;return(0,$.Z)(function*(){e.listOfSelectedEmitter.emit(),e.HotelInfo=e.HotelInfo.map(o=>Object.assign(Object.assign({},o),{selected:!1})),yield e.HotelInfoEvent.emit(e.HotelInfo),e.requestArray.controls=[]})()}uploadLOCs(e,o){this.locsFileList=[];let i=this.getCreateLayoverFormControls(o),r=e.target.files.item(0);r=this.fileTest(r),r?(i.patchValue({locFile:r}),this.createLayoverForm.updateValueAndValidity(),this.createLayoverForm.get("requestArray").controls.forEach(s=>this.locsFileList.push(s.get("locFile").value))):e.target.value=null}fileTest(e){return e&&e.type.includes("pdf")&&e.size<5e6?e:e&&e.type.includes("pdf")&&e.size>5e6?(this.toastr.error("File size should be less than 5 MB"),null):(this.toastr.error("Only PDF's file are allowed"),null)}hotelStarsConvert(e){return this.hotelStars=[{filled:!1},{filled:!1},{filled:!1},{filled:!1},{filled:!1}],this.hotelStars.map((o,i)=>Object.assign(Object.assign({},o),e>i?{filled:!0}:{filled:!1}))}createLayover(e){if(e){let r=e.shift();this.locsFileList=this.locsFileList.map((s,c)=>(null==s?void 0:s.size)&&(null==s?void 0:s.size)>0?r:null)}let o=this.requestArray.controls.filter(r=>r.invalid);this.requestArray.controls.forEach((r,s)=>{var c,d,u,m;(null===(c=null==r?void 0:r.controls.uploadExistingLOC)||void 0===c?void 0:c.value)&&(null===(d=null==r?void 0:r.controls.generalLOC)||void 0===d?void 0:d.value)&&(this.locsFileList[s]=(null===(u=null==r?void 0:r.get("generalLOC"))||void 0===u?void 0:u.value)?null===(m=null==r?void 0:r.get("generalLOC"))||void 0===m?void 0:m.value:null)});let i=[];this.createLayoverForm.markAllAsTouched(),this.createLayoverForm.updateValueAndValidity(),this.createLayoverForm.get("requestArray").controls.forEach((r,s)=>{var c,d,u;r.valid&&0===o.length&&i.push({companyId:this.layoverService.getLocalStorageValue("companyId"),hotelDetailsId:null===(c=this.selectedHotels[s])||void 0===c?void 0:c.hotels_detail_id,layoverRequestId:0,requestedSingleRooms:+r.get("singleRoom").value,requestedDoubleRooms:+r.get("doubleRoom").value,requestedAccessibleRooms:+r.get("accessibleRoom").value,requestedCount:+r.get("singleRoom").value+ +r.get("doubleRoom").value+ +r.get("accessibleRoom").value,checkIntime:H(r.get("checkintime").value).format("DD-MM-YYYY HH:mm:ss"),checkOutTime:H(r.get("checkouttime").value).format("DD-MM-YYYY HH:mm:ss"),nextFlightDepTime:H(r.get("nextflight").value).format("DD-MM-YYYY HH:mm:ss"),requestedMeals:[r.get("breakfast").value?"BREAKFAST":null,r.get("lunch").value?"LUNCH":null,r.get("dinner").value?"DINNER":null,r.get("beverage").value?"BEVERAGES":null].filter(m=>m),specialRequest:r.get("special_request").value,locPath:this.locsFileList[s]?this.locsFileList[s]:null,flightNumber:null===(d=this.selectedHotels[s])||void 0===d?void 0:d.flightNumber,flag:null===(u=this.selectedHotels[s])||void 0===u?void 0:u.uploadExistingLOC})}),i.length>0&&(this.isLoading=!0,this.layoverService.createLayoverRequestByAirline(i).subscribe({next:r=>{this.isLoading=!1,this.toastr.success("Layover requested Successfully"),setTimeout(()=>{this.resetBtn.nativeElement.click(),this.closeBtn.nativeElement.click()},1e3)},error:r=>{var s;(null==r?void 0:r.error).isError?(this.isLoading=!1,this.toastr.error(null===(s=null==r?void 0:r.error)||void 0===s?void 0:s.message)):(this.isLoading=!1,this.toastr.error("Layover request failed"))}}))}uploadLOCForCreatingLayover(){var e=this;return(0,$.Z)(function*(){if(0===e.requestArray.controls.filter(i=>i.invalid).length&&e.locsFileList.length>0){let i=e.locsFileList.map(r=>(null==r?void 0:r.size)&&(null==r?void 0:r.size)>0?r:null);(yield e.layoverService.uploadLOCForCreatingLayover(i)).subscribe({next:r=>{(null==r?void 0:r.isError)||e.createLayover(null==r?void 0:r.data)},error:r=>{var s;(null==r?void 0:r.error).isError?e.toastr.error(null===(s=null==r?void 0:r.error)||void 0===s?void 0:s.message):e.toastr.error("Layover request failed")}})}else e.createLayover()})()}getCreateLayoverFormControls(e){return this.createLayoverForm.controls.requestArray.controls[e]}ngOnDestroy(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.qu),t.Y36(q._W),t.Y36(w.y),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-hotel-search-edit"]],viewQuery:function(e,o){if(1&e&&(t.Gf(ul,5),t.Gf(pl,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.closeBtn=i.first),t.iGM(i=t.CRH())&&(o.resetBtn=i.first)}},inputs:{listOfSelectedHotels:"listOfSelectedHotels",HotelInfo:"HotelInfo"},outputs:{listOfSelectedEmitter:"listOfSelectedEmitter",HotelInfoEvent:"HotelInfoEvent"},features:[t.TTD],decls:17,vars:7,consts:[[1,"container-fluid"],[1,"row"],["data-bs-backdrop","static","id","hotelSearchModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","requestModal",1,"modal-dialog","modal-lg"],["class","spinner-pos",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-content"],[1,"modal-header","border-0"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","shadow-none",2,"font-size","9px !important",3,"click"],["closeBtn",""],[1,"modal-body","py-0"],["class","container-fluid px-0","formArrayName","requestArray",4,"ngFor","ngForOf"],[1,"modal-footer","border-0","pt-1"],["type","reset",1,"d-none"],["resetBtn",""],["type","submit",1,"btn","req-btn","shadow-none",3,"disabled","ngStyle"],[1,"spinner-pos"],["formArrayName","requestArray",1,"container-fluid","px-0"],[3,"formGroupName"],[1,"row","mt-2","w-100","m-0"],[1,"col-md-auto"],[1,"mb-0","fw-bold","hotel-name"],[1,"col-md-3"],[1,"row","my-0"],["class","col-md-auto px-0","style","color: #DADADA;",4,"ngFor","ngForOf"],[1,"col"],[1,"mb-0","sub-text"],["appearance","standard"],["matInput","","type","number","placeholder","Type Here","formControlName","singleRoom",3,"keydown"],[4,"ngIf"],["matInput","","formControlName","doubleRoom","placeholder","Type Here","type","number",3,"keydown"],["matInput","","formControlName","accessibleRoom","placeholder","Type Here","type","number",3,"keydown"],[1,"col-md-3","px-0"],[1,"row","w-100","m-0","main-div","cursor-pointer",3,"ngClass","click"],[1,"col-md-auto","pe-0"],["alt","",1,"food-img",3,"src"],[1,"col","fw-bold","pe-0",3,"ngClass"],[2,"font-size","19px"],[1,"my-0","food-cost"],["formControlName","breakfast",1,"float-end","pe-2","d-none"],[1,"col-md-3","pe-0"],["formControlName","lunch",1,"float-end","pe-2","d-none"],["formControlName","dinner",1,"float-end","pe-2","d-none"],["formControlName","beverage",1,"float-end","pe-2","d-none"],[1,"row","w-100","m-0",3,"ngClass"],[1,"col","fw-bold","px-2","food-type"],[1,""],[1,"text-color-primary"],["formControlName","checkintime",3,"min","ngModelChange"],["class","",4,"ngIf"],["formControlName","checkouttime",3,"min","ngModelChange"],["formControlName","nextflight",3,"min","ngModelChange"],[1,"main-div","w-100","m-0","p-2"],[1,"d-flex","justify-content-between"],["for","uploadLoc",1,"text-color-primary","fw-bold",2,"font-size","13px"],["src","/assets/images/file-upload.png","width","20px","height","20px","alt",""],[1,"d-block"],["id","uploadLoc","accept",".pdf","style","font-size: 10px ; width:100% ; cursor: pointer !important;","type","file",3,"change",4,"ngIf"],["formControlName","uploadExistingLOC",2,"font-size","10px"],[1,"row","mt-3"],[1,"mb-0","spl-req-text"],["matInput","","formControlName","special_request","placeholder","Type Here"],[1,"my-1"],[1,"col-md-auto","px-0",2,"color","#DADADA"],[1,"text-warning"],["id","uploadLoc","accept",".pdf","type","file",2,"font-size","10px","width","100%","cursor","pointer !important",3,"change"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,gl,2,0,"div",4),t.TgZ(5,"form",5),t.NdJ("ngSubmit",function(){return o.uploadLOCForCreatingLayover()}),t.TgZ(6,"div",6)(7,"div",7)(8,"button",8,9),t.NdJ("click",function(){return o.closeModal()}),t.qZA()(),t.TgZ(10,"div",10),t.YNc(11,Ol,127,38,"div",11),t.qZA(),t.TgZ(12,"div",12),t._UZ(13,"button",13,14),t.TgZ(15,"button",15),t._uU(16,"Request"),t.qZA()()()()()()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("formGroup",o.createLayoverForm),t.xp6(6),t.Q6J("ngForOf",o.requestArray.controls),t.xp6(4),t.Q6J("disabled",o.isLoading)("ngStyle",o.isLoading?t.DdM(5,Ll):t.DdM(6,Sl)))},directives:[v.O5,G.$g,a._Y,a.JL,a.sg,v.sg,a.CE,a.x0,E.Hw,y.KE,M.Nt,a.wV,a.Fj,a.JJ,a.u,y.TO,v.mk,R.oG,at.J,v.PC],styles:['[_nghost-%COMP%]  .mat-form-field-underline{background-color:#000!important}label[_ngcontent-%COMP%]{color:#707070}.fa-star[_ngcontent-%COMP%]:before{color:#ecc700}.hotel-name[_ngcontent-%COMP%]{color:#0a62b9}.sub-text[_ngcontent-%COMP%]{font-size:13px}.main-div[_ngcontent-%COMP%]{border:1px solid #0c75dc;border-radius:6px}.food-img[_ngcontent-%COMP%]{height:50px!important;width:50px!important}.food-type[_ngcontent-%COMP%]{color:#0a62b9}.food-cost[_ngcontent-%COMP%]{color:#b6c9dc}.other-text[_ngcontent-%COMP%]{font-size:10px;color:#0a62b9}.other-sub-text[_ngcontent-%COMP%]{color:#0a62b9}.other-img[_ngcontent-%COMP%]{height:20px!important;width:20px!important}.spl-req-text[_ngcontent-%COMP%]{font-size:13px}.req-btn[_ngcontent-%COMP%]{color:#fff;background-color:#0a62b9;font-size:13px}[_nghost-%COMP%]  .mat-checkbox-inner-container{height:15px!important;width:15px!important}input[type=datetime-local][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{background-image:url(calender.f8e39c7e70507fa6.png)!important;content:none!important;opacity:1;display:block;border-width:thin;cursor:pointer;height:20px;width:20px}[_ngcontent-%COMP%]::-webkit-datetimelocal-edit-year-field:not([aria-valuenow]), [_ngcontent-%COMP%]::-webkit-datetimelocal-edit-month-field:not([aria-valuenow]), [_ngcontent-%COMP%]::-webkit-datetimelocal-edit-day-field:not([aria-valuenow]){color:transparent}.mat-input-element[type=date][_ngcontent-%COMP%], .mat-input-element[type=datetime][_ngcontent-%COMP%], .mat-input-element[type=datetime-local][_ngcontent-%COMP%], .mat-input-element[type=month][_ngcontent-%COMP%], .mat-input-element[type=week][_ngcontent-%COMP%], .mat-input-element[type=time][_ngcontent-%COMP%]{font-size:13px}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#a1a1a1!important}input[type=datetime-local][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{background-image:url(/assets/images/calender.png)!important;content:none!important;color:#0000;opacity:1;display:block;border-width:thin;height:20px;width:20px;cursor:pointer}.border-danger[_ngcontent-%COMP%]{border-color:#f44336!important}mat-error[_ngcontent-%COMP%]{font-size:7px}input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{font-size:10px;color:#0a62b9;background-color:#fff;border:2px solid #0a62b9;cursor:pointer;border-radius:.4em;margin-top:2px}input[type=file][_ngcontent-%COMP%]::file-selector-button{font-size:10px;color:#0a62b9;background-color:#fff;border:2px solid #0a62b9;cursor:pointer;border-radius:.4em;margin-top:2px}.food-selected[_ngcontent-%COMP%]{background-color:#0a62b9;color:#fff}[_nghost-%COMP%]  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#0a62b9}label[_ngcontent-%COMP%]{font-size:13px}[_nghost-%COMP%]  mat-error{font-size:9px!important}[_nghost-%COMP%]  .btn-close{color:#fff!important}  .btn-close:hover{border-radius:50%!important;background-image:url(\'data:image/svg+xml;utf8,<svg stroke="white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M1.458 1.458l21.084 21.084m0-21.084L1.458 22.542" /></svg>\')!important;background-color:#b4b3b3!important}']}),n})();const Fl=["openRequests"],Ul=["acceptedRequests"],Ml=["layoverHistory"],Il=["billOrPayments"],Nl=["totalStats"],Jl=["createLayoverModal"],Dl=["capacitychipList"],Hl=["distancechipList"];function Ql(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Capacity is required"),t.qZA())}function Bl(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Location is required"),t.qZA())}function Yl(n,l){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Kilometers are required "),t.qZA())}function El(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip",51),t.NdJ("click",function(){const i=t.CHM(e),r=i.$implicit,s=i.index;return t.oxw(2).selectMatChip(r,s)}),t._uU(1),t.qZA()}if(2&n){const e=l.$implicit;t.xp6(1),t.hij(" ",e," ")}}function Rl(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",43)(1,"mat-chip-list",44,45),t.YNc(3,El,2,1,"mat-chip",46),t.qZA(),t.TgZ(4,"mat-form-field",47)(5,"input",48),t.NdJ("input",function(i){return t.CHM(e),t.oxw().selectMatChipsCapacity(i)})("keydown",function(i){return t.CHM(e),t.oxw().layoverService.isValidPhoneNumber(i)}),t.qZA()(),t.TgZ(6,"div",49)(7,"button",50),t.NdJ("click",function(){return t.CHM(e),t.oxw().closeCapacityCard()}),t._uU(8,"OK"),t.qZA()()()}if(2&n){const e=t.oxw();let o,i;t.xp6(3),t.Q6J("ngForOf",e.capicityCount),t.xp6(4),t.Q6J("ngClass",null!=e.findStaysForm&&null!=(o=e.findStaysForm.get("capacityInput"))&&o.value?"ok-btn":"ok-btn1")("disabled",!(null!=e.findStaysForm&&null!=(i=e.findStaysForm.get("capacityInput"))&&i.value))}}function zl(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",63),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).chooseLocation(r)}),t.TgZ(1,"div",64),t._uU(2),t.qZA(),t.TgZ(3,"div",65),t._uU(4),t.qZA(),t.TgZ(5,"div",66),t._uU(6),t.qZA(),t._UZ(7,"hr",67),t.qZA()}if(2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.place),t.xp6(2),t.hij(" ",null==e?null:e.distance," "),t.xp6(2),t.hij(" ",(null==e?null:e.description.length)>20?(null==e?null:e.description.substring(0,20))+"...":null==e?null:e.description," ")}}function jl(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",52)(1,"div",24)(2,"div",53)(3,"mat-icon"),t._uU(4,"my_location"),t.qZA()(),t.TgZ(5,"div",54),t._uU(6,"Choose Current Location"),t.qZA()(),t._UZ(7,"hr",55),t.TgZ(8,"div",56)(9,"mat-form-field",57),t._UZ(10,"input",58),t.qZA()(),t.TgZ(11,"div",59),t.YNc(12,zl,8,3,"div",60),t.qZA(),t.TgZ(13,"div",61)(14,"button",62),t.NdJ("click",function(){return t.CHM(e),t.oxw().closeLocationCard()}),t._uU(15,"OK"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(12),t.Q6J("ngForOf",e.locations)}}function Vl(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip",51),t.NdJ("click",function(){const i=t.CHM(e),r=i.$implicit,s=i.index;return t.oxw(2).selectMatChipForKM(r,s)}),t._uU(1),t.qZA()}if(2&n){const e=l.$implicit;t.xp6(1),t.hij(" ",e," ")}}function $l(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",68)(1,"mat-chip-list",44,69),t.YNc(3,Vl,2,1,"mat-chip",46),t.qZA(),t.TgZ(4,"mat-form-field",70)(5,"input",71),t.NdJ("input",function(i){return t.CHM(e),t.oxw().selectMatChipsKM(i)})("keydown",function(i){return t.CHM(e),t.oxw().layoverService.isValidDecimal(i)}),t.qZA()(),t.TgZ(6,"div",49)(7,"button",72),t.NdJ("click",function(){return t.CHM(e),t.oxw().closeKilometerCard()}),t._uU(8,"OK"),t.qZA()()()}if(2&n){const e=t.oxw();let o,i;t.xp6(3),t.Q6J("ngForOf",e.capicityCount),t.xp6(4),t.Q6J("ngClass",null!=e.findStaysForm&&null!=(o=e.findStaysForm.get("kilometersInput"))&&o.value?"ok-btn":"ok-btn1")("disabled",!(null!=e.findStaysForm&&null!=(i=e.findStaysForm.get("kilometersInput"))&&i.value))}}function Gl(n,l){1&n&&(t.TgZ(0,"div",73),t._UZ(1,"mat-spinner"),t.qZA())}function Wl(n,l){if(1&n&&t._UZ(0,"img",121),2&n){const e=t.oxw().$implicit;t.Q6J("src",e,t.LSH)}}function Kl(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",119),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw(2).viewHotel(i)}),t.YNc(1,Wl,1,1,"img",120),t.qZA()}if(2&n){const e=l.$implicit;t.Q6J("ngClass",0===l.index?"active":""),t.xp6(1),t.Q6J("ngIf",e)}}function Xl(n,l){if(1&n&&(t.ynx(0),t.YNc(1,Kl,2,2,"div",118),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.imgUrls)}}function ta(n,l){if(1&n&&(t.TgZ(0,"div",122)(1,"mat-icon",123),t._uU(2),t.qZA()()),2&n){const e=l.$implicit;t.xp6(2),t.hij("",null!=e&&e.filled?"star":"star_border"," ")}}function ea(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",77)(1,"mat-card",78)(2,"div",24)(3,"div",79)(4,"div",80)(5,"div",81),t.YNc(6,Xl,2,1,"ng-container",18),t.qZA(),t.TgZ(7,"button",82),t._UZ(8,"span",83),t.TgZ(9,"span",84),t._uU(10,"Previous"),t.qZA()(),t.TgZ(11,"button",85),t._UZ(12,"span",86),t.TgZ(13,"span",84),t._uU(14,"Next"),t.qZA()()()()(),t.TgZ(15,"div",24)(16,"div",87)(17,"div",88)(18,"div",89),t._uU(19),t.qZA()(),t.TgZ(20,"div",88)(21,"div",90),t.YNc(22,ta,3,1,"div",91),t.qZA()(),t.TgZ(23,"div",92),t._uU(24),t.qZA()(),t.TgZ(25,"div",93)(26,"div",24)(27,"button",94)(28,"p",95),t._uU(29),t.qZA(),t.TgZ(30,"p",96),t._uU(31,"Rooms Available"),t.qZA()()(),t.TgZ(32,"div",97)(33,"div",98)(34,"div",99)(35,"div"),t._UZ(36,"img",100),t.qZA(),t.TgZ(37,"div",101),t._uU(38),t.qZA()()(),t.TgZ(39,"div",102)(40,"div",99)(41,"div"),t._UZ(42,"img",103),t.qZA(),t.TgZ(43,"div",101),t._uU(44),t.qZA()()(),t.TgZ(45,"div",102)(46,"div",99)(47,"div"),t._UZ(48,"img",104),t.qZA(),t.TgZ(49,"div",105),t._uU(50),t.qZA()()()()()(),t.TgZ(51,"div",24)(52,"div",106)(53,"button",107)(54,"div",99)(55,"div"),t._UZ(56,"img",100),t.qZA(),t.TgZ(57,"div",108),t._uU(58),t.qZA(),t.TgZ(59,"div",109),t._uU(60," /Night "),t.qZA()()()(),t.TgZ(61,"div",106)(62,"button",107)(63,"div",99)(64,"div"),t._UZ(65,"img",103),t.qZA(),t.TgZ(66,"div",108),t._uU(67),t.qZA(),t.TgZ(68,"div",110),t._uU(69," /Night "),t.qZA()()()(),t.TgZ(70,"div",106)(71,"button",107)(72,"div",99)(73,"div"),t._UZ(74,"img",104),t.qZA(),t.TgZ(75,"div",108),t._uU(76),t.qZA(),t.TgZ(77,"div",110),t._uU(78," /Night "),t.qZA()()()()(),t.TgZ(79,"div",111)(80,"div",112)(81,"mat-checkbox",113),t.NdJ("change",function(i){const s=t.CHM(e).$implicit;return t.oxw(2).selectedHotels(s,i)}),t.qZA()(),t.TgZ(82,"div",114)(83,"button",115),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).selectedHotels(r,null)}),t._uU(84,"Select"),t.qZA(),t._UZ(85,"button",116,117),t.qZA()()()()}if(2&n){const e=l.$implicit,o=t.oxw(2);t.xp6(4),t.Q6J("id",e.id),t.xp6(2),t.Q6J("ngIf",o.isArray(e.imgUrls)&&e.imgUrls.length>0),t.xp6(1),t.uIk("data-bs-target","#"+e.id),t.xp6(4),t.uIk("data-bs-target","#"+e.id),t.xp6(7),t.Q6J("matTooltip",null==e?null:e.hotel_name),t.xp6(1),t.hij(" ",(null==e?null:e.hotel_name.length)>10?(null==e?null:e.hotel_name.substr(0,10))+"...":null==e?null:e.hotel_name," "),t.xp6(3),t.Q6J("ngForOf",o.hotelStarsConvert(e.hotel_stars)),t.xp6(1),t.Q6J("matTooltip",null==e?null:e.hotel_description),t.xp6(1),t.hij(" ",(null==e||null==e.hotel_description?null:e.hotel_description.length)>20?(null==e||null==e.hotel_description?null:e.hotel_description.substr(0,20))+"...":null==e?null:e.hotel_description," "),t.xp6(4),t.Q6J("matTooltip",null==e?null:e.total_rooms),t.xp6(1),t.Oqu(e.total_rooms),t.xp6(8),t.Q6J("matTooltip",null==e?null:e.total_single_rooms),t.xp6(1),t.hij(" ",null==e?null:e.total_single_rooms," "),t.xp6(5),t.Q6J("matTooltip",null==e?null:e.total_double_rooms),t.xp6(1),t.hij(" ",null==e?null:e.total_double_rooms," "),t.xp6(5),t.Q6J("matTooltip",null==e?null:e.total_accessible_rooms),t.xp6(1),t.hij(" ",null==e?null:e.total_accessible_rooms," "),t.xp6(7),t.Q6J("matTooltip",null==e?null:e.single_room_fare),t.xp6(1),t.hij(" \u20ac",null==e?null:e.single_room_fare.toLocaleString()," "),t.xp6(8),t.Q6J("matTooltip",null==e?null:e.double_room_fare),t.xp6(1),t.hij(" \u20ac",null==e?null:e.double_room_fare," "),t.xp6(8),t.Q6J("matTooltip",null==e?null:e.accessible_room_fare),t.xp6(1),t.hij(" \u20ac",null==e?null:e.accessible_room_fare," ")}}function oa(n,l){if(1&n&&(t.TgZ(0,"div",74)(1,"div",75),t.YNc(2,ea,87,23,"div",76),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.HotelInfo)}}function na(n,l){1&n&&t._UZ(0,"span",134)}function ia(n,l){1&n&&(t.TgZ(0,"div",135),t._UZ(1,"app-loader"),t.qZA())}function ra(n,l){if(1&n&&(t.TgZ(0,"h6",136),t._uU(1),t.qZA()),2&n){const e=t.oxw(),i=e.$implicit;t.uIk("data-bs-slide-to",e.index),t.xp6(1),t.hij(" ",null==i?null:i.count," ")}}function la(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",126),t.NdJ("click",function(){const r=t.CHM(e).index;return t.oxw(2).openBottom(r)}),t.TgZ(1,"div",127),t._UZ(2,"img",128),t.YNc(3,na,1,0,"span",129),t.TgZ(4,"div",130)(5,"h6",131),t._uU(6),t.qZA(),t.YNc(7,ia,2,0,"div",132),t.YNc(8,ra,2,2,"h6",133),t.qZA()()()}if(2&n){const e=l.$implicit,o=l.index,i=t.oxw(2);t.Q6J("ngClass",o!==i.carouselFooter.length-1?"border-space ":""),t.xp6(1),t.Q6J("ngClass",0===o?"active":""),t.xp6(1),t.Q6J("src",e.imgUrl,t.LSH),t.uIk("data-bs-slide-to",o),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.badgeFlag)&&(null==e?null:e.badgeCount)>0),t.xp6(2),t.uIk("data-bs-slide-to",o),t.xp6(1),t.hij(" ",null==e?null:e.title," "),t.xp6(1),t.Q6J("ngIf",i.footerCountLoading),t.xp6(1),t.Q6J("ngIf",!i.footerCountLoading)}}function aa(n,l){if(1&n&&(t.TgZ(0,"div",124),t.YNc(1,la,9,9,"div",125),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.carouselFooter)}}function sa(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",137)(1,"div",138)(2,"button",139),t.NdJ("click",function(){return t.CHM(e),t.oxw().requestingMultipleHotelsForLayover()}),t._uU(3,"Request"),t.qZA()()()}}function ca(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",140)(1,"div",24)(2,"div",13)(3,"h5",141),t._uU(4,"Open Requests"),t.qZA()(),t._UZ(5,"div",112),t.TgZ(6,"div",142)(7,"button",143),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return[r.dismiss("Cross click"),s.getOpenRequestCounts()]}),t.qZA()()()(),t.TgZ(8,"div",144),t._UZ(9,"app-open-requests"),t.qZA()}}function da(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",140)(1,"div",24)(2,"div",13)(3,"h5",141),t._uU(4,"Accepted Requests"),t.qZA()(),t._UZ(5,"div",112),t.TgZ(6,"div",142)(7,"button",143),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return[r.dismiss("Cross click"),s.getAcceptedRequestCounts()]}),t.qZA()()()(),t.TgZ(8,"div",144),t._UZ(9,"app-accepted-requests"),t.qZA()}}function ma(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",140)(1,"div",24)(2,"div",13)(3,"h5",141),t._uU(4,"Layover History"),t.qZA()(),t._UZ(5,"div",112),t.TgZ(6,"div",142)(7,"button",143),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.qZA()()()(),t.TgZ(8,"div",144),t._UZ(9,"app-layover-history"),t.qZA()}}function ua(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",140)(1,"div",24)(2,"div",13)(3,"h5",141),t._uU(4,"Bill & Payments"),t.qZA()(),t._UZ(5,"div",112),t.TgZ(6,"div",142)(7,"button",143),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return[r.dismiss("Cross click"),s.getBillPaymentsCounts()]}),t.qZA()()()(),t.TgZ(8,"div",144),t._UZ(9,"app-bill-or-payments"),t.qZA()}}function pa(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",145)(1,"h5",141),t._uU(2,"Total Stats"),t.qZA(),t.TgZ(3,"button",143),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.qZA()(),t.TgZ(4,"div",146),t._UZ(5,"app-total-stats"),t.qZA()}}const _a=[{path:"",component:Sr,canActivate:[j.a],data:{module:["airline","billinguser"]}},{path:"hotel-search",component:(()=>{class n{constructor(e,o,i,r,s,c,d){this.offcanvasService=e,this.fb=o,this.cdRef=i,this.router=r,this.layoverService=s,this.toastr=c,this.activatedRoute=d,this.capacityCard=!1,this.locationCard=!1,this.kilometerCard=!1,this.footerCountLoading=!1,this.capicityCount=[5,10,15,20,25,30],this.selectedIndex=0,this.HotelInfo=[],this.listOfSelectedHotels=[],this.separatorKeysCodes=[B.K5,B.OC],this.locations=[{place:"Frankfurt Airport",distance:"0.6 km",description:"Frankfurt Airport"}],this.allFruits=["","","","",""],this.registerBtnFlag=!1,this.acceptedCounts=0,this.openCounts=0,this.layoverHistoryCounts=0,this.billsPaymentsCounts=0,this.hotelsLoading=!1,this.hotelStars=[{filled:!1},{filled:!1},{filled:!1},{filled:!1},{filled:!1}],this.carouselFooter=[{title:"Open Requests",count:0,imgUrl:"/assets/images/cor-layover.png",isBillingUser:!1,badgeFlag:!0,badgeCount:0},{title:"Accepted Requests",count:0,imgUrl:"/assets/images/cor-layover.png",isBillingUser:!1,badgeFlag:!0,badgeCount:0},{title:"Layover History",count:0,imgUrl:"/assets/images/airline-footer-hotel.png",isBillingUser:!1,badgeFlag:!1},{title:"Bill & Payments",count:0,imgUrl:"/assets/images/airline-footer-bill.png",isBillingUser:!0,badgeFlag:!0,badgeCount:0},{title:"Total Stats",count:"",imgUrl:"/assets/images/airline-footer-pie-chart.png",isBillingUser:!1,badgeFlag:!1}],document.title="Layoverconnect | Airlines",d.queryParams.subscribe(u=>{let m=JSON.parse(null==u?void 0:u.search);this.findStaysForm=this.fb.group({flightNumber:[null==m?void 0:m.flightNumber],capacity:[null==m?void 0:m.capacity,[a.kI.required]],location:[null==m?void 0:m.location,[a.kI.required]],kilometers:[null==m?void 0:m.kilometers,a.kI.required],capacityInput:[null==m?void 0:m.capacityInput],kilometersInput:[null==m?void 0:m.kilometersInput]}),this.getAllHotelsOnSearchForAirline()})}isArray(e){return Array.isArray(e)}ngOnInit(){this.getAirlineDetails(),this.getAcceptedRequestCounts(),this.getOpenRequestCounts(),this.getLayoverHistoryCounts(),this.getBillPaymentsCounts()}getAirlineDetails(){this.layoverService.getAirportOrAirlineorExternalHandlingCompanyInfo().subscribe({next:e=>{!e.isError&&e.message&&(this.airlineDetails=e.data)},error:e=>{var o;(null==e?void 0:e.error).isError?this.toastr.error(null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message):this.toastr.error("Sorry, Something Went Wrong")}})}openBottom(e){0===e?this.openBottomOpenRequests(this.openRequests):1===e?this.openBottomAcceptedRequests(this.acceptedRequests):2===e?this.openBottomLayoverHistory(this.layoverHistory):3===e?this.openBottomBillPayments(this.billOrPayments):4===e&&this.openBottomTotalStats(this.totalStats)}openBottomOpenRequests(e){this.offcanvasService.open(e,{position:"bottom"})}openBottomAcceptedRequests(e){this.offcanvasService.open(e,{position:"bottom"})}openBottomLayoverHistory(e){this.offcanvasService.open(e,{position:"bottom"})}openBottomBillPayments(e){this.offcanvasService.open(e,{position:"bottom"})}openBottomTotalStats(e){this.offcanvasService.open(e,{position:"bottom"})}capacityCardDisplay(){this.capacityCard=!this.capacityCard,this.locationCard=!1,this.kilometerCard=!1}locationDisplay(){this.locationCard=!this.locationCard,this.kilometerCard=!1,this.capacityCard=!1}kilometerDisplay(){this.kilometerCard=!this.kilometerCard,this.locationCard=!1,this.capacityCard=!1}viewHotel(e){this.router.navigate(["airlines/hotel-search-view"],{queryParams:{detail:JSON.stringify(Object.assign(Object.assign({},e),this.findStaysForm.value))}})}selected(e){this.capicityCount.push(e.option.viewValue)}chooseLocation(e){this.findStaysForm.get("location").patchValue(e.place)}closeCapacityCard(){this.capacityCard=!this.capacityCard}closeKilometerCard(){this.kilometerCard=!this.kilometerCard}closeLocationCard(){this.locationCard=!this.locationCard}hotelStarsConvert(e){return this.hotelStars=[{filled:!1},{filled:!1},{filled:!1},{filled:!1},{filled:!1}],this.hotelStars.map((o,i)=>Object.assign(Object.assign({},o),e>i?{filled:!0}:{filled:!1}))}getAllHotelsOnSearchForAirline(){this.HotelInfo=[],this.findStaysForm.valid&&(this.hotelsLoading=!0,this.layoverService.getAllHotelsOnSearchForAirline(this.findStaysForm.get("capacity").value,this.findStaysForm.get("location").value,this.findStaysForm.get("kilometers").value).subscribe({next:e=>{e.data&&Array.isArray(e.data)&&e.data.length>0?(this.HotelInfo=null==e?void 0:e.data,this.hotelsLoading=!1,this.HotelInfo=this.HotelInfo.map((o,i)=>({id:`carouselExampleControls${i}`,hotel_name:null==o?void 0:o.hotelName,hotel_type:null==o?void 0:o.hotelStar,hotel_description:null==o?void 0:o.hotelDescription,total_rooms:o.totalRooms,total_single_rooms:null==o?void 0:o.singleRooms,total_double_rooms:null==o?void 0:o.doubleRooms,total_accessible_rooms:null==o?void 0:o.accessibleRooms,single_room_fare:null==o?void 0:o.singleRoomPrice,double_room_fare:null==o?void 0:o.doubleRoomPrice,accessible_room_fare:null==o?void 0:o.accessibleRoomPrice,imgUrls:o.hotelImages.length>0?o.hotelImages.map(r=>r.imagePath):["../../../assets/images/hotel-dummy.png"],selected:!1,hotels_detail_id:null==o?void 0:o.hotelDetailsId,hotel_stars:null==o?void 0:o.hotelStar,flightNumber:this.findStaysForm.get("flightNumber").value,breakfastPrice:null==o?void 0:o.breakfastPrice,lunchPrice:null==o?void 0:o.lunchPrice,dinnerPrice:null==o?void 0:o.dinnerPrice,beveragePrice:null==o?void 0:o.beveragePrice}))):(this.hotelsLoading=!1,this.toastr.error("No Data found"))},error:e=>{var o;(null==e?void 0:e.error).isError?(this.hotelsLoading=!1,this.toastr.error(null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message)):(this.hotelsLoading=!1,this.toastr.error("Sorry, Something Went Wrong"))}}),this.layoverService.getAirportOrAirlineorExternalHandlingCompanyInfo().subscribe({next:e=>{!e.isError&&e.message&&(this.airlineDetails=e.data,this.HotelInfo=this.HotelInfo.map(o=>Object.assign(Object.assign({},o),this.airlineDetails)))},error:e=>{var o;(null==e?void 0:e.error).isError?this.toastr.error(null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message):this.toastr.error("Sorry, Something Went Wrong")}}))}ngAfterViewInit(){var e,o,i,r,s,c;null===(i=null===(o=null===(e=this.findStaysForm)||void 0===e?void 0:e.get("capacityInput"))||void 0===o?void 0:o.valueChanges)||void 0===i||i.subscribe({next:d=>{this.findStaysForm.get("capacity").patchValue(d)}}),null===(c=null===(s=null===(r=this.findStaysForm)||void 0===r?void 0:r.get("kilometersInput"))||void 0===s?void 0:s.valueChanges)||void 0===c||c.subscribe({next:d=>{this.findStaysForm.get("kilometers").patchValue(d)}}),this.selectedIndex=0}toggleFlag(){this.registerBtnFlag=!this.registerBtnFlag}selectedHotels(e,o){o?(this.listOfSelectedHotels=[],o.checked?(e.selected=!0,this.listOfSelectedHotels=this.HotelInfo.filter(i=>i.selected)):o.checked||(e.selected=!1,this.listOfSelectedHotels=this.HotelInfo.filter(i=>i.selected))):o||(this.listOfSelectedHotels=[],e.selected=!0,this.listOfSelectedHotels.push(e),this.createLayoverModal.nativeElement.click())}requestingMultipleHotelsForLayover(){this.createLayoverModal.nativeElement.click()}resetData(e){this.HotelInfo=e,this.getAcceptedRequestCounts(),this.getOpenRequestCounts(),this.getLayoverHistoryCounts(),this.getBillPaymentsCounts()}getOpenRequestCounts(){const e={requestId:this.layoverService.getLocalStorageValue("companyId"),startDateTime:null,endDateTime:null};this.footerCountLoading=!0,this.layoverService.getAllOpenRequests(e).subscribe({next:o=>{var i;if(!o.isError&&o.message&&Array.isArray(o.data)&&o.data.length>0){this.openCounts=null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.length,this.carouselFooter[0].count=this.openCounts,this.footerCountLoading=!1;let r=o.data.filter(s=>!1===(null==s?void 0:s.companyNotify)&&!(null==s?void 0:s.status));this.carouselFooter[0].badgeCount=null==r?void 0:r.length}},error:o=>{(null==o?void 0:o.error).isError?this.footerCountLoading=!1:(this.footerCountLoading=!1,this.toastr.error("Sorry, Something Went Wrong"))}})}getAcceptedRequestCounts(){let e={requestId:this.layoverService.getLocalStorageValue("companyId")};this.footerCountLoading=!0,this.layoverService.acceptedRequestsAirlines(e).subscribe({next:o=>{var i;if(!o.isError&&o.message&&Array.isArray(o.data)&&o.data.length>0){this.acceptedCounts=null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.length,this.carouselFooter[1].count=this.acceptedCounts,this.footerCountLoading=!1;let r=o.data.filter(s=>{var c;return!1===(null==s?void 0:s.companyNotify)&&"accepted"===(null===(c=null==s?void 0:s.status)||void 0===c?void 0:c.toLowerCase())});this.carouselFooter[1].badgeCount=null==r?void 0:r.length}},error:o=>{(null==o?void 0:o.error).isError?this.footerCountLoading=!1:(this.footerCountLoading=!1,this.toastr.error("Sorry, Something Went Wrong"))}})}getLayoverHistoryCounts(){let e={requestId:this.layoverService.getLocalStorageValue("companyId")};this.footerCountLoading=!0,this.layoverService.layoverHistroyFetchAllRequestAirlines(e).subscribe({next:o=>{var i;!o.isError&&o.message&&Array.isArray(o.data)&&o.data.length>0&&(this.layoverHistoryCounts=null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.length,this.carouselFooter[2].count=this.layoverHistoryCounts,this.footerCountLoading=!1)},error:o=>{(null==o?void 0:o.error).isError?this.footerCountLoading=!1:(this.footerCountLoading=!1,this.toastr.error("Sorry, Something Went Wrong"))}})}getBillPaymentsCounts(){let e={requestId:this.layoverService.getLocalStorageValue("companyId")};this.footerCountLoading=!0,this.layoverService.getBillPaymentByAirline(e).subscribe({next:o=>{var i;!o.isError&&o.message&&Array.isArray(o.data)&&o.data.length>0&&(this.billsPaymentsCounts=null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.length,this.carouselFooter[3].count=this.billsPaymentsCounts,this.footerCountLoading=!1)},error:o=>{(null==o?void 0:o.error).isError?this.footerCountLoading=!1:(this.footerCountLoading=!1,this.toastr.error("Sorry, Something Went Wrong"))}})}selectMatChip(e,o){this.findStaysForm.get("capacityInput").patchValue(e),this.capacitychipList.chips.map((i,r)=>{o===r?i.select():i.deselect()})}selectMatChipForKM(e,o){this.findStaysForm.get("kilometersInput").patchValue(e),this.distancechipList.chips.map((i,r)=>{o===r?i.select():i.deselect()})}selectMatChipsKM(e){let o=this.capicityCount.indexOf(+e.target.value);this.distancechipList.chips.map((i,r)=>{o===r?i.select():i.deselect()})}selectMatChipsCapacity(e){let o=this.capicityCount.indexOf(+event.target.value);this.capacitychipList.chips.map((i,r)=>{o===r?i.select():i.deselect()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I._B),t.Y36(a.qu),t.Y36(t.sBO),t.Y36(L.F0),t.Y36(w.y),t.Y36(q._W),t.Y36(L.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-hotel-search"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Fl,5),t.Gf(Ul,5),t.Gf(Ml,5),t.Gf(Il,5),t.Gf(Nl,5),t.Gf(Jl,5),t.Gf(Dl,5),t.Gf(Hl,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.openRequests=i.first),t.iGM(i=t.CRH())&&(o.acceptedRequests=i.first),t.iGM(i=t.CRH())&&(o.layoverHistory=i.first),t.iGM(i=t.CRH())&&(o.billOrPayments=i.first),t.iGM(i=t.CRH())&&(o.totalStats=i.first),t.iGM(i=t.CRH())&&(o.createLayoverModal=i.first),t.iGM(i=t.CRH())&&(o.capacitychipList=i.first),t.iGM(i=t.CRH())&&(o.distancechipList=i.first)}},decls:64,vars:14,consts:[[1,"container-fluid","bg-img","h-100"],[1,"row","w-100","me-0","mb-3","justify-content-between"],[1,"col-lg-3","col-xl-4","row","mt-4"],[1,"col-md-1","text-end"],[1,"col-md-9"],[1,"cursor-pointer","d-block",2,"width","50px","height","50px",3,"src","click"],[1,"btn","mb-0","text-white","shadow-none","w-bold","bg-transparent","border-0","w-auto","ps-0",3,"click"],["aria-hidden","true",1,"fa","fa-chevron-left"],[1,"col-lg-9","col-xl-8","mt-3"],[3,"formGroup","ngSubmit"],[1,"carousel-body"],[1,"p-2","carousel-card"],[1,"row","px-1"],[1,"col-md-3"],[1,"mb-0"],["appearance","legacy","floatLabel","never",1,"mat-field"],["type","number","matInput","","placeholder","-- Select --","readonly","","formControlName","capacity","placement","bottom",1,"text-color-primary",3,"keydown"],["matSuffix","",1,"fas","fa-caret-down","fa-2x","mx-4","text-color-primary","cursor-pointer",3,"click"],[4,"ngIf"],["matInput","","placeholder","-- Select --","formControlName","location","readonly","","placement","bottom",1,"fw-bold","text-color-primary"],["appearance","legacy","floatLabel","never"],["matInput","","placeholder","-- Select --","formControlName","kilometers","readonly","","placement","bottom",1,"text-color-primary",3,"keydown"],[1,"col-md-3","my-auto"],["type","submit",1,"btn","shadow-none","search-btn"],[1,"row"],["class","mt-1 px-2 py-2 filter-cards",4,"ngIf"],["class","mt-1 px-2 filter-card",4,"ngIf"],["class","mt-1 px-2 filter-cards",4,"ngIf"],["class","spinner-pos",4,"ngIf"],["class","hotel-cards",4,"ngIf"],[1,"carousel-footer","px-0","border-radius","d-none","d-md-block","bg-white","w-90"],[1,"p-0"],["class","row w-100 m-0 justify-content-between",4,"ngIf"],["class","row justify-content-center p-3",4,"ngIf"],["class","h-90 bg-white rounded-top"],["openRequests",""],["class","h-90"],["acceptedRequests",""],["class","h-90 bg-white"],["layoverHistory",""],["billOrPayments",""],["totalStats",""],[3,"listOfSelectedHotels","HotelInfo","listOfSelectedEmitter","HotelInfoEvent"],[1,"mt-1","px-2","py-2","filter-cards"],["aria-label",""],["capacitychipList",""],["class","cursor-pointer",3,"click",4,"ngFor","ngForOf"],["appearance","outline",1,"mt-3"],["type","number","matInput","","placeholder","Enter The Capacity Here","formControlName","capacityInput","onKeyPress","if(this.value.length==4) return false;",3,"input","keydown"],[1,"col-md-12","text-end"],["type","button",3,"ngClass","disabled","click"],[1,"cursor-pointer",3,"click"],[1,"mt-1","px-2","filter-card"],[1,"col-md-2","text-center","px-0"],[1,"col-md-10","ps-2","choose-location"],[1,"mb-1","mt-0"],[1,"pb-0"],["appearance","outline"],["type","text","matInput","","placeholder","Search For Location"],[1,"row","m-0","locations","location-name"],["class","col-12 row cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"d-block","text-end"],["type","button",1,"ok-btn",3,"click"],[1,"col-12","row","cursor-pointer",3,"click"],[1,"col-md-8","fw-bold"],[1,"col-md-4","text-end","fw-bold","mt-1"],[1,"col-md-12","location-sub-text"],[1,"my-1"],[1,"mt-1","px-2","filter-cards"],["distancechipList",""],["appearance","outline",1,"mt-4"],["type","number","formControlName","kilometersInput","matInput","","placeholder","Enter The Kilometers Here","onKeyPress","if(this.value.length==6) return false;",3,"input","keydown"],[3,"ngClass","disabled","click"],[1,"spinner-pos"],[1,"hotel-cards"],[1,"row","px-5",2,"margin-top","25px"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"pt-1","mb-3",2,"height","332px","overflow","hidden"],[1,"col-md-12","px-0","card-img-part"],["data-bs-ride","carousel",1,"carousel","slide","card-img","position-relative",3,"id"],[1,"carousel-inner","card-img"],["type","button","data-bs-slide","prev",1,"carousel-control-prev","text-danger"],["aria-hidden","true",1,"carousel-control-prev-icon","text-danger"],[1,"visually-hidden","text-danger"],["type","button","data-bs-slide","next",1,"carousel-control-next","text-danger"],["aria-hidden","true",1,"carousel-control-next-icon","text-danger"],[1,"col","row"],[1,"col-md-12"],[1,"mb-0","fw-bold","hotel-name",3,"matTooltip"],[1,"row","w-100","m-0"],["class","col-md-auto px-0 mx-0","style","color: #DADADA;",4,"ngFor","ngForOf"],[1,"col-md-12","hotel-description",3,"matTooltip"],[1,"col","mt-2"],[1,"shadow-none","rooms-btn"],[1,"mb-0","fw-bold","text-center",3,"matTooltip"],[1,"mb-0","pb-1","text-center","rooms-available"],[1,"row","pe-1"],[1,"col-md-4","pe-2","room"],[1,"d-flex"],["src","../../../assets/images/single-bed.png","alt","",1,"room-type-img"],[1,"ps-1","pt-1","fw-bold","room-count",3,"matTooltip"],[1,"col-md-4","room"],["src","../../../assets/images/double-bed.png","alt","",1,"room-type-img"],["src","../../../assets/images/disabled.png","alt","",1,"room-type-img"],[1,"pt-1","fw-bold","room-count",3,"matTooltip"],[1,"col-md-4","mb-2"],[1,"card-btn"],[1,"pt-1","ps-1","fw-bold","room-fare",3,"matTooltip"],[1,"pt-1","room-sub-text","d-block"],[1,"pt-1","room-sub-text"],[1,"row","mt-2"],[1,"col-md-2"],[3,"change"],[1,"col-md-10"],[1,"card-btn","fw-bold","py-1","select-btn",3,"click"],["data-bs-toggle","modal","data-bs-target","#hotelSearchModal",1,"d-none"],["createLayoverModal",""],["class","carousel-item bg-white cursor-pointer card-img",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"carousel-item","bg-white","cursor-pointer","card-img",3,"ngClass","click"],["class","card-img","alt","",3,"src",4,"ngIf"],["alt","",1,"card-img",3,"src"],[1,"col-md-auto","px-0","mx-0",2,"color","#DADADA"],[1,"text-warning"],[1,"row","w-100","m-0","justify-content-between"],["class","carousel-footer-item px-2 p-3 col cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"carousel-footer-item","px-2","p-3","col","cursor-pointer",3,"ngClass","click"],[1,"d-flex",2,"cursor","pointer",3,"ngClass"],["alt","","data-bs-target","#carouselExampleControls",1,"carouselImg",3,"src"],["class","h-50 translate-middle badge rounded bg-danger",4,"ngIf"],[1,"me-2","ms-3","footer-col"],["data-bs-target","#carouselExampleControls",1,"text-color-primary","mb-1","carousel-footer-title","text-nowrap","fw-bold"],["role","status","class","spinner",4,"ngIf"],["class","text-color-primary mb-1 carousel-footer-count","data-bs-target","#carouselExampleControls",4,"ngIf"],[1,"h-50","translate-middle","badge","rounded","bg-danger"],["role","status",1,"spinner"],["data-bs-target","#carouselExampleControls",1,"text-color-primary","mb-1","carousel-footer-count"],[1,"row","justify-content-center","p-3"],[1,"col-md-4","col-lg-3"],["type","button","data-bs-dismiss","modal",1,"btn","layover-primary-btn","w-100","shadow-none",3,"click"],[1,"offcanvas-header","pb-1","row"],[1,"offcanvas-title","fw-bold"],[1,"col-md-7","text-end"],["type","button","aria-label","Close",1,"btn-close","shadow-none",2,"font-size","10px",3,"click"],[1,"offcanvas-body","pt-0"],[1,"offcanvas-header","border-bottom","mx-1"],[1,"offcanvas-body","px-4","mx-1"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4)(5,"img",5),t.NdJ("click",function(){return o.layoverService.navigate("/airlines")}),t.qZA(),t.TgZ(6,"button",6),t.NdJ("click",function(){return o.layoverService.navigate("/airlines")}),t._UZ(7,"i",7),t._uU(8," Back"),t.qZA()()(),t.TgZ(9,"div",8)(10,"div")(11,"form",9),t.NdJ("ngSubmit",function(){return o.getAllHotelsOnSearchForAirline()}),t.TgZ(12,"div",10)(13,"mat-card",11)(14,"div",12)(15,"div",13)(16,"label",14),t._uU(17,"Capacity"),t.qZA(),t.TgZ(18,"mat-form-field",15)(19,"input",16),t.NdJ("keydown",function(r){return o.layoverService.isValidPhoneNumber(r)}),t.qZA(),t.TgZ(20,"i",17),t.NdJ("click",function(){return o.capacityCardDisplay()}),t.qZA(),t.YNc(21,Ql,2,0,"mat-error",18),t.qZA()(),t.TgZ(22,"div",13)(23,"label",14),t._uU(24,"Location"),t.qZA(),t.TgZ(25,"mat-form-field",15),t._UZ(26,"input",19),t.TgZ(27,"i",17),t.NdJ("click",function(){return o.locationDisplay()}),t.qZA(),t.YNc(28,Bl,2,0,"mat-error",18),t.qZA()(),t.TgZ(29,"div",13)(30,"label",14),t._uU(31,"Kilometers"),t.qZA(),t.TgZ(32,"mat-form-field",20)(33,"input",21),t.NdJ("keydown",function(r){return o.layoverService.isValidDecimal(r)}),t.qZA(),t.TgZ(34,"i",17),t.NdJ("click",function(){return o.kilometerDisplay()}),t.qZA(),t.YNc(35,Yl,2,0,"mat-error",18),t.qZA()(),t.TgZ(36,"div",22)(37,"button",23),t._uU(38,"Search"),t.qZA()()()(),t.TgZ(39,"div",24)(40,"div",13),t.YNc(41,Rl,9,3,"mat-card",25),t.qZA(),t.TgZ(42,"div",13),t.YNc(43,jl,16,1,"mat-card",26),t.qZA(),t.TgZ(44,"div",13),t.YNc(45,$l,9,3,"mat-card",27),t.qZA()()()()()()(),t.YNc(46,Gl,2,0,"div",28),t.YNc(47,oa,3,1,"div",29),t.TgZ(48,"div",24)(49,"div",30)(50,"mat-card",31),t.YNc(51,aa,2,1,"div",32),t.YNc(52,sa,4,0,"div",33),t.qZA()()()(),t.YNc(53,ca,10,0,"ng-template",34,35,t.W1O),t.YNc(55,da,10,0,"ng-template",36,37,t.W1O),t.YNc(57,ma,10,0,"ng-template",38,39,t.W1O),t.YNc(59,ua,10,0,"ng-template",38,40,t.W1O),t.YNc(61,pa,6,0,"ng-template",38,41,t.W1O),t.TgZ(63,"app-hotel-search-edit",42),t.NdJ("listOfSelectedEmitter",function(){return[o.listOfSelectedHotels=[]]})("HotelInfoEvent",function(r){return o.resetData(r)}),t.qZA()),2&e){let i,r,s;t.xp6(5),t.Q6J("src",null==o.airlineDetails?null:o.airlineDetails.logoPath,t.LSH),t.xp6(6),t.Q6J("formGroup",o.findStaysForm),t.xp6(10),t.Q6J("ngIf",null==(i=o.findStaysForm.get("capacity"))||null==i.errors?null:i.errors.required),t.xp6(7),t.Q6J("ngIf",null==(r=o.findStaysForm.get("location"))||null==r.errors?null:r.errors.required),t.xp6(7),t.Q6J("ngIf",null==(s=o.findStaysForm.get("kilometers"))||null==s.errors?null:s.errors.required),t.xp6(6),t.Q6J("ngIf",o.capacityCard),t.xp6(2),t.Q6J("ngIf",o.locationCard),t.xp6(2),t.Q6J("ngIf",o.kilometerCard),t.xp6(1),t.Q6J("ngIf",o.hotelsLoading),t.xp6(1),t.Q6J("ngIf",!o.hotelsLoading),t.xp6(4),t.Q6J("ngIf",o.listOfSelectedHotels.length<=1),t.xp6(1),t.Q6J("ngIf",o.listOfSelectedHotels.length>1),t.xp6(11),t.Q6J("listOfSelectedHotels",o.listOfSelectedHotels)("HotelInfo",o.HotelInfo)}},directives:[a._Y,a.JL,a.sg,Y.a8,y.KE,a.wV,M.Nt,a.Fj,a.JJ,a.u,y.R9,v.O5,y.TO,J.qn,v.sg,J.HS,v.mk,E.Hw,G.$g,ml.gM,R.oG,V.R,tt,ot,nt,it,lt,Pl],styles:[".bg-img[_ngcontent-%COMP%]{background-image:url(https://cdn.pixabay.com/photo/2016/12/23/18/28/singapore-1927719_960_720.jpg);background-repeat:no-repeat;background-size:cover;position:fixed}[_nghost-%COMP%]  .mat-form-field-appearance-legacy .mat-form-field-label{color:#000;font-weight:700!important}.mat-form-field[_ngcontent-%COMP%]{font-size:16px!important;font-weight:bolder!important;font-family:Poppins!important;letter-spacing:.04rem!important}[_nghost-%COMP%]  .mat-select-arrow{border-left:10px solid transparent!important;border-right:10px solid transparent!important;border-top:10px solid!important;margin:0 34px!important;border-radius:5px!important}[_nghost-%COMP%]  .mat-select-arrow{color:#000!important}[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#707070;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#707070}[_nghost-%COMP%]  .popover-arrow{display:none!important}input[_ngcontent-%COMP%]::placeholder{font-size:12px}.dropdown-menu[_ngcontent-%COMP%]{margin:.525rem 0 0!important;font-size:.8rem!important;background-color:#ffffff4d!important;border:1px solid white!important;border-radius:.75rem!important}.dropdown-item[_ngcontent-%COMP%]:hover{color:#0a62b9!important;background-color:#fff!important;cursor:pointer}.dropdown-item[_ngcontent-%COMP%]{padding:.25rem .4rem!important}.mat-chip.mat-standard-chip[_ngcontent-%COMP%]{border:1px solid lightgray;background-color:#fff!important}.mat-standard-chip[_ngcontent-%COMP%]{border-radius:9px;height:0px;padding:1px 7px;font-size:11px;font-weight:600;color:gray}[_nghost-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-wrapper{margin:0!important}[_nghost-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-infix{padding:.4em 0!important}.my-chip[_ngcontent-%COMP%]   .mat-chip-selected[_ngcontent-%COMP%]{background-color:#000!important;color:#fff}.mat-icon[_ngcontent-%COMP%]{font-size:17px;color:#0a62b9}[_nghost-%COMP%]  .mat-form-field-underline{background-color:#fff!important}[_nghost-%COMP%]  .mat-form-field-appearance-legacy .mat-form-field-underline{display:none!important}.carousel-card[_ngcontent-%COMP%]{border-radius:8px}.mat-field[_ngcontent-%COMP%]{border-right:1px solid grey}.search-btn[_ngcontent-%COMP%]{padding:12px 10px;width:100%;background-color:#0a62b9;color:#fff}.location-name[_ngcontent-%COMP%]{height:98px;overflow-y:scroll}.locations[_ngcontent-%COMP%]{font-size:12px}.location-sub-text[_ngcontent-%COMP%]{font-size:9px}.ok-btn[_ngcontent-%COMP%]{background:#0a62b9;color:#fff;border:1px solid #0a62b9;padding:2px 12px;border-radius:4px;font-size:12px}.ok-btn1[_ngcontent-%COMP%]{background:gray;color:#fff;border:1px solid gray;padding:2px 12px;border-radius:4px;font-size:12px}.fa-star[_ngcontent-%COMP%]:before{color:#ecc700}.card-btn[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #0a62b9;border-radius:5px;width:100%}[_nghost-%COMP%]  .mat-checkbox-inner-container{height:28px!important;width:27px!important}[_nghost-%COMP%]  .mat-checkbox-frame{border-radius:12%!important}.select-btn[_ngcontent-%COMP%]{width:100%;color:#0a62b9;font-size:13px}.select-btn[_ngcontent-%COMP%]:hover{background-color:#d2f2d2}.choose-location[_ngcontent-%COMP%]{font-size:11px}.logo-text[_ngcontent-%COMP%]{font-size:30px}.card-img-part[_ngcontent-%COMP%]{border-top-left-radius:11px;border-top-right-radius:11px}.card-img[_ngcontent-%COMP%]{height:170px!important;width:100%!important;border-bottom-left-radius:0;border-bottom-right-radius:0}.hotel-name[_ngcontent-%COMP%]{font-size:15px;color:#0a62b9!important;overflow-wrap:break-word}.hotel-description[_ngcontent-%COMP%]{font-size:10px;color:#a5a5a5;overflow-wrap:break-word}.rooms-btn[_ngcontent-%COMP%]{width:100%;background-color:#0a62b9;border-radius:5px;color:#fff;outline:none;border:none}.rooms-available[_ngcontent-%COMP%]{font-size:10px}.room-type-img[_ngcontent-%COMP%]{height:15px;width:15px}.room-count[_ngcontent-%COMP%]{font-size:12px;color:#0a62b9}.room-fare[_ngcontent-%COMP%]{font-size:13px;color:#0a62b9;white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis}.room-sub-text[_ngcontent-%COMP%]{font-size:10px;color:#a5a5a5}.carousel-footer-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;letter-spacing:.01rem}.carousel-footer-count[_ngcontent-%COMP%]{font-size:14px;font-weight:700;letter-spacing:.03rem}.carouselImg[_ngcontent-%COMP%]{height:35px;width:35px}label[_ngcontent-%COMP%]{font-size:13px;color:#707070!important}.carousel-item[_ngcontent-%COMP%]:before{background-color:#00000080!important}.filter-cards[_ngcontent-%COMP%]{position:absolute;z-index:1}.filter-card[_ngcontent-%COMP%]{position:absolute;z-index:1;width:15%!important}.hotel-cards[_ngcontent-%COMP%]{height:calc(100% - 220px);overflow-x:hidden;overflow-y:scroll}[_nghost-%COMP%]  .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#fff}[_nghost-%COMP%]  .w-90{width:95%!important}.badge[_ngcontent-%COMP%]{padding:0 .3em!important;line-height:1.5}@media only screen and (max-width: 1112px){.star[_ngcontent-%COMP%]{padding-right:.1rem!important}.hotel-name[_ngcontent-%COMP%]{font-size:12px}.room-type-img[_ngcontent-%COMP%]{height:13px;width:13px}.room[_ngcontent-%COMP%]{padding:5px}.room-count[_ngcontent-%COMP%]{padding-left:.1rem!important}.hotel-description[_ngcontent-%COMP%], .rooms-available[_ngcontent-%COMP%]{font-size:9px}.room-fare[_ngcontent-%COMP%]{font-size:11px}.room-sub-text[_ngcontent-%COMP%]{font-size:8px}.room-count[_ngcontent-%COMP%]{font-size:9px}.carousel-footer-title[_ngcontent-%COMP%], .carousel-footer-count[_ngcontent-%COMP%]{font-size:12px}.mat-icon[_ngcontent-%COMP%]{width:19px!important}}@media only screen and (max-width: 1090px){.footer-col[_ngcontent-%COMP%]{margin-left:.5rem!important}.hotel-name[_ngcontent-%COMP%]{font-size:11px}}[_nghost-%COMP%]  .mat-chip.mat-standard-chip.mat-chip-selected.mat-primary{background-color:#0a62b9!important;color:#fff!important;border:none!important}"]}),n})(),canActivate:[j.a],data:{module:"airline"}},{path:"hotel-search-view",component:dl,canActivate:[j.a],data:{module:"airline"}}];let fa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[L.Bz.forChild(_a)],L.Bz]}),n})();var ha=C(9724);let va=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[v.ez,fa,ha.m]]}),n})()}}]);